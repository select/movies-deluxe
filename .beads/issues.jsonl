{"id":"movies-deluxe-022t","title":"Add semantic search support to admin movie search API","description":"Ensure the admin movie search can perform semantic (vector) search.\n\nOptions:\n1. Add searchMode parameter to /api/admin/movies/search endpoint\n2. OR call the vector search composable directly from the client\n\nPreferred approach: Call useVectorSearch composable from AdminMovieSearch component when searchMode is 'semantic'. This matches how /search page works.\n\nThe vector search should:\n- Generate embedding for the query\n- Search vec_movies table\n- Apply filters (year, rating, genres, etc.) as WHERE clause\n- Return results","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T23:52:04.81192475+01:00","updated_at":"2026-01-18T23:58:18.493933291+01:00","closed_at":"2026-01-18T23:58:18.493933291+01:00","dependencies":[{"issue_id":"movies-deluxe-022t","depends_on_id":"movies-deluxe-zo3y","type":"blocks","created_at":"2026-01-18T23:52:13.044073201+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-02ka","title":"Add quality filtering stats to admin dashboard","description":"Update app/pages/admin/index.vue to display count of marked movies, breakdown by label type, and visual chart of quality issues. Show accurate statistics for admin monitoring.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-31T04:04:08.911200136+01:00","updated_at":"2026-01-02T11:25:01.972218375+01:00","closed_at":"2026-01-02T11:25:01.972218375+01:00","dependencies":[{"issue_id":"movies-deluxe-02ka","depends_on_id":"movies-deluxe-03to","type":"blocks","created_at":"2025-12-31T04:04:53.422739482+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-02ka","depends_on_id":"movies-deluxe-sw4m","type":"blocks","created_at":"2026-01-02T02:36:59.267470802+01:00","created_by":"linux-falko"}]}
{"id":"movies-deluxe-03to","title":"Add quality marking UI to Admin Curation panel","description":"Create QualityMarkingDialog component (app/components/admin/QualityMarkingDialog.vue) with checkboxes for quality labels and notes field. Integrate into app/pages/admin/curation.vue with Mark Quality button, visual badges for marked movies, and clear functionality.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T04:04:02.256263243+01:00","updated_at":"2026-01-02T11:08:53.837536694+01:00","closed_at":"2026-01-02T11:08:53.837536694+01:00","dependencies":[{"issue_id":"movies-deluxe-03to","depends_on_id":"movies-deluxe-duev","type":"blocks","created_at":"2025-12-31T04:04:49.47007417+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-03to","depends_on_id":"movies-deluxe-sw4m","type":"blocks","created_at":"2026-01-02T02:36:57.314276599+01:00","created_by":"linux-falko"}]}
{"id":"movies-deluxe-04aa","title":"Implement on-demand movie detail loading","description":"Create a new API endpoint and frontend logic to load individual movie JSON files when navigating to movie detail pages. Implement caching to avoid repeated requests for the same movie.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-02T13:08:10.629265458+01:00","updated_at":"2026-01-02T14:09:46.266866744+01:00","closed_at":"2026-01-02T14:09:46.266866744+01:00","dependencies":[{"issue_id":"movies-deluxe-04aa","depends_on_id":"movies-deluxe-597j","type":"blocks","created_at":"2026-01-02T13:09:05.964619357+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-04aa","depends_on_id":"movies-deluxe-wwl0","type":"discovered-from","created_at":"2026-01-02T13:09:31.468727869+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-08g3","title":"Create HomeExploreMoreCard component","description":"Create card component for 'Explore more [Collection]' link at end of each row. Same size as HomeCollectionCard, navigates to /collections/{collectionId}.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T16:21:22.276477555+01:00","updated_at":"2026-01-08T17:18:49.701175277+01:00","closed_at":"2026-01-08T17:18:49.701175277+01:00","dependencies":[{"issue_id":"movies-deluxe-08g3","depends_on_id":"movies-deluxe-i5ag","type":"discovered-from","created_at":"2026-01-08T16:21:43.831883378+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-0dfk","title":"Implement 'Similar Movies' feature using vector search","description":"Add similar movies section to movie detail pages:\n- Query vec_movies for nearest neighbors to current movie\n- Display top 10 similar movies with similarity scores\n- Use existing MovieCard component for display\n- Add 'Why similar?' tooltip showing matching attributes\n- Cache results in movie store","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T01:47:59.569168032+01:00","updated_at":"2026-01-13T21:32:58.789857461+01:00","closed_at":"2026-01-13T21:32:58.789857461+01:00","dependencies":[{"issue_id":"movies-deluxe-0dfk","depends_on_id":"movies-deluxe-d98y","type":"blocks","created_at":"2026-01-12T01:48:13.165428082+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-0jhh","title":"Consolidate collection mutation endpoints into single update API","description":"Refactor collection management API to use a single unified endpoint instead of multiple specialized endpoints.\n\nCurrent state:\n- Multiple endpoints: add-query.post.ts, remove-query.post.ts, update-tags.post.ts, add-movie.post.ts, remove-movie.post.ts, update.post.ts\n- Each endpoint reads/writes collections.json separately\n- Potential race conditions with concurrent updates\n- More complex client-side logic\n\nProposed solution:\nCreate server/api/admin/collections/update-collection.post.ts that handles:\n- Collection metadata updates (name, description)\n- Tag updates (add, remove, set)\n- Saved query management (add, remove, update)\n- Movie list updates (add, remove movies)\n- Batch operations in single transaction\n\nBenefits:\n- Single source of truth for collection updates\n- Atomic operations (all-or-nothing updates)\n- Reduced file I/O operations\n- Simpler client-side API calls\n- Better error handling and validation\n- Easier to add optimistic locking if needed\n\nImplementation:\n- Create unified endpoint with operation-based payload\n- Support partial updates (only send changed fields)\n- Maintain backward compatibility or migrate existing calls\n- Update collections store methods to use new endpoint\n- Update all admin components to use unified API\n- Add comprehensive validation\n- Deprecate old endpoints after migration\n\nPayload structure example:\n{\n  collectionId: string,\n  updates: {\n    name?: string,\n    description?: string,\n    tags?: { action: 'set' | 'add' | 'remove', values: string[] },\n    queries?: { action: 'add' | 'remove' | 'update', query: SavedQuery },\n    movies?: { action: 'add' | 'remove', movieIds: string[] }\n  }\n}","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T23:17:51.350971725+01:00","updated_at":"2026-01-05T23:25:13.106890973+01:00","closed_at":"2026-01-05T23:25:13.106890973+01:00","dependencies":[{"issue_id":"movies-deluxe-0jhh","depends_on_id":"movies-deluxe-1hjk","type":"blocks","created_at":"2026-01-05T23:17:55.656226658+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-0mv0","title":"Fix MovieCard error: movie.imdbId is undefined","description":"MovieCard.vue line 10 throws error when movie.imdbId is undefined. Need to add null checks and handle missing imdbId gracefully.","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-03T01:05:08.050772051+01:00","updated_at":"2026-01-03T01:06:34.361234843+01:00","closed_at":"2026-01-03T01:06:34.361234843+01:00"}
{"id":"movies-deluxe-0wmd","title":"Document vector search usage and maintenance","description":"Update documentation:\n- Add vector search section to README\n- Document embedding regeneration process\n- Add troubleshooting guide\n- Document Ollama setup requirements\n- Add examples of semantic queries","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-12T01:48:01.721492185+01:00","updated_at":"2026-01-13T21:56:40.239600551+01:00","closed_at":"2026-01-13T21:56:40.239609482+01:00","dependencies":[{"issue_id":"movies-deluxe-0wmd","depends_on_id":"movies-deluxe-gac4","type":"blocks","created_at":"2026-01-12T01:48:16.609237026+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-14or","title":"separate theme selector into its own component","description":"Extract the theme selector from the filter menu into its own component that opens and looks the same as the filter menu","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T01:15:37.515835872+01:00","updated_at":"2026-01-10T01:27:28.469406704+01:00","closed_at":"2026-01-10T01:27:28.469406704+01:00"}
{"id":"movies-deluxe-15e5","title":"Add size field from Archive.org to export and data types","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T23:30:32.402832668+01:00","updated_at":"2026-01-06T23:51:21.021660793+01:00","closed_at":"2026-01-06T23:51:21.021660793+01:00"}
{"id":"movies-deluxe-1buu","title":"Configure release-it to skip pnpm build:prod","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T20:54:40.553395501+01:00","updated_at":"2026-01-06T20:54:59.472333594+01:00","closed_at":"2026-01-06T20:54:59.472333594+01:00"}
{"id":"movies-deluxe-1d1r","title":"Add hybrid search combining FTS5 and vector search","description":"Enhance app/stores/useMovieStore.ts searchMovies():\n- Add searchMode parameter: 'keyword' | 'semantic' | 'hybrid'\n- For hybrid: run both FTS5 and vector search\n- Merge results using reciprocal rank fusion\n- Weight keyword matches higher for exact title matches\n- Add performance metrics logging","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-12T01:47:58.029502015+01:00","updated_at":"2026-01-13T21:25:17.369015172+01:00","closed_at":"2026-01-13T21:25:17.369015172+01:00","dependencies":[{"issue_id":"movies-deluxe-1d1r","depends_on_id":"movies-deluxe-d98y","type":"blocks","created_at":"2026-01-12T01:48:11.28874322+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-1g5l","title":"Remove unused filteredAndSortedMovies and fetchLightweightMovies from movie store","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:13:34.020739723+01:00","updated_at":"2026-01-13T00:21:11.431717835+01:00","closed_at":"2026-01-13T00:21:11.431717835+01:00"}
{"id":"movies-deluxe-1hjk","title":"Create API endpoints for managing collection queries and tags","description":"Create new API endpoints in server/api/admin/collections/:\n- add-query.post.ts: Add a saved search/filter combination to a collection\n- remove-query.post.ts: Remove a saved query from a collection\n- update-tags.post.ts: Update collection tags\n- refresh-from-query.post.ts: Refresh collection movies based on a saved query\nUpdate server/utils/collections.ts with helper functions.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-05T22:52:59.611947233+01:00","updated_at":"2026-01-05T23:02:52.292637209+01:00","closed_at":"2026-01-05T23:02:52.292637209+01:00","dependencies":[{"issue_id":"movies-deluxe-1hjk","depends_on_id":"movies-deluxe-6k5e","type":"blocks","created_at":"2026-01-05T22:53:27.294369606+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-1ogj","title":"Advanced Collection Manager - Epic","description":"Implement advanced collection management features including dynamic search/filter combinations, tags, and automated collection refresh capabilities in the admin interface.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-05T22:52:44.831995025+01:00","updated_at":"2026-01-05T23:20:10.823759903+01:00","closed_at":"2026-01-05T23:20:10.823759903+01:00"}
{"id":"movies-deluxe-21vm","title":"Remove FilterSection.vue component","description":"Delete FilterSection.vue component as it's no longer needed.\n\nRequirements:\n- Delete app/components/FilterSection.vue\n- Verify no other components import or reference FilterSection\n- Check for any remaining references in codebase\n\nLocation: app/components/FilterSection.vue\n\nDependencies: FilterMenu removal must be complete","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T04:23:39.057357977+01:00","updated_at":"2026-01-11T04:38:40.938868384+01:00","closed_at":"2026-01-11T04:38:40.938868384+01:00","dependencies":[{"issue_id":"movies-deluxe-21vm","depends_on_id":"movies-deluxe-owcq","type":"blocks","created_at":"2026-01-11T04:25:30.531809062+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-2fdu","title":"Remove unnecessary loadFromFile() from movie detail page","description":"Remove the loadFromFile() call from movie/[id].vue page (line 518). The page should work without loading the entire database. Only initialize DB if needed for related movies. Ensure getMovieById() works independently by fetching from JSON files.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:03:25.396389405+01:00","updated_at":"2026-01-10T22:11:01.654391496+01:00","closed_at":"2026-01-10T22:11:01.654391496+01:00","dependencies":[{"issue_id":"movies-deluxe-2fdu","depends_on_id":"movies-deluxe-fljq","type":"blocks","created_at":"2026-01-10T22:03:50.413065987+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-2lyt","title":"Remove deprecated getCollectionsForMovie method and update usages","description":"Remove deprecated getCollectionsForMovie method from useCollectionsStore.\n\nIssue:\nConsole warning: '[CollectionsStore] getCollectionsForMovie is deprecated - use movie.collections instead'\nLocation: useCollectionsStore.ts:90:13\n\nTasks:\n1. Find all usages of getCollectionsForMovie in the codebase\n2. Update code to use movie.collections property instead\n3. Remove the deprecated getCollectionsForMovie method from store\n4. Verify no console warnings remain","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T22:41:23.427983343+01:00","updated_at":"2026-01-02T22:45:44.122065471+01:00","closed_at":"2026-01-02T22:45:44.122065471+01:00"}
{"id":"movies-deluxe-2oac","title":"Integrate SavedQueryManager into admin collections page","description":"Update app/pages/admin/collections/index.vue to:\n- Add SavedQueryManager component below Search Library section\n- Pass current filter state from AdminMovieSearch to SavedQueryManager\n- Add 'Save Current Query' button in AdminMovieSearch section\n- Wire up all event handlers for query management\n- Update layout to accommodate new section","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T22:53:08.546504908+01:00","updated_at":"2026-01-05T23:15:56.700954633+01:00","closed_at":"2026-01-05T23:15:56.700954633+01:00","dependencies":[{"issue_id":"movies-deluxe-2oac","depends_on_id":"movies-deluxe-kv9x","type":"blocks","created_at":"2026-01-05T22:53:31.743413547+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-2oac","depends_on_id":"movies-deluxe-mda0","type":"blocks","created_at":"2026-01-05T22:53:32.252358862+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-2qg6","title":"Extend source quality with 'clip' and create script to update movie sources","description":"Extend the source quality enum to include 'clip' as a new quality option. Create a script that automatically sets the quality to 'clip' for movies that meet these criteria: 1) Have a tt (IMDb) ID, 2) Do not have the 'short' genre, 3) Have a file size below 100MB. This will help categorize smaller movie files that are likely clips or trailers.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-10T19:03:42.922724131+01:00","updated_at":"2026-01-10T21:02:23.025219589+01:00","closed_at":"2026-01-10T21:02:23.025219589+01:00"}
{"id":"movies-deluxe-2v06","title":"Search UI: Link sidebar magnifier to /search, manage SearchHeader visibility, and remove filter icon","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T17:44:24.894230422+01:00","updated_at":"2026-01-08T18:17:49.899784699+01:00","closed_at":"2026-01-08T18:17:49.899784699+01:00"}
{"id":"movies-deluxe-2v7c","title":"Update collections/[id].vue to use collection data from movie objects","description":"Update collections/[id].vue to use collection data from movie objects instead of getCollectionById.\n\nCurrent issue:\n- Page uses getCollectionById() to fetch collection with movies\n- Should instead fetch movies and use their embedded collection data\n\nChanges needed:\n1. Remove getCollectionById usage\n2. Fetch collection metadata from collections API\n3. Fetch movies by IDs and use their embedded data\n4. Update page logic to work with new data structure","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T22:46:53.419164345+01:00","updated_at":"2026-01-02T22:49:24.266851458+01:00","closed_at":"2026-01-02T22:49:24.266851458+01:00"}
{"id":"movies-deluxe-32pw","title":"remember scroll position for collection movie grid","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-04T01:06:04.835934276+01:00","updated_at":"2026-01-04T01:09:46.819331386+01:00","closed_at":"2026-01-04T01:09:46.819331386+01:00"}
{"id":"movies-deluxe-333b","title":"Home Page: Implement skeleton loaders for HomeCollectionRow and fix horizontal scroll position","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T17:49:07.829578103+01:00","updated_at":"2026-01-08T17:59:01.762019133+01:00","closed_at":"2026-01-08T17:59:01.762019133+01:00"}
{"id":"movies-deluxe-36aw","title":"Add 3-5 descriptive tags to each collection","description":"Add 3-5 relevant descriptive tags to each collection in public/data/collections.json to improve discoverability and categorization.\n\nCurrent state:\n- Most collections have empty tags arrays\n- Only 'charlie-chaplin' collection has 1 tag: ['comedy']\n\nCollections to tag (9 total):\n1. top-movies - Currently has no tags\n2. charlie-chaplin - Has ['comedy'], could add more\n3. animation-shorts - Currently has no tags\n4. martial-arts - Currently has no tags\n5. canine-cinema - Currently has no tags\n6. buster-keaton - Currently has no tags\n7. criterion-collection - Currently has no tags\n8. abbott-and-costello - Currently has no tags\n9. akira-kurosawa - Currently has no tags\n\nTag suggestions by collection:\n- top-movies: ['classics', 'highly-rated', 'must-watch', 'cinema-history', 'masterpieces']\n- charlie-chaplin: ['comedy', 'silent-film', 'slapstick', 'classic-hollywood', 'shorts']\n- animation-shorts: ['animation', 'shorts', 'golden-age', 'cartoons', 'family']\n- martial-arts: ['action', 'kung-fu', 'martial-arts', 'asian-cinema', 'fight-scenes']\n- canine-cinema: ['family', 'animals', 'dogs', 'heartwarming', 'adventure']\n- buster-keaton: ['comedy', 'silent-film', 'slapstick', 'physical-comedy', 'classic-hollywood']\n- criterion-collection: ['classics', 'art-house', 'prestigious', 'restored', 'cinema-history']\n- abbott-and-costello: ['comedy', 'classic-hollywood', 'duo', 'slapstick', 'wordplay']\n- akira-kurosawa: ['japanese-cinema', 'samurai', 'drama', 'masterpieces', 'auteur']\n\nImplementation:\n- Manually edit public/data/collections.json\n- Add 3-5 tags per collection from suggestions above\n- Ensure tags are lowercase, hyphenated for multi-word tags\n- Update lastUpdated timestamp in _schema\n- Test that tags display correctly in the UI","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T00:31:23.39117987+01:00","updated_at":"2026-01-06T00:56:04.720126797+01:00","closed_at":"2026-01-06T00:56:04.720126797+01:00"}
{"id":"movies-deluxe-3a0c","title":"Add documentation for bge-micro-v2 embedding script","description":"Document the new embedding generation script:\n\n1. Add usage instructions (how to run the script)\n2. Document CLI arguments (--limit)\n3. Explain differences from Ollama approach (384 vs 768 dimensions, client-side vs server-side)\n4. Note model storage location (/models/bge-micro-v2/)\n5. Document database location (data/bge-micro-embeddings.db)\n6. Add example output showing markdown input and embedding\n\nConsider adding to existing documentation or creating a new doc in history/ directory.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-19T23:59:37.064850423+01:00","updated_at":"2026-01-20T00:02:55.394825322+01:00","closed_at":"2026-01-20T00:02:55.394825322+01:00","dependencies":[{"issue_id":"movies-deluxe-3a0c","depends_on_id":"movies-deluxe-iacl","type":"blocks","created_at":"2026-01-19T23:59:42.550258164+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-3eax","title":"Optimize search performance - reduce redundant database calls","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-11T00:40:03.295050618+01:00","updated_at":"2026-01-11T00:46:06.587626173+01:00","closed_at":"2026-01-11T00:46:06.587626173+01:00"}
{"id":"movies-deluxe-3gpe","title":"Create FilterPopup container component","description":"Create FilterPopup.vue component for popup menus that appear below filter buttons.\n\nRequirements:\n- Props: isOpen (boolean), position (object), title (string)\n- Emits: close\n- Handle positioning below button (use floating-ui or similar)\n- Handle viewport edges (flip to top if needed)\n- Backdrop/overlay for click-outside detection\n- ESC key closes popup\n- Focus trap for accessibility\n- Smooth open/close animation\n- Z-index management\n- Mobile: consider full-screen overlay for complex filters\n\nLocation: app/components/FilterPopup.vue","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T04:21:11.516230682+01:00","updated_at":"2026-01-11T04:30:41.796030604+01:00","closed_at":"2026-01-11T04:30:41.796030604+01:00","dependencies":[{"issue_id":"movies-deluxe-3gpe","depends_on_id":"movies-deluxe-qq6m","type":"blocks","created_at":"2026-01-11T04:24:58.524489962+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-3i06","title":"Optimize movie store: remove allMovies map, add allMoviesCount, optimize fetchMovies for ID-only queries","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:23:30.980006155+01:00","updated_at":"2026-01-13T05:44:06.610549519+01:00","closed_at":"2026-01-13T05:44:06.610553957+01:00"}
{"id":"movies-deluxe-3mek","title":"Remove nomic from client-side, keep only bge and potion for browser","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:09:09.559182148+01:00","updated_at":"2026-01-25T19:11:32.391040833+01:00","closed_at":"2026-01-25T19:11:32.391040833+01:00"}
{"id":"movies-deluxe-3mth","title":"Add documentation for Advanced Collection Manager","description":"Create documentation in history/ directory:\n- User guide for admin interface\n- Explain saved queries feature\n- Explain tags feature\n- Explain refresh functionality\n- Include screenshots/examples\n- Document API endpoints\n- Add troubleshooting section","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T22:53:22.099925497+01:00","updated_at":"2026-01-05T23:19:55.162259559+01:00","closed_at":"2026-01-05T23:19:55.162259559+01:00","dependencies":[{"issue_id":"movies-deluxe-3mth","depends_on_id":"movies-deluxe-2oac","type":"blocks","created_at":"2026-01-05T22:53:35.944980072+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-3mth","depends_on_id":"movies-deluxe-58yg","type":"blocks","created_at":"2026-01-05T22:53:36.444928147+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-3n2s","title":"Use AI-extracted metadata for OMDB enrichment fallback","description":"When enriching movies with OMDB metadata, improve the matching strategy:\n\n1. First, check if the movie has an 'ai' field with AI-extracted title\n2. If ai.title exists, try OMDB enrichment with ai.title + year from primary source (movie.year)\n3. If that fails or no AI metadata exists, fall back to using the primary title (movie.title) + year from primary source (movie.year)\n\nThis will improve OMDB match rates for movies with promotional or messy source titles that have been cleaned by AI extraction, while still using the reliable year from the primary source.\n\nImplementation notes:\n- Update OMDB enrichment logic in server/utils/omdb.ts or relevant enrichment scripts\n- Check for movie.ai?.title before falling back to movie.title\n- Always use movie.year (NOT movie.ai?.year) for year parameter\n- Log which title was used (AI vs primary) for debugging purposes","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T20:19:11.001287689+01:00","updated_at":"2026-01-02T20:23:01.112805112+01:00","closed_at":"2026-01-02T20:23:01.112805112+01:00"}
{"id":"movies-deluxe-43z7","title":"Allow drag and drop sort collections in collection editor select collections","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-19T00:37:01.715686247+01:00","updated_at":"2026-01-19T23:22:57.683793712+01:00","closed_at":"2026-01-19T23:22:57.683798714+01:00"}
{"id":"movies-deluxe-4ghp","title":"Add database switching mechanism for different embedding models","description":"Implement mechanism to switch between different embedding database files (embeddings-nomic-movies.db, embeddings-bge-micro-movies.db, embeddings-potion-movies.db) when user selects a different model. This could involve: (A) loading different DB file, (B) having all embeddings in one DB with model column, or (C) regenerating embeddings on-demand.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-20T23:44:10.289905594+01:00","updated_at":"2026-01-20T23:45:50.960827703+01:00","closed_at":"2026-01-20T23:45:50.960827703+01:00"}
{"id":"movies-deluxe-4iqg","title":"Hide search on non-home pages and remove filtering from collections/liked","description":"Always hide the search functionality when not on the home page (/). Remove search filtering capability from /collections and /liked-movies pages, as search should only work on the home page.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T22:43:02.814794316+01:00","updated_at":"2026-01-05T22:44:59.021410946+01:00","closed_at":"2026-01-05T22:44:59.021410946+01:00"}
{"id":"movies-deluxe-4nc9","title":"Remove redundant savedPage localStorage - currentPage already persisted in filters","description":"The currentPage is already part of filters which uses useStorage('movies-deluxe-filters'), so it's automatically persisted to localStorage. The separate savedPage useStorage('movies-deluxe-saved-page') is redundant and should be removed from index.vue.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T19:40:28.134123722+01:00","updated_at":"2026-01-02T19:41:35.76464371+01:00","closed_at":"2026-01-02T19:41:35.76464371+01:00"}
{"id":"movies-deluxe-4p96","title":"Add public/movies/ to .gitignore","description":"Add public/movies/ directory to .gitignore to prevent individual movie JSON files from being committed to git. This directory will contain 31k+ JSON files that should not be in version control.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T13:07:12.500251753+01:00","updated_at":"2026-01-02T13:54:56.534835749+01:00","closed_at":"2026-01-02T13:54:56.534835749+01:00","dependencies":[{"issue_id":"movies-deluxe-4p96","depends_on_id":"movies-deluxe-wwl0","type":"discovered-from","created_at":"2026-01-02T13:09:18.139953219+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-4sbb","title":"Create API endpoint for movie search","description":"Create /api/admin/movies/search.get.ts that accepts query params (q for search term, fields to search in) and searches movies.json for matches in title, director, writer, actors, plot. Use server/utils/movieData.ts loadMoviesDatabase() to load data. Return array of matching MovieEntry objects with relevant fields (imdbId, title, year, metadata.Poster, metadata.Director, metadata.Writer, metadata.Plot). Implement case-insensitive search across multiple fields.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T20:47:10.019094732+01:00","updated_at":"2026-01-03T21:40:24.424626803+01:00","closed_at":"2026-01-03T21:40:24.424626803+01:00"}
{"id":"movies-deluxe-4uhu","title":"Add CLI argument parsing for model selection","description":"Update scripts/generate-sqlite.ts to accept --embedding-model and --skip-json CLI flags. Add help text and validation.\n\nFiles to modify:\n- scripts/generate-sqlite.ts\n\nRequirements:\n- Use node:util parseArgs for argument parsing\n- Add --embedding-model (-m) flag\n- Add --skip-json flag\n- Add --help (-h) flag with usage examples\n- Validate model selection against available models\n- Show helpful error for invalid model\n- Pass options to generateSQLite()\n- Default to nomic model if not specified","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T23:19:05.712575851+01:00","updated_at":"2026-01-20T23:24:32.215815341+01:00","closed_at":"2026-01-20T23:24:32.215815341+01:00","dependencies":[{"issue_id":"movies-deluxe-4uhu","depends_on_id":"movies-deluxe-wxzz","type":"discovered-from","created_at":"2026-01-20T23:19:44.009445418+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-4uhu","depends_on_id":"movies-deluxe-kbsf","type":"blocks","created_at":"2026-01-20T23:19:50.657804726+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-4uhu","depends_on_id":"movies-deluxe-jtze","type":"blocks","created_at":"2026-01-20T23:19:51.170534443+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-4ww8","title":"Improve skeleton loaders in collections page to match actual CollectionCard layout","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T00:38:49.481426876+01:00","updated_at":"2026-01-12T22:11:02.140895528+01:00","closed_at":"2026-01-12T22:11:02.140895528+01:00"}
{"id":"movies-deluxe-5568","title":"Create Abbott and Costello collection and populate with Bud Abbott movies","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T19:46:25.272574857+01:00","updated_at":"2026-01-03T20:08:43.180559299+01:00","closed_at":"2026-01-03T20:08:43.180559299+01:00"}
{"id":"movies-deluxe-55mh","title":"Fix useDatabase count type resolution","description":"useDatabase.ts:289 - resolve(count) where count is 'unknown' type. Need proper type assertion or narrowing.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-25T21:49:36.001062416+01:00","updated_at":"2026-01-25T22:17:36.139519377+01:00","closed_at":"2026-01-25T22:17:36.139519377+01:00"}
{"id":"movies-deluxe-57gi","title":"Test all filter interactions and functionality","description":"Comprehensive testing of all filter interactions in new header design.\n\nTest cases:\n- Each filter type works correctly (sort, rating, year, votes, genres, countries, source)\n- Popup positioning on all screen sizes (mobile, tablet, desktop)\n- Popup opens/closes correctly\n- Active state indicators show correct values\n- Clear individual filters works\n- Clear all filters works\n- Filter state persists on navigation\n- Filter state persists on page reload (localStorage)\n- Multiple filters can be active simultaneously\n- Votes logarithmic slider works correctly\n- Database queries execute correctly with filters\n- Performance is acceptable (no lag)\n\nLocation: Manual testing on /search page\n\nDependencies: All components must be complete","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T04:24:12.874032594+01:00","updated_at":"2026-01-11T04:39:28.205366328+01:00","closed_at":"2026-01-11T04:39:28.205366328+01:00","dependencies":[{"issue_id":"movies-deluxe-57gi","depends_on_id":"movies-deluxe-ioaw","type":"blocks","created_at":"2026-01-11T04:25:51.346512007+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-57gi","depends_on_id":"movies-deluxe-vi5p","type":"blocks","created_at":"2026-01-11T04:25:51.388161809+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-58yg","title":"Integrate CollectionTagsEditor into admin collections page","description":"Update app/pages/admin/collections/index.vue to:\n- Add CollectionTagsEditor component in collection header/metadata section\n- Position near collection title and description\n- Wire up tag update handlers\n- Ensure proper data flow between components","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T22:53:10.017396407+01:00","updated_at":"2026-01-05T23:15:56.706527656+01:00","closed_at":"2026-01-05T23:15:56.706527656+01:00","dependencies":[{"issue_id":"movies-deluxe-58yg","depends_on_id":"movies-deluxe-ob54","type":"blocks","created_at":"2026-01-05T22:53:32.775401355+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-597j","title":"Update SQLite generation script","description":"Modify scripts/generate-sqlite.ts to use the lightweight schema and generate individual movie JSON files. Ensure the database only contains essential fields while full movie data is written to separate JSON files.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-02T13:07:50.245390679+01:00","updated_at":"2026-01-02T13:55:00.935182534+01:00","closed_at":"2026-01-02T13:55:00.935182534+01:00","dependencies":[{"issue_id":"movies-deluxe-597j","depends_on_id":"movies-deluxe-gxjj","type":"blocks","created_at":"2026-01-02T13:08:57.520016693+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-597j","depends_on_id":"movies-deluxe-bpm5","type":"blocks","created_at":"2026-01-02T13:09:00.160750431+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-597j","depends_on_id":"movies-deluxe-wwl0","type":"discovered-from","created_at":"2026-01-02T13:09:26.110188846+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-5bqx","title":"Create genre-based collections with saved queries","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T02:06:57.055919755+01:00","updated_at":"2026-01-07T02:07:47.785437626+01:00","closed_at":"2026-01-07T02:07:47.785437626+01:00"}
{"id":"movies-deluxe-5dji","title":"Add per-row data fetching to MovieVirtualGrid","description":"Modify MovieVirtualGrid component to fetch full movie data per-row using fetchMoviesByIds(). Each visible row should trigger a separate fetch for its movies. Implement proper loading states and error handling. Ensure smooth scrolling is maintained.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:03:22.185106841+01:00","updated_at":"2026-01-10T22:10:30.529720293+01:00","closed_at":"2026-01-10T22:10:30.529720293+01:00","dependencies":[{"issue_id":"movies-deluxe-5dji","depends_on_id":"movies-deluxe-fljq","type":"blocks","created_at":"2026-01-10T22:03:49.8443204+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-5dji","depends_on_id":"movies-deluxe-im84","type":"blocks","created_at":"2026-01-10T22:03:49.99534775+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-5ei6","title":"Optimize related movies loading","description":"Update getRelatedMovies() in movie store to use fetchMoviesByIds() with specific IDs instead of loading all movies. Ensure it only initializes DB if not already initialized. Add proper error handling and loading states.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:03:26.894728976+01:00","updated_at":"2026-01-10T22:11:01.662582586+01:00","closed_at":"2026-01-10T22:11:01.662582586+01:00","dependencies":[{"issue_id":"movies-deluxe-5ei6","depends_on_id":"movies-deluxe-fljq","type":"blocks","created_at":"2026-01-10T22:03:50.515770829+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-5ejd","title":"Enhance AdminCollectionSelector with tags display","description":"Update app/components/AdminCollectionSelector.vue to:\n- Display collection tags below description\n- Add filter/search by tags functionality\n- Show tag count badge\n- Improve visual hierarchy with tags","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T22:53:06.648789772+01:00","updated_at":"2026-01-05T23:16:30.45971268+01:00","closed_at":"2026-01-05T23:16:30.45971268+01:00","dependencies":[{"issue_id":"movies-deluxe-5ejd","depends_on_id":"movies-deluxe-sw18","type":"blocks","created_at":"2026-01-05T22:53:33.203590926+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-5hoz","title":"Audit and optimize / (index) page","description":"Review the index page and apply lazy loading optimizations if needed. Check if it loads all movies unnecessarily. Implement similar optimizations as search page if applicable.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T22:03:29.858312172+01:00","updated_at":"2026-01-10T22:20:14.053635385+01:00","closed_at":"2026-01-10T22:20:14.053635385+01:00","dependencies":[{"issue_id":"movies-deluxe-5hoz","depends_on_id":"movies-deluxe-im84","type":"blocks","created_at":"2026-01-10T22:03:51.364697231+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-5k9n","title":"Implement automatic changelog and release creation with release-it","description":"Set up automated changelog generation and release management using release-it (https://github.com/release-it/release-it).\n\nFeatures to implement:\n- Install and configure release-it package\n- Configure conventional-changelog plugin for automatic CHANGELOG.md generation\n- Set up semantic versioning (major.minor.patch)\n- Automate git tag creation\n- Automate GitHub release creation with release notes\n- Configure commit message parsing (conventional commits)\n- Add npm scripts for release workflow (e.g., 'pnpm release')\n- Configure release-it.json with project-specific settings\n- Integrate with existing CI/CD pipeline\n- Add pre-release hooks for build/test validation\n- Document release process in project README\n\nConfiguration should:\n- Parse conventional commit messages (feat, fix, chore, etc.)\n- Generate changelog from commit history\n- Create git tags automatically\n- Push tags and commits to remote\n- Create GitHub releases with auto-generated notes\n- Support dry-run mode for testing\n\nThis streamlines the release process and maintains consistent versioning.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-05T23:09:58.712324527+01:00","updated_at":"2026-01-06T18:48:56.87169187+01:00","closed_at":"2026-01-06T18:48:56.87169187+01:00"}
{"id":"movies-deluxe-5n94","title":"Create FilterGenresControl component","description":"Create FilterGenresControl.vue component for genre multi-select in popup.\n\nRequirements:\n- Multi-select pill buttons with counts\n- Load genres from database (useDatabase composable)\n- Show movie count for each genre\n- Highlight selected genres\n- Emit changes to store (toggleGenre)\n- Include clear button if any selected\n- Reuse CollapsibleFilterItems if needed or implement scrollable container\n- Loading state while fetching genres\n\nLocation: app/components/FilterGenresControl.vue\n\nReference: FilterMenu.vue lines 177-206","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T04:21:42.727047858+01:00","updated_at":"2026-01-11T04:35:01.786502088+01:00","closed_at":"2026-01-11T04:35:01.786502088+01:00","dependencies":[{"issue_id":"movies-deluxe-5n94","depends_on_id":"movies-deluxe-qq6m","type":"blocks","created_at":"2026-01-11T04:24:59.565679331+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-5n9y","title":"Create SQLite database for vector embeddings","description":"Create a separate SQLite database (nomic-embed-movies.db) to store vector embeddings instead of using the 444MB data/embeddings.json file.\n\nCurrent state:\n- data/embeddings.json: 444MB JSON file with format {\"movieId\": [768-dim array]}\n- Used by server/utils/generateSQLite.ts to populate movies.db\n- Generated by scripts/generate-embeddings.ts\n\nGoals:\n1. Create scripts/migrate-embeddings-to-db.ts to migrate existing JSON to SQLite\n2. Modify scripts/generate-embeddings.ts to write directly to SQLite DB\n3. Update server/utils/generateSQLite.ts to read from embeddings DB instead of JSON\n4. Store DB in data/nomic-embed-movies.db\n\nBenefits:\n- Faster loading (no JSON parsing)\n- Better memory efficiency\n- Easier querying and updates\n- Consistent with existing SQLite infrastructure","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-19T23:27:07.814544352+01:00","updated_at":"2026-01-19T23:32:41.561732267+01:00","closed_at":"2026-01-19T23:32:41.561732267+01:00"}
{"id":"movies-deluxe-5rm1","title":"Add migration script for existing collections","description":"Create scripts/migrateCollections.ts to:\n- Read existing collections.json\n- Add empty savedQueries and tags arrays to all collections\n- Preserve all existing data\n- Backup original file\n- Update schema version\n- Run as one-time migration","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T22:53:18.669580036+01:00","updated_at":"2026-01-05T23:04:21.266601497+01:00","closed_at":"2026-01-05T23:04:21.266601497+01:00","dependencies":[{"issue_id":"movies-deluxe-5rm1","depends_on_id":"movies-deluxe-6k5e","type":"blocks","created_at":"2026-01-05T22:53:34.820241963+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-5ut3","title":"Refactor WorkerResponse to use discriminated unions","description":"The current WorkerResponse.result type is an overly broad union:\nresult?: LightweightMovie[] | Collection[] | VectorSearchResult[] | Record\u003cstring, unknown\u003e[]\n\nThis forces TypeScript to check 4 different array types on every access and the Record\u003cstring,unknown\u003e[] defeats type safety.\n\nRefactor to use discriminated unions based on response type:\ntype WorkerResponse = \n  | { id: string; type: 'movies'; result: LightweightMovie[]; totalCount?: number }\n  | { id: string; type: 'collections'; result: Collection[] }\n  | { id: string; type: 'vector-search'; result: VectorSearchResult[] }\n  | { id: string; type: 'filter-options'; genres: GenreOption[]; ... }\n  | { id: string; type: 'error'; error: string }\n\nThis eliminates unsafe casts like (data.result as T[]) throughout useDatabase.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T21:50:16.14472207+01:00","updated_at":"2026-01-18T21:52:31.546270365+01:00","closed_at":"2026-01-18T21:52:31.546270365+01:00"}
{"id":"movies-deluxe-65ae","title":"Fix imdbVotes type inconsistency (string vs number)","description":"","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-10T23:30:44.857415571+01:00","updated_at":"2026-01-10T23:34:45.201878174+01:00","closed_at":"2026-01-10T23:34:45.201878174+01:00"}
{"id":"movies-deluxe-6fhx","title":"Fix remove-source endpoint to update collections.json","description":"Update server/api/admin/movie/remove-source.post.ts to call updateMovieIdInCollections() when movie IDs change due to source removal.\n\nLocations to fix:\n- Line 87: When changing to temp ID after removing source\n- Line 133: When updating movie ID after source removal\n\nAdd calls to updateMovieIdInCollections(oldId, newId) at these locations.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T00:46:31.663197302+01:00","updated_at":"2026-01-20T01:07:24.219940009+01:00","closed_at":"2026-01-20T01:07:24.219940009+01:00"}
{"id":"movies-deluxe-6hzk","title":"add region restrictions to admin curation section","description":"Add region restriction information to the admin curation panel to help curators understand which movies are blocked in specific regions.\n\nTasks:\n1. Add regionRestrictions field to generated JSON object in generate-movie-json.ts\n2. Extract blocked/allowed regions from YouTube sources\n3. Display region restrictions in AdminCurationPanel component\n4. Show visual indicators (flags or region codes) for restricted content\n5. Add filtering/sorting by region availability\n\nThis will help curators identify movies that may need alternative sources for specific regions.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-04T00:37:46.62243096+01:00","updated_at":"2026-01-04T00:42:43.056090034+01:00","closed_at":"2026-01-04T00:42:43.056090034+01:00"}
{"id":"movies-deluxe-6k5e","title":"Update Collection type to support search/filter combinations and tags","description":"Extend the Collection interface in shared/types/collections.ts to include:\n- savedQueries: array of objects containing searchQuery and FilterState combinations\n- tags: array of strings for collection categorization\n- Update CollectionsDatabase type accordingly\nThis is the foundation for all other features.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-05T22:52:57.417156345+01:00","updated_at":"2026-01-05T23:00:08.658585454+01:00","closed_at":"2026-01-05T23:00:08.658585454+01:00","dependencies":[{"issue_id":"movies-deluxe-6k5e","depends_on_id":"movies-deluxe-1ogj","type":"blocks","created_at":"2026-01-05T22:53:26.763290267+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-6r7t","title":"Verify AdminDatabaseGenerator component","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T23:32:06.345879705+01:00","updated_at":"2026-01-20T23:44:13.567912992+01:00","closed_at":"2026-01-20T23:44:13.567912992+01:00"}
{"id":"movies-deluxe-6s5q","title":"Fix AdminMovieSearch triggering global search dialog","description":"","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-05T23:49:24.500785764+01:00","updated_at":"2026-01-05T23:53:54.78908686+01:00","closed_at":"2026-01-05T23:53:54.78908686+01:00"}
{"id":"movies-deluxe-6sau","title":"Integrate AdminSearchHeader into AdminMovieSearch component","description":"Replace the current simple filter button in AdminMovieSearch.vue with the new AdminSearchHeader component.\n\nChanges:\n1. Remove the old 'Filters' button and FilterMenu reference (FilterMenu was deleted)\n2. Add AdminSearchHeader below the search input\n3. Connect AdminSearchHeader filters to the search API calls\n4. Update the search logic to use local filter state instead of useMovieStore\n5. Support semantic search mode - call vector search API when mode is 'semantic'\n6. Keep the active filters display badges (or let AdminSearchHeader handle it)\n\nFile: app/components/AdminMovieSearch.vue","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T23:51:57.288042846+01:00","updated_at":"2026-01-18T23:57:05.623405517+01:00","closed_at":"2026-01-18T23:57:05.623405517+01:00","dependencies":[{"issue_id":"movies-deluxe-6sau","depends_on_id":"movies-deluxe-zo3y","type":"blocks","created_at":"2026-01-18T23:52:12.606059804+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-6sau","depends_on_id":"movies-deluxe-djt2","type":"blocks","created_at":"2026-01-18T23:52:19.476352425+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-6sau","depends_on_id":"movies-deluxe-022t","type":"blocks","created_at":"2026-01-18T23:52:19.65893491+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-6tbm","title":"Fixed lint-staged prettier version conflict","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-10T21:46:05.583694091+01:00","updated_at":"2026-01-10T21:46:09.253268084+01:00","closed_at":"2026-01-10T21:46:09.253268084+01:00"}
{"id":"movies-deluxe-6u04","title":"clearing search input on /search does not reset list to all items","description":"When clearing the search input on /search page, the list is not reset to show all items without the query (while keeping filters applied). Expected behavior: clearing search should show all items that match the current filters.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-10T01:19:51.176711104+01:00","updated_at":"2026-01-10T01:37:21.54627089+01:00","closed_at":"2026-01-10T01:37:21.54627089+01:00"}
{"id":"movies-deluxe-71zi","title":"Add backward compatibility for embedded vec_movies","description":"Add fallback support for old database format:\n- Check if vec_movies table exists in main DB\n- If exists, use embedded mode (no ATTACH needed)\n- If not exists, use separate embeddings DB mode\n- Add config flag to indicate DB format version\n- Ensure smooth migration path for existing users","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:26:23.007809311+01:00","updated_at":"2026-01-25T19:06:06.278322916+01:00","closed_at":"2026-01-25T19:06:06.278322916+01:00","dependencies":[{"issue_id":"movies-deluxe-71zi","depends_on_id":"movies-deluxe-zyvu","type":"blocks","created_at":"2026-01-25T18:26:33.749481517+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-71zi","depends_on_id":"movies-deluxe-ugep","type":"blocks","created_at":"2026-01-25T18:26:34.26274224+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-7g49","title":"Update admin dashboard to use AdminDatabaseGenerator component","description":"Replace old 'Generate SQLite' button in admin dashboard with new AdminDatabaseGenerator component. Update layout and styling.\n\nFiles to modify:\n- app/pages/admin/index.vue\n\nRequirements:\n- Import AdminDatabaseGenerator component\n- Replace old generate button with component\n- Update layout to accommodate new component\n- Ensure progress monitoring still works\n- Test responsive design\n- Maintain existing admin UI functionality","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-20T23:19:12.966054114+01:00","updated_at":"2026-01-20T23:26:29.717581321+01:00","closed_at":"2026-01-20T23:26:29.717581321+01:00","dependencies":[{"issue_id":"movies-deluxe-7g49","depends_on_id":"movies-deluxe-wxzz","type":"discovered-from","created_at":"2026-01-20T23:19:46.056564111+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-7g49","depends_on_id":"movies-deluxe-945r","type":"blocks","created_at":"2026-01-20T23:19:59.979776717+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-7ip6","title":"Refactor SQL query construction to centralize in store","description":"Move all SQL query construction logic from database worker to the movie store for better maintainability and separation of concerns.\n\n## Problem Statement\nCurrently, SQL queries are constructed in two places:\n1. **useMovieStore.ts**: buildFilterQuery() constructs complex search/filter queries\n2. **database.worker.ts**: Constructs queries for specific operations (query-by-ids, vector-search, query-collections-for-movie, get-filter-options)\n\nThis split responsibility makes the codebase harder to maintain and understand. The worker should be a simple query executor, not a query builder.\n\n## Goals\n- **Single Source of Truth**: All SQL queries constructed in useMovieStore.ts\n- **Simpler Worker**: Worker only executes SQL, doesn't build queries\n- **Better Testability**: Query logic can be tested without worker context\n- **Easier Maintenance**: All query logic in one place\n\n## Current Query Locations in Worker\n\n### 1. query-by-ids (lines 221-276)\n```typescript\nconst placeholders = idsToFetch.map(() =\u003e '?').join(',')\nconst sql = `\n  SELECT m.imdbId, m.title, m.year, m.imdbRating, m.imdbVotes, m.language,\n         m.primarySourceType as sourceType, m.primaryChannelName as channelName,\n         m.verified, m.lastUpdated, m.genre, m.country\n  FROM movies m\n  WHERE m.imdbId IN (${placeholders})\n`\n```\n\n### 2. vector-search (lines 277-333)\n```typescript\nlet sql = `\n  SELECT \n    m.imdbId, m.title, m.year, m.imdbRating, m.imdbVotes, m.language,\n    m.primarySourceType as sourceType, m.primaryChannelName as channelName,\n    m.verified, m.lastUpdated, m.genre, m.country,\n    v.distance\n  FROM vec_movies v\n  INNER JOIN movies m ON v.imdbId = m.imdbId\n  WHERE v.embedding MATCH ?\n    AND k = ?\n`\nif (where) {\n  sql += ` AND ${where}`\n}\nsql += ` ORDER BY v.distance ASC`\n```\n\n### 3. query-collections-for-movie (lines 334-353)\n```typescript\nconst sql = `\n  SELECT c.id, c.name, c.description, c.createdAt, c.updatedAt\n  FROM collections c\n  INNER JOIN collection_movies cm ON c.id = cm.collectionId\n  WHERE cm.movieId = ?\n  ORDER BY c.name ASC\n`\n```\n\n### 4. get-filter-options (lines 354-379)\n```typescript\n// Three separate queries for genres, countries, channels\nconst genres = db.exec({\n  sql: 'SELECT name, movie_count as count FROM genres ORDER BY movie_count DESC, name ASC',\n  ...\n})\nconst countries = db.exec({\n  sql: 'SELECT name, movie_count as count FROM countries ORDER BY movie_count DESC, name ASC',\n  ...\n})\nconst channels = db.exec({\n  sql: `\n    SELECT primaryChannelName as name, COUNT(*) as count\n    FROM movies\n    WHERE primaryChannelName IS NOT NULL\n    GROUP BY primaryChannelName\n    ORDER BY count DESC, primaryChannelName ASC\n  `,\n  ...\n})\n```\n\n## Proposed Refactoring\n\n### Phase 1: Create Query Builder Functions in Store\nAdd new functions to useMovieStore.ts:\n\n```typescript\n// Query builders (return { sql, params })\nconst buildQueryByIdsQuery = (ids: string[]) =\u003e {\n  const placeholders = ids.map(() =\u003e '?').join(',')\n  return {\n    sql: `\n      SELECT m.imdbId, m.title, m.year, m.imdbRating, m.imdbVotes, m.language,\n             m.primarySourceType as sourceType, m.primaryChannelName as channelName,\n             m.verified, m.lastUpdated, m.genre, m.country\n      FROM movies m\n      WHERE m.imdbId IN (${placeholders})\n    `,\n    params: ids\n  }\n}\n\nconst buildVectorSearchQuery = (limit: number, where?: string, whereParams?: (string | number)[]) =\u003e {\n  let sql = `\n    SELECT \n      m.imdbId, m.title, m.year, m.imdbRating, m.imdbVotes, m.language,\n      m.primarySourceType as sourceType, m.primaryChannelName as channelName,\n      m.verified, m.lastUpdated, m.genre, m.country,\n      v.distance\n    FROM vec_movies v\n    INNER JOIN movies m ON v.imdbId = m.imdbId\n    WHERE v.embedding MATCH ?\n      AND k = ?\n  `\n  const params: (number | string)[] = [limit]\n  \n  if (where) {\n    sql += ` AND ${where}`\n    if (whereParams) {\n      params.push(...whereParams)\n    }\n  }\n  \n  sql += ` ORDER BY v.distance ASC`\n  \n  return { sql, params }\n}\n\nconst buildCollectionsForMovieQuery = (movieId: string) =\u003e {\n  return {\n    sql: `\n      SELECT c.id, c.name, c.description, c.createdAt, c.updatedAt\n      FROM collections c\n      INNER JOIN collection_movies cm ON c.id = cm.collectionId\n      WHERE cm.movieId = ?\n      ORDER BY c.name ASC\n    `,\n    params: [movieId]\n  }\n}\n\nconst buildFilterOptionsQueries = () =\u003e {\n  return {\n    genres: {\n      sql: 'SELECT name, movie_count as count FROM genres ORDER BY movie_count DESC, name ASC',\n      params: []\n    },\n    countries: {\n      sql: 'SELECT name, movie_count as count FROM countries ORDER BY movie_count DESC, name ASC',\n      params: []\n    },\n    channels: {\n      sql: `\n        SELECT primaryChannelName as name, COUNT(*) as count\n        FROM movies\n        WHERE primaryChannelName IS NOT NULL\n        GROUP BY primaryChannelName\n        ORDER BY count DESC, primaryChannelName ASC\n      `,\n      params: []\n    }\n  }\n}\n```\n\n### Phase 2: Update Store Functions to Use Query Builders\nModify existing store functions to build queries before calling worker:\n\n```typescript\nconst fetchMoviesByIds = async (imdbIds: string[]): Promise\u003cvoid\u003e =\u003e {\n  // ... existing cache logic ...\n  \n  const { sql, params } = buildQueryByIdsQuery(uncachedIds)\n  const lightweightMovies = await db.query\u003cLightweightMovie\u003e(sql, params)\n  \n  // ... rest of function ...\n}\n\nconst getFilterOptions = async (): Promise\u003cFilterOptionsResponse\u003e =\u003e {\n  // ... existing cache logic ...\n  \n  const queries = buildFilterOptionsQueries()\n  const genres = await db.query(queries.genres.sql, queries.genres.params)\n  const countries = await db.query(queries.countries.sql, queries.countries.params)\n  const channels = await db.query(queries.channels.sql, queries.channels.params)\n  \n  return { genres, countries, channels }\n}\n```\n\n### Phase 3: Simplify Worker\nRemove query construction logic from worker, keep only 'exec' type:\n\n```typescript\nasync function handleMessage(e: QueuedMessage) {\n  const { type, sql, params, id, url } = e\n\n  try {\n    if (type === 'init') {\n      // ... existing init logic ...\n    }\n\n    if (!db) {\n      throw new Error('Database not initialized. Call init first.')\n    }\n\n    if (type === 'exec') {\n      if (!sql) {\n        self.postMessage({ id, error: 'SQL query is required' })\n        return\n      }\n\n      const result = db.exec({\n        sql,\n        bind: params || [],\n        returnValue: 'resultRows',\n        rowMode: 'object',\n      })\n      self.postMessage({ id, result })\n    } else if (type === 'vector-search') {\n      // Keep vector search special handling for embedding conversion\n      // But receive pre-built SQL from store\n      const { embedding, sql, params } = e\n      \n      // Convert embedding to Float32Array\n      let bindEmbedding: Float32Array\n      // ... existing conversion logic ...\n      \n      // Prepend embedding to params\n      const bindParams = [bindEmbedding.buffer, ...params]\n      \n      const result = db.exec({\n        sql,\n        bind: bindParams,\n        returnValue: 'resultRows',\n        rowMode: 'object',\n      })\n      self.postMessage({ id, result })\n    }\n  } catch (err: unknown) {\n    console.error('Worker error:', err)\n    self.postMessage({ id, error: (err as Error).message || String(err) })\n  }\n}\n```\n\n### Phase 4: Update useDatabase.ts Composable\nUpdate composable to pass SQL from store to worker:\n\n```typescript\nconst queryByIds = async \u003cT = MovieEntry\u003e(movieIds: string[], sql: string, params: (string | number)[]): Promise\u003cT[]\u003e =\u003e {\n  // ... existing init check ...\n  \n  const id = Math.random().toString(36).substring(7)\n  return new Promise((resolve, reject) =\u003e {\n    pendingQueries.set(id, {\n      resolve: (data: WorkerResponse) =\u003e resolve((data.result as T[]) ?? []),\n      reject,\n    })\n    worker.value!.postMessage({ type: 'exec', id, sql, params: toRaw(params) })\n  })\n}\n```\n\n## Benefits\n\n1. **Single Responsibility**: Worker only executes SQL, doesn't build queries\n2. **Testability**: Query builders can be unit tested easily\n3. **Maintainability**: All query logic in one place (store)\n4. **Flexibility**: Easier to modify queries without touching worker\n5. **Type Safety**: Better TypeScript support for query parameters\n6. **Debugging**: Easier to debug query construction in main thread\n\n## Migration Strategy\n\n1. Add query builder functions to store (non-breaking)\n2. Update store functions to use query builders (non-breaking)\n3. Update worker to accept pre-built queries (non-breaking)\n4. Remove old query construction from worker (breaking, but internal)\n5. Test thoroughly\n6. Update useDatabase.ts interface if needed\n\n## Files to Modify\n\n- **app/stores/useMovieStore.ts**: Add query builder functions\n- **app/workers/database.worker.ts**: Simplify to only execute queries\n- **app/composables/useDatabase.ts**: Update interface if needed\n- **app/composables/useVectorSearch.ts**: Update to build queries before calling worker\n\n## Testing Checklist\n\n- [ ] All existing queries work correctly\n- [ ] Query-by-ids returns correct results\n- [ ] Vector search works with filters\n- [ ] Collections query works\n- [ ] Filter options load correctly\n- [ ] No performance regression\n- [ ] TypeScript compilation succeeds\n- [ ] No console errors\n\n## Notes\n\n- Vector search needs special handling for embedding conversion (keep in worker)\n- Cache logic in worker (movieCache) can stay or move to store\n- Consider extracting query builders to separate file if store gets too large","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T21:18:52.33727631+01:00","updated_at":"2026-01-18T22:16:58.765511988+01:00","closed_at":"2026-01-18T22:16:58.765511988+01:00"}
{"id":"movies-deluxe-7jlw","title":"Create script to generate embeddings using Ollama","description":"Create scripts/generate-embeddings.ts to:\n- Load all movies from data/movies.json\n- Convert each movie to markdown representation\n- Generate embeddings using Ollama (nomic-embed-text model)\n- Batch processing with progress reporting\n- Handle rate limiting and errors\n- Save embeddings to data/embeddings.json (temporary storage)\n- Add npm script: 'embeddings:generate'\n\nUse ollama.embed() API with model 'nomic-embed-text' (384 dimensions)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T01:47:55.081058597+01:00","updated_at":"2026-01-13T21:16:13.68230558+01:00","closed_at":"2026-01-13T21:16:13.68230558+01:00","dependencies":[{"issue_id":"movies-deluxe-7jlw","depends_on_id":"movies-deluxe-bvpt","type":"blocks","created_at":"2026-01-12T01:48:08.421183577+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-7l8m","title":"Advanced Search with Actor/Director/Writer Indexing","description":"Implement field-specific keyword search (actor:, director:, writer:, title:) and restore actor/director/writer indexing in SQLite database for exact search capabilities.\n\n## Goals\n- Add dedicated tables and FTS5 indexes for actors, directors, writers in SQLite database\n- Implement query parser to support field-specific keywords (actor:, director:, writer:, title:)\n- Support combined keyword searches (e.g., 'actor:Tom Hanks director:Spielberg')\n- Maintain backward compatibility: search all fields when no keyword present\n- Improve search accuracy and user experience\n\n## Implementation Plan\nSee detailed plan: history/advanced-search-implementation-plan.md\n\n## Success Criteria\n- Users can search by specific fields using keywords\n- Search performance remains under 300ms for typical queries\n- All existing searches continue to work (backward compatible)\n- Database successfully regenerated with new indexes","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-18T21:09:47.907532818+01:00","updated_at":"2026-01-18T21:16:41.805474916+01:00","closed_at":"2026-01-18T21:16:41.805474916+01:00"}
{"id":"movies-deluxe-7ui6","title":"Style collection buttons to match AdminCollectionSelector design","description":"Apply consistent styling to collection buttons matching the design pattern in AdminCollectionSelector (lines 22-43). Use blue background for active state (movie in collection) and theme-surface background for inactive state. Include hover effects, transitions, and proper spacing. Ensure buttons are responsive and work well in both light and dark modes.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T17:50:55.17653841+01:00","updated_at":"2026-01-24T17:59:19.240558437+01:00","closed_at":"2026-01-24T17:59:19.240562044+01:00","dependencies":[{"issue_id":"movies-deluxe-7ui6","depends_on_id":"movies-deluxe-toh8","type":"blocks","created_at":"2026-01-24T17:51:24.892351675+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-7w7t","title":"Remove unnecessary imports from auto-imported modules","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T12:02:27.26002295+01:00","updated_at":"2026-01-02T12:05:03.346668721+01:00","closed_at":"2026-01-02T12:05:03.346668721+01:00"}
{"id":"movies-deluxe-7wyt","title":"Install @huggingface/transformers dependency","description":"Add @huggingface/transformers package to dependencies. This library provides ONNX runtime support for running transformer models in Node.js and browser environments. Command: pnpm add @huggingface/transformers","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T23:59:25.469082572+01:00","updated_at":"2026-01-20T00:01:13.852695821+01:00","closed_at":"2026-01-20T00:01:13.852695821+01:00"}
{"id":"movies-deluxe-7xnv","title":"Create Billy Wilder collection similar to Alfred Hitchcock","description":"Add a new collection entry in public/data/collections.json for Billy Wilder films, following the same structure as the alfred-hitchcock collection. Include savedQueries with search for 'Billy Wilder' and appropriate tags like 'drama', 'comedy', 'film-noir', 'classic-hollywood', 'auteur'.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T17:56:12.039150879+01:00","updated_at":"2026-01-10T18:29:29.072446692+01:00","closed_at":"2026-01-10T18:29:29.072446692+01:00"}
{"id":"movies-deluxe-7znm","title":"Browser Embedding System with Transformers.js","description":"Implement browser-side embedding generation using transformers.js for BGE-micro-v2 and potion-base-2M models. Both modules should expose the same interface for easy swapping. This enables client-side semantic search without server dependency.\n\n## Goals\n- Create unified interface for embedding generation\n- Support both BGE-micro-v2 (384-dim) and Potion-base-2M (64-dim) models\n- Run inference in Web Worker to avoid blocking UI\n- Provide reactive composable wrapper for Vue components\n\n## Technical Notes\n- BGE-micro-v2: Works natively with @huggingface/transformers (already installed)\n- Potion-base-2M: Requires onnxruntime-web (EmbeddingBag architecture, custom tokenizer)\n- Models should be lazy-loaded on first use\n- Consider caching models in browser storage","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-20T00:54:55.264838635+01:00","updated_at":"2026-01-20T01:00:02.462939276+01:00","closed_at":"2026-01-20T01:00:02.462939276+01:00"}
{"id":"movies-deluxe-82nn","title":"Create FilterVotesControl with logarithmic scale","description":"Create FilterVotesControl.vue component for votes range filter with logarithmic scale.\n\nRequirements:\n- Dual slider with logarithmic scale for better UX\n- Scale steps: 0, 100, 500, 1K, 5K, 10K, 50K, 100K, 500K, 1M+\n- Show formatted values (e.g., '10K', '1.5M')\n- Visual slider with key labels\n- Emit changes to store (setMinVotes, setMaxVotes)\n- Include clear button if not default range\n- Debounce slider changes\n- Convert between logarithmic slider position and actual vote values\n\nLocation: app/components/FilterVotesControl.vue\n\nReference: FilterMenu.vue lines 134-172","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T04:21:30.556697509+01:00","updated_at":"2026-01-11T04:35:01.778370123+01:00","closed_at":"2026-01-11T04:35:01.778370123+01:00","dependencies":[{"issue_id":"movies-deluxe-82nn","depends_on_id":"movies-deluxe-qq6m","type":"blocks","created_at":"2026-01-11T04:24:59.389216411+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-84dv","title":"Fix handleMissingMovies logic in MovieVirtualGrid","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-13T04:44:50.905901707+01:00","updated_at":"2026-01-13T04:45:08.902128245+01:00","closed_at":"2026-01-13T04:45:08.902128245+01:00"}
{"id":"movies-deluxe-865p","title":"find unused components and remove them","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:23:18.327608017+01:00","updated_at":"2026-01-05T22:20:49.240015256+01:00","closed_at":"2026-01-05T22:20:49.240015256+01:00"}
{"id":"movies-deluxe-8b5d","title":"Download and store bge-micro-v2 model files","description":"Download the required model files from HuggingFace and store in /models/bge-micro-v2/:\n\nRequired files:\n- onnx/model_quantized.onnx (17 MB) - Quantized ONNX model\n- tokenizer.json (711 KB) - Main tokenizer\n- vocab.txt (231 KB) - Vocabulary\n- tokenizer_config.json, special_tokens_map.json, added_tokens.json\n- config.json - Model architecture config\n- config_sentence_transformers.json - Sentence transformer config\n- 1_Pooling/config.json - Pooling layer config\n\nTotal size: ~18 MB\n\nUse curl commands to download from: https://huggingface.co/TaylorAI/bge-micro-v2/resolve/main/","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T23:59:28.145920834+01:00","updated_at":"2026-01-20T00:01:44.756047948+01:00","closed_at":"2026-01-20T00:01:44.756047948+01:00","dependencies":[{"issue_id":"movies-deluxe-8b5d","depends_on_id":"movies-deluxe-7wyt","type":"blocks","created_at":"2026-01-19T23:59:40.527162299+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-8ma7","title":"Update collections.json when movie IDs change from archive-/youtube- to tt","description":"When movie IDs are updated from archive-/youtube- prefixes to IMDb IDs (tt*), the collections.json file must also be updated to reflect these changes. Currently, only the manual admin update endpoint properly updates collections, but automated processes (OMDB enrichment, source removal, data validation) do not.\n\nImpact: 35 collections with 4,084 movie ID references (179 non-IMDb IDs that could be migrated).\n\nRoot cause: migrateMovieId() in server/utils/movieData.ts does not call updateMovieIdInCollections().","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-19T00:42:25.541321288+01:00","updated_at":"2026-01-20T01:07:24.220819874+01:00","closed_at":"2026-01-20T01:07:24.220819874+01:00","dependencies":[{"issue_id":"movies-deluxe-8ma7","depends_on_id":"movies-deluxe-9ad0","type":"blocks","created_at":"2026-01-19T00:46:43.527723188+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-8ma7","depends_on_id":"movies-deluxe-6fhx","type":"blocks","created_at":"2026-01-19T00:46:43.570232345+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-8ma7","depends_on_id":"movies-deluxe-w2s3","type":"blocks","created_at":"2026-01-19T00:46:43.616640938+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-8obz","title":"Fix TypeScript errors from typecheck","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-09T01:00:59.457871524+01:00","updated_at":"2026-01-09T01:03:28.137406597+01:00","closed_at":"2026-01-09T01:03:28.137406597+01:00"}
{"id":"movies-deluxe-8otw","title":"Refactor movie store to remove allMovies and optimize database queries","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:22:05.400237309+01:00","updated_at":"2026-01-13T05:43:56.848775048+01:00","closed_at":"2026-01-13T05:43:56.848779415+01:00"}
{"id":"movies-deluxe-8snv","title":"Test local model loading and browser caching","description":"Test that embedding models load from localhost and are properly cached by browser. Checklist: 1) Clear browser cache, 2) Verify models load from /models/ URLs (Network tab), 3) Test embedding generation works, 4) Reload and verify cache hit (0ms, from disk cache), 5) Test offline mode, 6) Verify both BGE and Potion models work.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T00:34:38.177119179+01:00","updated_at":"2026-01-21T00:41:15.671446756+01:00","closed_at":"2026-01-21T00:41:15.671446756+01:00","dependencies":[{"issue_id":"movies-deluxe-8snv","depends_on_id":"movies-deluxe-gde7","type":"blocks","created_at":"2026-01-21T00:34:43.707836558+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-8snv","depends_on_id":"movies-deluxe-iu7l","type":"blocks","created_at":"2026-01-21T00:34:44.229322905+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-8snv","depends_on_id":"movies-deluxe-vbro","type":"blocks","created_at":"2026-01-21T00:34:44.846332837+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-8zuf","title":"Complete search page optimization to use autonomous MovieVirtualGrid","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-12T23:18:22.149597467+01:00","updated_at":"2026-01-13T05:44:30.371994063+01:00","closed_at":"2026-01-13T05:44:30.372001952+01:00"}
{"id":"movies-deluxe-93n9","title":"Create embedding Web Worker","description":"Create a Web Worker to run embedding inference off the main thread, preventing UI blocking during model loading and inference.\n\n## Implementation\n- `app/workers/embedding.worker.ts`\n- Handle messages: init, generateEmbedding, dispose\n- Support switching between BGE and Potion providers\n- Report progress during model loading\n\n## Message Protocol\n```typescript\n// To worker\n{ type: 'init', provider: 'bge' | 'potion' }\n{ type: 'embed', text: string, id: number }\n{ type: 'dispose' }\n\n// From worker\n{ type: 'ready' }\n{ type: 'progress', progress: number }\n{ type: 'embedding', id: number, embedding: Float32Array }\n{ type: 'error', message: string }\n```\n\n## Reference\n- Existing pattern: app/workers/database.worker.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T00:55:18.548751473+01:00","updated_at":"2026-01-20T00:59:57.656880904+01:00","closed_at":"2026-01-20T00:59:57.656880904+01:00","dependencies":[{"issue_id":"movies-deluxe-93n9","depends_on_id":"movies-deluxe-7znm","type":"discovered-from","created_at":"2026-01-20T00:55:29.644132879+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-93n9","depends_on_id":"movies-deluxe-dlpu","type":"blocks","created_at":"2026-01-20T00:55:35.424352121+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-93n9","depends_on_id":"movies-deluxe-wave","type":"blocks","created_at":"2026-01-20T00:55:35.495270464+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-945r","title":"Create AdminDatabaseGenerator component with model selection","description":"Create new Vue component for database generation with model selection dropdown, skip JSON checkbox, and progress display.\n\nFiles to create:\n- app/components/AdminDatabaseGenerator.vue\n\nRequirements:\n- Import EMBEDDING_MODELS from config\n- Model selection dropdown with all available models\n- Display model description as help text\n- Skip JSON generation checkbox with help text\n- Generate button with loading state\n- Progress bar display using adminStore.progress.sqlite\n- Disable controls during generation\n- Call /api/admin/sqlite/generate with selected options\n- Use composition API with script setup\n- Follow project styling conventions","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T23:19:11.731756248+01:00","updated_at":"2026-01-20T23:25:57.933473085+01:00","closed_at":"2026-01-20T23:25:57.933473085+01:00","dependencies":[{"issue_id":"movies-deluxe-945r","depends_on_id":"movies-deluxe-wxzz","type":"discovered-from","created_at":"2026-01-20T23:19:45.451391485+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-945r","depends_on_id":"movies-deluxe-kbsf","type":"blocks","created_at":"2026-01-20T23:19:58.229223783+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-945r","depends_on_id":"movies-deluxe-eozn","type":"blocks","created_at":"2026-01-20T23:19:58.828369009+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-945r","depends_on_id":"movies-deluxe-b8kd","type":"blocks","created_at":"2026-01-20T23:19:59.266168349+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-97xf","title":"Add cleanup button to remove missing movies from collections","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-11T23:44:36.918695793+01:00","updated_at":"2026-01-11T23:51:44.193897774+01:00","closed_at":"2026-01-11T23:51:44.193897774+01:00"}
{"id":"movies-deluxe-9ad0","title":"Fix migrateMovieId() to update collections.json","description":"Update server/utils/movieData.ts::migrateMovieId() (line 410-428) to call updateMovieIdInCollections() after migrating movie IDs. This is the critical bug - OMDB enrichment uses this function and currently doesn't update collections.\n\nChanges needed:\n1. Import updateMovieIdInCollections from './collections'\n2. Change migrateMovieId to async function\n3. Add await updateMovieIdInCollections(oldId, newId) call before return\n4. Update all call sites to await the function (primarily /server/api/admin/omdb/enrich.post.ts line 243)","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-19T00:46:30.216112917+01:00","updated_at":"2026-01-20T01:07:24.21393497+01:00","closed_at":"2026-01-20T01:07:24.21393497+01:00"}
{"id":"movies-deluxe-9aje","title":"Store imdbVotes as number without commas in individual movie JSON files","description":"When generating individual movie JSON files in public/movies/tt....json, the imdbVotes field should be stored as a number without commas instead of the string format from OMDB API.\n\nCurrent behavior:\n- OMDB API returns imdbVotes as string: \"191,736\"\n- This string is stored as-is in the generated JSON files\n- Type definition allows string | number\n\nRequired changes:\n1. In server/utils/generateMovieJSON.ts (line 230): Parse imdbVotes string and remove commas before storing\n2. Update type definitions to use number instead of string | number for imdbVotes in generated JSON\n3. Ensure the conversion handles edge cases (N/A, undefined, etc.)\n\nReference: server/utils/generateSQLite.ts:183-184 shows the correct parsing logic:\n```typescript\nconst imdbVotes = m.imdbVotes \u0026\u0026 m.imdbVotes !== 'N/A' \n  ? parseInt(m.imdbVotes.replace(/,/g, ''), 10) \n  : null\n```\n\nFiles to modify:\n- server/utils/generateMovieJSON.ts (add parsing logic)\n- Potentially update type definitions in shared/types/movie.ts or app/types/ if needed","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T17:01:30.462861225+01:00","updated_at":"2026-01-10T17:18:09.495390488+01:00","closed_at":"2026-01-10T17:18:09.495390488+01:00"}
{"id":"movies-deluxe-9bpg","title":"remove circle check icon from collection admin select collection","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T00:21:36.730599736+01:00","updated_at":"2026-01-06T00:29:56.488162765+01:00","closed_at":"2026-01-06T00:29:56.488162765+01:00"}
{"id":"movies-deluxe-9k4h","title":"Create vampire movies collection with search query","description":"**Goal:**\nCreate a new collection for vampire movies in `public/data/collections.json`. Initialize the collection structure with metadata and a saved search query, but do not add movie IDs yet.\n\n**Collection Details:**\n- **ID**: `vampire-movies`\n- **Name**: \"Vampire Movies\"\n- **Description**: \"Classic and iconic vampire films from silent era to modern cinema, featuring Dracula, Nosferatu, and other creatures of the night.\"\n- **movieIds**: `[]` (empty array - movies will be added later via search)\n- **createdAt**: Current timestamp\n- **updatedAt**: Current timestamp\n- **tags**: `[\"horror\", \"vampires\", \"gothic\", \"supernatural\", \"classic-horror\"]`\n\n**Saved Search Query:**\nAdd a savedQueries entry that will be used to populate the collection:\n```json\n\"savedQueries\": [\n  {\n    \"searchQuery\": \"vampire\",\n    \"filterState\": {\n      \"searchQuery\": \"vampire\",\n      \"sort\": {\n        \"field\": \"relevance\",\n        \"direction\": \"desc\"\n      }\n    }\n  }\n]\n```\n\n**Implementation:**\n1. Read `public/data/collections.json`\n2. Add the new `vampire-movies` collection object following the existing structure\n3. Place it in an appropriate location (alphabetically or at the end)\n4. Ensure JSON formatting is consistent with existing collections\n5. Update the `_schema.lastUpdated` timestamp\n6. Validate JSON syntax\n\n**Files to modify:**\n- `public/data/collections.json`\n\n**Notes:**\n- The collection will initially have an empty `movieIds` array\n- Movies can be added later by running the saved search query\n- Follow the exact structure of existing collections (see charlie-chaplin, martial-arts, etc.)\n- Include `enabled: true` if that field is used in other collections\n\n**Acceptance Criteria:**\n- New vampire-movies collection exists in collections.json\n- Collection has proper structure with all required fields\n- movieIds array is empty\n- savedQueries contains vampire search query\n- JSON is valid and properly formatted\n- Schema lastUpdated timestamp is current","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T20:55:33.270887143+01:00","updated_at":"2026-01-18T20:56:39.108187931+01:00","closed_at":"2026-01-18T20:56:39.108187931+01:00"}
{"id":"movies-deluxe-9uiw","title":"Implement remove movie from collection functionality","description":"Wire up 'Remove' button to call existing /api/admin/collections/remove-movie.post.ts endpoint. Show confirmation dialog before removal. Display success/error toast notifications. Update collection movies list reactively after removal. Handle API errors gracefully.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T20:47:19.693955552+01:00","updated_at":"2026-01-03T21:40:24.434873185+01:00","closed_at":"2026-01-03T21:40:24.434873185+01:00","dependencies":[{"issue_id":"movies-deluxe-9uiw","depends_on_id":"movies-deluxe-pswo","type":"blocks","created_at":"2026-01-03T20:48:40.674118864+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-a37y","title":"Implement URL query parameter for search","description":"When searching, the query should be reflected in the URL as /?q=... When the page loads with a query parameter, recover it and display only the search results automatically.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T22:19:10.346405479+01:00","updated_at":"2026-01-05T22:33:48.32208013+01:00","closed_at":"2026-01-05T22:33:48.32208013+01:00"}
{"id":"movies-deluxe-a3k1","title":"Regenerate SQLite database with new schema","description":"Regenerate the production SQLite database with new people tables and indexes.\n\n## Steps\n1. Run generateSQLite script with updated schema\n2. Verify all tables created correctly:\n   - actors, directors, writers tables\n   - movie_actors, movie_directors, movie_writers junction tables\n   - FTS5 indexes for all people tables\n3. Verify data populated correctly:\n   - Check person counts\n   - Verify movie relationships\n   - Test sample queries\n4. Verify database size is reasonable\n5. Deploy new database to production\n\n## Validation Queries\n```sql\nSELECT COUNT(*) FROM actors;\nSELECT COUNT(*) FROM directors;\nSELECT COUNT(*) FROM writers;\nSELECT COUNT(*) FROM movie_actors;\nSELECT COUNT(*) FROM movie_directors;\nSELECT COUNT(*) FROM movie_writers;\n```\n\n## Files Affected\n- public/data/movies.db (regenerated)\n\n## Dependencies\n- Requires all schema and population code completed\n- Should be done after testing is complete","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T21:10:20.544630555+01:00","updated_at":"2026-01-18T21:14:33.294055879+01:00","closed_at":"2026-01-18T21:14:33.294055879+01:00","dependencies":[{"issue_id":"movies-deluxe-a3k1","depends_on_id":"movies-deluxe-7l8m","type":"discovered-from","created_at":"2026-01-18T21:10:26.070160575+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-a3k1","depends_on_id":"movies-deluxe-gebq","type":"blocks","created_at":"2026-01-18T21:10:31.931645787+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-a5gf","title":"Admin Collection Editor Page","description":"Create a dedicated admin page at /admin/collections that allows selecting a collection, searching for movies by title/director/writer/plot, adding movies in bulk via click, displaying movies in a list view with small posters, and removing movies from the collection. This provides a better UX than the current basic collection manager.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-03T20:46:56.847315771+01:00","updated_at":"2026-01-03T21:40:26.865543852+01:00","closed_at":"2026-01-03T21:40:26.865543852+01:00","dependencies":[{"issue_id":"movies-deluxe-a5gf","depends_on_id":"movies-deluxe-4sbb","type":"blocks","created_at":"2026-01-03T20:48:33.578789825+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-a5gf","depends_on_id":"movies-deluxe-r8lg","type":"blocks","created_at":"2026-01-03T20:48:33.70945985+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-a5gf","depends_on_id":"movies-deluxe-ku82","type":"blocks","created_at":"2026-01-03T20:48:33.869262588+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-a5gf","depends_on_id":"movies-deluxe-ysej","type":"blocks","created_at":"2026-01-03T20:48:34.124263364+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-a5gf","depends_on_id":"movies-deluxe-pswo","type":"blocks","created_at":"2026-01-03T20:48:34.252744167+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-a5gf","depends_on_id":"movies-deluxe-t99i","type":"blocks","created_at":"2026-01-03T20:48:34.390947754+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-a5gf","depends_on_id":"movies-deluxe-9uiw","type":"blocks","created_at":"2026-01-03T20:48:34.535903241+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-a5gf","depends_on_id":"movies-deluxe-lfju","type":"blocks","created_at":"2026-01-03T20:48:34.6943409+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-a7bo","title":"Show search results when setting filters in admin dashboard","description":"In the admin dashboard, when setting filters show search results (limit to 300 entries max). Also show results when activating a filter in dynamic queries.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T01:37:05.483096958+01:00","updated_at":"2026-01-07T01:46:29.24727827+01:00","closed_at":"2026-01-07T01:46:29.24727827+01:00"}
{"id":"movies-deluxe-a9kv","title":"Find and delete unused components","description":"Analyze the codebase to identify Vue components that are not being used anywhere and delete them to reduce clutter and improve maintainability","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-03T02:27:16.713916161+01:00","updated_at":"2026-01-03T02:37:34.90191391+01:00","closed_at":"2026-01-03T02:37:34.90191391+01:00"}
{"id":"movies-deluxe-abyh","title":"Change initial loading screen to centered logo with skeleton animation","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T20:26:04.909762096+01:00","updated_at":"2026-01-08T22:17:41.831995854+01:00","closed_at":"2026-01-08T22:17:41.831995854+01:00"}
{"id":"movies-deluxe-ae7h","title":"SearchHeader: do not navigate when on any /admin page","description":"SearchHeader.vue:81-84 - The search header should not trigger navigation when the user is on any /admin page to avoid disrupting admin workflows","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-06T00:03:26.222012939+01:00","updated_at":"2026-01-06T00:06:10.453757704+01:00","closed_at":"2026-01-06T00:06:10.453757704+01:00"}
{"id":"movies-deluxe-aocv","title":"Create FilterButton component for category buttons","description":"Create reusable FilterButton.vue component for filter category buttons in header.\n\nRequirements:\n- Props: category (string), icon (string), activeValue (string), isActive (boolean)\n- Emits: click, clear\n- Visual states: inactive (transparent), active (shows value/count), hover\n- Show category name + icon\n- Show active state indicator when filter applied\n- Show clear button (x) when active\n- Transparent background by default\n- Responsive sizing\n\nLocation: app/components/FilterButton.vue","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T04:21:06.790399457+01:00","updated_at":"2026-01-11T04:30:09.517338596+01:00","closed_at":"2026-01-11T04:30:09.517338596+01:00","dependencies":[{"issue_id":"movies-deluxe-aocv","depends_on_id":"movies-deluxe-qq6m","type":"blocks","created_at":"2026-01-11T04:24:58.343328849+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-aq6z","title":"Update collection detail page with tags","description":"Update app/pages/collections/[id].vue to:\n- Display collection tags prominently\n- Show saved query count (if any) as metadata\n- Add visual indicators for dynamic vs static collections\n- Improve metadata section layout","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T22:53:16.873011551+01:00","updated_at":"2026-01-05T23:18:19.847869889+01:00","closed_at":"2026-01-05T23:18:19.847869889+01:00","dependencies":[{"issue_id":"movies-deluxe-aq6z","depends_on_id":"movies-deluxe-sw18","type":"blocks","created_at":"2026-01-05T22:53:34.31084316+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-arx0","title":"Improve collection admin UI with condensed selection and detailed card view","description":"Improve the collection admin interface with two key changes:\n\n1. **Condensed Collection Selection**: Replace the current collection display with a condensed button-based selection system that shows only collection titles\n\n2. **Detailed Collection Card**: When a collection is selected, display a detailed card above the search library that shows:\n   - Collection title\n   - Tags associated with the collection\n   - Collection description\n   - Edit buttons for collection management\n\nThis will provide a cleaner, more efficient interface for collection management while giving users quick access to collection details and editing capabilities.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T23:37:35.241043081+01:00","updated_at":"2026-01-08T23:39:27.576416231+01:00","closed_at":"2026-01-08T23:39:27.576416231+01:00"}
{"id":"movies-deluxe-ats6","title":"Add real-time log messages for admin dashboard SQLite generation","description":"Show real-time log messages in the admin dashboard when generating SQLite database. Use emitProgress to stream progress updates to the UI so users can see what's happening during the generation process.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-03T01:12:53.14953848+01:00","updated_at":"2026-01-03T01:20:36.448269955+01:00","closed_at":"2026-01-03T01:20:36.448269955+01:00"}
{"id":"movies-deluxe-av7e","title":"Fix scroll position restoration on /search page with virtual grid","description":"**Problem:**\nScroll position is not properly restored when navigating back to /search page. The scroll restoration plugin exists and uses the central scroll position storage in useUiStore.ts, but it doesn't work reliably with the MovieVirtualGrid component.\n\n**Root Cause:**\nThe MovieVirtualGrid component uses virtual scrolling and dynamically calculates row heights and visible rows based on scroll position. When the scroll restoration plugin tries to restore the scroll position (in scroll-restoration.client.ts:38-52), the virtual grid hasn't fully initialized yet:\n- gridOffsetTop may not be calculated yet\n- rowHeight calculation depends on firstRowRef which may not be rendered\n- The grid needs time to calculate totalHeight and render spacer divs\n\nThe current scroll restoration uses nextTick and requestAnimationFrame, but this isn't sufficient for the virtual grid to fully initialize.\n\n**Current Implementation:**\n- Scroll positions stored in: app/stores/useUiStore.ts (scrollPositions state)\n- Scroll restoration plugin: app/plugins/scroll-restoration.client.ts\n- Virtual grid component: app/components/MovieVirtualGrid.vue\n- Search page: app/pages/search.vue\n\n**Solution Approach:**\n1. Add a mechanism to detect when the virtual grid is fully initialized and ready for scroll restoration\n2. Delay scroll restoration until the grid has calculated its dimensions\n3. Consider emitting an event from MovieVirtualGrid when it's ready\n4. Or use a more robust waiting mechanism in the scroll restoration plugin\n\n**Testing:**\n1. Navigate to /search\n2. Scroll down significantly (e.g., 2000px)\n3. Click on a movie to navigate to /movie/:id\n4. Use browser back button\n5. Verify scroll position is restored to ~2000px","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-18T23:29:06.007333975+01:00","updated_at":"2026-01-18T23:40:25.037086079+01:00","closed_at":"2026-01-18T23:40:25.037086079+01:00"}
{"id":"movies-deluxe-avao","title":"Update vector search queries to use attached embeddings DB","description":"Modify app/utils/queryBuilders.ts buildVectorSearchQuery():\n- Change FROM vec_movies to FROM embeddings_db.vec_movies\n- Update JOIN to reference main.movies explicitly\n- Ensure queries work with ATTACH DATABASE syntax\n- Test with all three embedding models","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:26:18.136189813+01:00","updated_at":"2026-01-25T18:35:55.950486321+01:00","closed_at":"2026-01-25T18:35:55.950486321+01:00","dependencies":[{"issue_id":"movies-deluxe-avao","depends_on_id":"movies-deluxe-fa7j","type":"blocks","created_at":"2026-01-25T18:26:32.417357444+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-ay5h","title":"Test accessibility (keyboard navigation and screen readers)","description":"Test accessibility of new filter header design.\n\nTest cases:\n- Keyboard navigation works (Tab, Shift+Tab, Enter, Escape)\n- Focus visible on all interactive elements\n- Focus trap works in popups\n- Escape key closes popups\n- Enter key activates buttons\n- Arrow keys work in sliders\n- Screen reader announces filter states correctly\n- Screen reader announces popup open/close\n- ARIA labels are correct\n- ARIA expanded/collapsed states correct\n- Color contrast meets WCAG AA standards\n- Focus order is logical\n\nTools to use:\n- Keyboard only navigation\n- NVDA or JAWS screen reader\n- Chrome DevTools Lighthouse accessibility audit\n- axe DevTools browser extension\n\nLocation: Manual testing on /search page\n\nDependencies: All components must be complete","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T04:24:43.173712213+01:00","updated_at":"2026-01-11T04:39:28.211503689+01:00","closed_at":"2026-01-11T04:39:28.211503689+01:00","dependencies":[{"issue_id":"movies-deluxe-ay5h","depends_on_id":"movies-deluxe-ioaw","type":"blocks","created_at":"2026-01-11T04:25:51.514830525+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-ay5h","depends_on_id":"movies-deluxe-vi5p","type":"blocks","created_at":"2026-01-11T04:25:51.560801637+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-azm9","title":"Exclude quality-labeled movies from SQLite database generation","description":"Movies that have quality labels (blocked, trailer, clip, etc.) should be filtered out during SQLite database generation to keep the database clean and focused on actual watchable content.\n\n**Current Behavior:**\nThe generate-sqlite.ts script includes all movies from movies.json, including those marked with quality labels like 'blocked', 'trailer', 'clip', 'interview', 'teaser', 'behind-the-scenes', 'promo', 'duplicate', 'incorrect'.\n\n**Desired Behavior:**\nDuring SQLite database generation (scripts/generate-sqlite.ts):\n1. Filter out movies that have the 'qualityLabels' field set\n2. Only include movies without quality labels in the database\n3. Log how many movies were excluded due to quality labels\n4. Update stats to reflect the filtered count\n\n**Implementation:**\n- Modify scripts/generate-sqlite.ts around line 34-36 where movies are loaded\n- Add filter: `movies.filter(m =\u003e !m.qualityLabels || m.qualityLabels.length === 0)`\n- Add logging: `logger.info(`Excluded ${excludedCount} movies with quality labels`)`\n- This keeps the database smaller and focused on actual content\n- Quality-labeled movies remain in movies.json for admin purposes\n\n**Benefits:**\n- Smaller database size\n- Cleaner movie grid (no trailers/clips/blocked content)\n- Better user experience\n- Quality-labeled movies still accessible in admin panel via movies.json\n\n**Note:** This also affects generate-movie-json.ts if it needs similar filtering for individual JSON files.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T21:42:59.100844459+01:00","updated_at":"2026-01-02T21:47:09.480264231+01:00","closed_at":"2026-01-02T21:47:09.480264231+01:00"}
{"id":"movies-deluxe-b1vc","title":"Refactor SortToggleButton class binding to separate static and dynamic classes","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T19:28:42.425283509+01:00","updated_at":"2026-01-02T19:29:00.287070248+01:00","closed_at":"2026-01-02T19:29:00.287070248+01:00"}
{"id":"movies-deluxe-b602","title":"Update useVectorSearch to use DB model automatically","description":"Modify app/composables/useVectorSearch.ts to automatically detect and use the embedding model stored in the database. Query DB metadata on first use, then use that model for all embedding generation (API or browser-based). No manual model parameter needed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T23:43:53.837886821+01:00","updated_at":"2026-01-21T00:17:22.689344897+01:00","closed_at":"2026-01-21T00:17:22.689344897+01:00","dependencies":[{"issue_id":"movies-deluxe-b602","depends_on_id":"movies-deluxe-moxl","type":"blocks","created_at":"2026-01-20T23:44:15.963675143+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-b602","depends_on_id":"movies-deluxe-rg04","type":"blocks","created_at":"2026-01-20T23:44:16.479918194+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-b6bu","title":"Remove unused currentPage variable from codebase","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T02:26:26.949266929+01:00","updated_at":"2026-01-13T02:29:28.88334546+01:00","closed_at":"2026-01-13T02:29:28.88334546+01:00"}
{"id":"movies-deluxe-b7xl","title":"Update liked.vue page layout to match collections/[id].vue design","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T00:40:22.240437757+01:00","updated_at":"2026-01-09T00:43:33.527354122+01:00","closed_at":"2026-01-09T00:43:33.527354122+01:00"}
{"id":"movies-deluxe-b8kd","title":"Update API endpoint to accept model selection parameters","description":"Modify server/api/admin/sqlite/generate.post.ts to accept embeddingModel and skipJsonGeneration in request body. Validate model selection and pass options to generateSQLite().\n\nFiles to modify:\n- server/api/admin/sqlite/generate.post.ts\n\nRequirements:\n- Read embeddingModel from request body (default to nomic)\n- Read skipJsonGeneration from request body (default to false)\n- Validate model using getModelConfig()\n- Return 400 error for invalid model\n- Pass options to generateSQLite()\n- Update progress emission to include model info\n- Maintain localhost-only access restriction","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T23:19:07.650415836+01:00","updated_at":"2026-01-20T23:25:32.88366221+01:00","closed_at":"2026-01-20T23:25:32.88366221+01:00","dependencies":[{"issue_id":"movies-deluxe-b8kd","depends_on_id":"movies-deluxe-wxzz","type":"discovered-from","created_at":"2026-01-20T23:19:44.989189465+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-b8kd","depends_on_id":"movies-deluxe-kbsf","type":"blocks","created_at":"2026-01-20T23:19:54.349998683+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-b8kd","depends_on_id":"movies-deluxe-jtze","type":"blocks","created_at":"2026-01-20T23:19:54.983638577+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-b8kd","depends_on_id":"movies-deluxe-eozn","type":"blocks","created_at":"2026-01-20T23:19:55.510775598+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-bafo","title":"Copy embedding model files to public/models/ directory","description":"Copy BGE Micro v2 and Potion Base 2M model files from models/ directory to public/models/ directory so they can be served to the browser. Files include: config.json, tokenizer.json, vocab.txt, and ONNX models (~26MB total). Update .gitignore to allow public/models/ in version control (consider Git LFS for large .onnx files).","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-21T00:34:31.198621153+01:00","updated_at":"2026-01-21T00:36:38.257328697+01:00","closed_at":"2026-01-21T00:36:38.257328697+01:00"}
{"id":"movies-deluxe-bhc5","title":"Create migration script to rename imdbId to movieId in data/movies.json","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T21:35:41.947608809+01:00","updated_at":"2026-01-18T21:38:12.082916157+01:00","closed_at":"2026-01-18T21:38:12.082916157+01:00"}
{"id":"movies-deluxe-bk3q","title":"Add bottom padding to pages on mobile for bottom navigation clearance","description":"**Problem:**\nOn mobile devices, the last elements on pages are hidden behind the bottom sidebar navigation, making them impossible to fully view or interact with.\n\n**Current Behavior:**\n- Bottom navigation bar overlays page content\n- Last elements on pages (movies, buttons, text, etc.) are partially or fully obscured\n- Users cannot scroll far enough to see content behind the navigation\n- Affects all pages with the bottom navigation\n\n**Expected Behavior:**\n- All page content should have sufficient bottom padding/margin\n- Users should be able to scroll to see all content completely\n- Last elements should be fully visible above the bottom navigation\n- Padding should match the height of the bottom navigation bar\n\n**Implementation:**\n1. **Identify bottom navigation height:**\n   - Find the mobile bottom navigation component\n   - Determine its height (likely fixed, e.g., 64px, 72px, etc.)\n\n2. **Add global mobile padding:**\n   - Apply bottom padding to page container/layout\n   - Use CSS media query for mobile breakpoint\n   - Consider using CSS variable for navigation height\n   - Add extra spacing buffer (e.g., nav height + 16px)\n\n3. **Potential approaches:**\n   - Add padding to main layout wrapper on mobile\n   - Use `padding-bottom` with `env(safe-area-inset-bottom)` for iOS notch support\n   - Apply to `app.vue` or main layout component\n   - Use Tailwind responsive classes (e.g., `pb-20 md:pb-0`)\n\n**Files to investigate:**\n- `app/app.vue` or main layout file\n- Mobile navigation component (likely in `app/components/`)\n- Layout components or page wrappers\n- Global CSS or Tailwind config\n\n**Testing:**\n- Verify on various mobile screen sizes\n- Test on iOS (with safe area insets)\n- Check all pages have proper clearance\n- Ensure desktop layout is unaffected\n\n**Acceptance Criteria:**\n- All page content is fully visible on mobile\n- Bottom padding accounts for navigation height + buffer\n- Works on all mobile breakpoints\n- Respects iOS safe area insets\n- Desktop layout remains unchanged","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-18T20:19:17.707064351+01:00","updated_at":"2026-01-18T20:37:25.584141185+01:00","closed_at":"2026-01-18T20:37:25.584141185+01:00"}
{"id":"movies-deluxe-bob7","title":"Fix database worker null/undefined type mismatches","description":"database.worker.ts:462-471 - Multiple properties returning 'null' but types expect 'undefined'. Also db.pointer type issues at lines 288,297.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-25T21:49:31.501418451+01:00","updated_at":"2026-01-25T22:17:36.115492259+01:00","closed_at":"2026-01-25T22:17:36.115492259+01:00"}
{"id":"movies-deluxe-bp9m","title":"Remove getPrimaryTitle dependency - ensure main title is always string","description":"Currently the codebase uses getPrimaryTitle utility to handle cases where movie titles can be either string or string[]. This creates complexity and potential inconsistencies. The goal is to normalize the data structure so that the main title field is always a string, eliminating the need for getPrimaryTitle utility function. This will simplify the codebase and reduce potential bugs from type inconsistencies.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T04:53:40.612652345+01:00","updated_at":"2026-01-02T11:47:35.511274946+01:00","closed_at":"2026-01-02T11:47:35.511274946+01:00"}
{"id":"movies-deluxe-bpm5","title":"Create movie JSON file generation logic","description":"Implement logic to generate individual movie JSON files in /public/movies/[imdbId].json containing the complete movie data including OMDB metadata, sources, and related movies. Include folder cleanup to remove old files before generation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T13:07:35.916445094+01:00","updated_at":"2026-01-02T13:55:10.985339867+01:00","closed_at":"2026-01-02T13:55:10.985339867+01:00","dependencies":[{"issue_id":"movies-deluxe-bpm5","depends_on_id":"movies-deluxe-wwl0","type":"discovered-from","created_at":"2026-01-02T13:09:23.520516941+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-brbh","title":"Add people tables and indexes to SQLite schema","description":"Create database schema for actors, directors, and writers with FTS5 indexes.\n\n## Tables to Create\n1. **actors** table: id (INTEGER PRIMARY KEY), name (TEXT UNIQUE), movie_count (INTEGER)\n2. **directors** table: id (INTEGER PRIMARY KEY), name (TEXT UNIQUE), movie_count (INTEGER)\n3. **writers** table: id (INTEGER PRIMARY KEY), name (TEXT UNIQUE), movie_count (INTEGER)\n\n## Junction Tables\n1. **movie_actors**: movieId (TEXT), actorId (INTEGER), character (TEXT, optional)\n2. **movie_directors**: movieId (TEXT), directorId (INTEGER)\n3. **movie_writers**: movieId (TEXT), writerId (INTEGER)\n\n## FTS5 Indexes\n1. **fts_actors**: actorId UNINDEXED, name\n2. **fts_directors**: directorId UNINDEXED, name\n3. **fts_writers**: writerId UNINDEXED, name\n\n## Regular Indexes\n- idx_actors_name, idx_actors_count\n- idx_directors_name, idx_directors_count\n- idx_writers_name, idx_writers_count\n- idx_movie_actors_movieId, idx_movie_actors_actorId\n- idx_movie_directors_movieId, idx_movie_directors_directorId\n- idx_movie_writers_movieId, idx_movie_writers_writerId\n\n## File to Modify\n- server/utils/generateSQLite.ts (schema creation section)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T21:09:54.623284935+01:00","updated_at":"2026-01-18T21:11:50.892470001+01:00","closed_at":"2026-01-18T21:11:50.892470001+01:00","dependencies":[{"issue_id":"movies-deluxe-brbh","depends_on_id":"movies-deluxe-7l8m","type":"discovered-from","created_at":"2026-01-18T21:10:25.89228127+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-bvpt","title":"Create movie-to-markdown converter for embedding generation","description":"Create utility function to convert MovieEntry to markdown representation for embedding:\n- Include: title, year, genres, plot, director, actors, country\n- Format: structured markdown for optimal embedding quality\n- Handle missing metadata gracefully\n- Location: server/utils/movieEmbeddings.ts\n\nExample output:\n```\n# The Shawshank Redemption (1994)\nGenres: Drama, Crime\nDirector: Frank Darabont\nPlot: Two imprisoned men bond over a number of years...\n```","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T01:47:53.936833818+01:00","updated_at":"2026-01-13T21:14:07.494243292+01:00","closed_at":"2026-01-13T21:14:07.494243292+01:00","dependencies":[{"issue_id":"movies-deluxe-bvpt","depends_on_id":"movies-deluxe-e6fe","type":"blocks","created_at":"2026-01-12T01:48:07.466386434+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-bxxl","title":"Move collections.json back to public/data/ directory","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T00:57:56.115995642+01:00","updated_at":"2026-01-03T00:59:17.12285491+01:00","closed_at":"2026-01-03T00:59:17.12285491+01:00"}
{"id":"movies-deluxe-c3lo","title":"Remove unused @ts-expect-error directives","description":"useBrowserEmbedding.ts:1 \u0026 bgeEmbedding.ts:97,99 - Clean up unused @ts-expect-error comments that are no longer needed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T21:49:35.185466565+01:00","updated_at":"2026-01-25T21:54:09.63354837+01:00","closed_at":"2026-01-25T21:54:09.63354837+01:00"}
{"id":"movies-deluxe-c3pt","title":"prevent duplicate retrieval of movies/[id].json file in single movie page","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T20:50:16.285328889+01:00","updated_at":"2026-01-06T20:53:20.05864551+01:00","closed_at":"2026-01-06T20:53:20.05864551+01:00"}
{"id":"movies-deluxe-cayu","title":"Optimize liked check in useMovieStore","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:36:48.697543375+01:00","updated_at":"2026-01-10T22:38:14.451723431+01:00","closed_at":"2026-01-10T22:38:14.451723431+01:00"}
{"id":"movies-deluxe-cd0u","title":"Show YouTube channel name in AdminCurationPanel sources section","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T00:41:44.597150096+01:00","updated_at":"2026-01-12T22:20:05.060220629+01:00","closed_at":"2026-01-12T22:20:05.060220629+01:00"}
{"id":"movies-deluxe-cj0e","title":"Fix movie.imdbId undefined error in movie detail page","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-03T02:35:32.713011539+01:00","updated_at":"2026-01-03T02:35:42.080742769+01:00","closed_at":"2026-01-03T02:35:42.080742769+01:00"}
{"id":"movies-deluxe-cp0z","title":"Add search mode toggle to search UI","description":"Update search interface to include mode selector:\n- Add toggle/dropdown: Keyword / Semantic / Hybrid\n- Store preference in localStorage\n- Show loading state during embedding generation\n- Add tooltip explaining each mode\n- Update search placeholder based on mode","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T01:47:58.768939087+01:00","updated_at":"2026-01-13T21:29:28.525667696+01:00","closed_at":"2026-01-13T21:29:28.525667696+01:00","dependencies":[{"issue_id":"movies-deluxe-cp0z","depends_on_id":"movies-deluxe-1d1r","type":"blocks","created_at":"2026-01-12T01:48:12.313041522+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-ct20","title":"Fix undefined movieStore in collections page","description":"","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-10T23:30:44.461158032+01:00","updated_at":"2026-01-10T23:30:58.533609282+01:00","closed_at":"2026-01-10T23:30:58.533609282+01:00"}
{"id":"movies-deluxe-cw5t","title":"Remember scroll position per page (exclude /movie/* and /admin/*)","description":"Implement scroll position memory for navigation between pages. When users navigate away from a page and return, restore their previous scroll position.\n\n**Requirements:**\n- Remember scroll position separately for each page route\n- Exclude /movie/* routes (always scroll to top)\n- Exclude /admin/* routes (always scroll to top)\n- Use @app/stores/useUiStore.ts as central storage for scroll positions\n- Use Nuxt-native tools/composables where possible (e.g., useRouter, middleware)\n- Store scroll positions in memory (no persistence needed across sessions)\n- Restore scroll position after page navigation completes\n\n**Implementation approach:**\n1. Add scroll position state to useUiStore.ts:\n   - scrollPositions: Map\u003cstring, number\u003e to store route -\u003e scroll position\n   - saveScrollPosition(route: string, position: number)\n   - getScrollPosition(route: string): number | undefined\n   - clearScrollPosition(route: string)\n\n2. Create a composable or plugin to handle scroll restoration:\n   - Use Nuxt router hooks to capture scroll position before navigation\n   - Check if route matches exclusion patterns (/movie/*, /admin/*)\n   - Save/restore scroll positions via useUiStore\n   - Apply scroll restoration after navigation completes\n\n3. Consider using Nuxt's scrollBehavior configuration in nuxt.config.ts if applicable","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T00:50:45.367803642+01:00","updated_at":"2026-01-12T22:32:11.27872129+01:00","closed_at":"2026-01-12T22:32:11.27872129+01:00"}
{"id":"movies-deluxe-cxls","title":"Add page titles to all admin pages and other pages if missing","description":"Review all pages in the app/pages directory and ensure they have proper page titles using useHead() or useSeoMeta(). Focus on admin pages first, then check other pages for missing titles. Page titles should be descriptive and follow a consistent format.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T17:59:47.735017573+01:00","updated_at":"2026-01-10T18:07:23.144003038+01:00","closed_at":"2026-01-10T18:07:23.144003038+01:00"}
{"id":"movies-deluxe-d15u","title":"Remove duplicate YouTube statistics from stats.json - keep external.youtube.channels, remove database.youtubeChannels","description":"The stats.json file contains duplicate YouTube channel statistics. The database.youtubeChannels array (lines 24-116) duplicates data that's already in external.youtube.channels (lines 132-263). The external version has more complete data including failure rates and totals. Remove the database.youtubeChannels array and migrate any functions that depend on it to use external.youtube.channels instead.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T18:49:33.458276112+01:00","updated_at":"2026-01-08T21:22:54.477078976+01:00","closed_at":"2026-01-08T21:22:54.477078976+01:00"}
{"id":"movies-deluxe-d98y","title":"Create vector search composable for semantic search","description":"Create app/composables/useVectorSearch.ts:\n- Function to generate query embeddings (client-side or API)\n- Function to search vec_movies table using cosine similarity\n- Return movie IDs ranked by similarity score\n- Integrate with existing database worker\n- Handle errors and fallback to FTS5\n\nSQL query pattern:\n```sql\nSELECT movie_id, distance\nFROM vec_movies\nWHERE embedding MATCH ?\nORDER BY distance\nLIMIT 20\n```","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T01:47:57.109627131+01:00","updated_at":"2026-01-13T21:21:49.837534465+01:00","closed_at":"2026-01-13T21:21:49.837534465+01:00","dependencies":[{"issue_id":"movies-deluxe-d98y","depends_on_id":"movies-deluxe-wku0","type":"blocks","created_at":"2026-01-12T01:48:10.317245476+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-deoi","title":"Add color theme support for /admin dashboard","description":"Extend the existing dark mode toggle to support color themes in the admin dashboard. The main app already has theme support via AppDarkModeToggle component and dark-mode.client.ts plugin. Apply the same theming system to admin pages so they respect user's theme preference. Remove the separate light/dark mode switch from the admin dashboard header and use the existing global theme system instead.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T11:07:48.185259601+01:00","updated_at":"2026-01-02T12:05:32.525709204+01:00","closed_at":"2026-01-02T11:56:10.688282156+01:00"}
{"id":"movies-deluxe-djt2","title":"Create AdminSearchHeader component with filter buttons","description":"Create a new component that replicates the filter UI from SearchHeader.vue but for admin use. This should:\n- Include search input with search mode selector (exact/semantic)\n- Include all filter buttons: Sort, Rating, Year, Votes, Genres, Countries, Source\n- Use FilterPopup and existing Filter*Control components\n- Accept filters state as prop or use useAdminSearchFilters composable\n- NOT include the fixed positioning/overlay behavior from SearchHeader\n- Emit events for filter changes\n\nFile: app/components/AdminSearchHeader.vue\n\nReuse existing components:\n- SearchModeSelector.vue\n- FilterButton.vue\n- FilterPopup.vue\n- FilterSortControl.vue, FilterRatingControl.vue, etc.\n\nNote: The Filter*Control components currently read from useMovieStore directly. We need to either:\n1. Make them accept filters as props, OR\n2. Create admin-specific versions, OR\n3. Use provide/inject pattern","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T23:51:50.500411691+01:00","updated_at":"2026-01-18T23:56:28.030738144+01:00","closed_at":"2026-01-18T23:56:28.030738144+01:00","dependencies":[{"issue_id":"movies-deluxe-djt2","depends_on_id":"movies-deluxe-zo3y","type":"blocks","created_at":"2026-01-18T23:52:12.287332484+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-djt2","depends_on_id":"movies-deluxe-wm79","type":"blocks","created_at":"2026-01-18T23:52:19.205824503+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-djt2","depends_on_id":"movies-deluxe-khgm","type":"blocks","created_at":"2026-01-18T23:52:19.325601676+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-dlpu","title":"Implement BGE-micro-v2 browser embedding module","description":"Port the existing scripts/utils/bgeMicroEmbeddings.ts to work in browser using @huggingface/transformers.\n\n## Implementation Details\n- Use existing @huggingface/transformers (v3.8.1) - works in browser\n- Model: TaylorAI/bge-micro-v2 with quantized ONNX (q8)\n- Dimensions: 384\n- Max tokens: 512\n\n## Key Differences from Node Version\n- Configure for WASM/WebGPU backend instead of Node\n- Handle model caching (transformers.js handles this automatically)\n- Add progress callback for model download\n\n## Location\n- `app/utils/embedding/bgeEmbedding.ts`\n\n## Reference\n- Existing implementation: scripts/utils/bgeMicroEmbeddings.ts\n- Model size: ~18MB (acceptable for browser)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T00:55:11.958511912+01:00","updated_at":"2026-01-20T00:59:19.463824956+01:00","closed_at":"2026-01-20T00:59:19.463824956+01:00","dependencies":[{"issue_id":"movies-deluxe-dlpu","depends_on_id":"movies-deluxe-7znm","type":"discovered-from","created_at":"2026-01-20T00:55:29.516409716+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-dlpu","depends_on_id":"movies-deluxe-ht9m","type":"blocks","created_at":"2026-01-20T00:55:35.223236592+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-dpd8","title":"Optimize movie loading to be grid-only with proper cache management","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-12T23:06:04.527909908+01:00","updated_at":"2026-01-12T23:16:29.747982475+01:00","closed_at":"2026-01-12T23:16:29.747982475+01:00"}
{"id":"movies-deluxe-drft","title":"Add file size indicator bar to Archive.org source buttons","description":"Add a 2px high bar at the bottom of Archive.org source buttons that visualizes file size from 0-4GB. Bar should be 50% wide at 2GB and 100% wide at 4GB or larger. This provides quick visual feedback about file size without cluttering the UI.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T20:29:51.330244314+01:00","updated_at":"2026-01-11T20:39:14.324685458+01:00","closed_at":"2026-01-11T20:39:14.324685458+01:00"}
{"id":"movies-deluxe-dskx","title":"Fix movie detail page error handling for non-existent movies","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-03T03:03:04.484962927+01:00","updated_at":"2026-01-03T03:03:43.376147883+01:00","closed_at":"2026-01-03T03:03:43.376147883+01:00"}
{"id":"movies-deluxe-duev","title":"Add quality marking methods to movies store","description":"Implement markMovieQuality, clearMovieQuality, getQualityFilteredMovies, and getMarkedMovies methods in app/stores/movies.ts. Methods should save changes to movies.json and update store state.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T04:04:00.894148178+01:00","updated_at":"2026-01-02T11:03:49.682519163+01:00","closed_at":"2026-01-02T11:03:49.682519163+01:00","dependencies":[{"issue_id":"movies-deluxe-duev","depends_on_id":"movies-deluxe-sw4m","type":"blocks","created_at":"2026-01-02T02:36:57.932319776+01:00","created_by":"linux-falko"}]}
{"id":"movies-deluxe-e57f","title":"Add real-time log messages for admin dashboard refresh stats","description":"Show real-time log messages in the admin dashboard when refreshing stats. Use emitProgress to stream progress updates to the UI so users can see what's happening during the stats refresh process.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-03T01:13:35.130322522+01:00","updated_at":"2026-01-03T01:30:16.445167082+01:00","closed_at":"2026-01-03T01:30:16.445167082+01:00"}
{"id":"movies-deluxe-e6fe","title":"Install and configure sqlite-vec and ollama dependencies","description":"Add required dependencies to package.json:\n- sqlite-vec (for vector search extension)\n- ollama (for embedding generation)\n\nUpdate scripts/copy-sqlite-wasm.ts to include sqlite-vec extension files.\nVerify compatibility with existing SQLite setup.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-12T01:47:52.784959948+01:00","updated_at":"2026-01-13T21:12:04.425744705+01:00","closed_at":"2026-01-13T21:12:04.425744705+01:00","dependencies":[{"issue_id":"movies-deluxe-e6fe","depends_on_id":"movies-deluxe-i1cu","type":"blocks","created_at":"2026-01-12T01:48:06.470874575+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-e9j8","title":"Add decade-based collections (1920s-2020s)","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T02:14:21.321301512+01:00","updated_at":"2026-01-07T02:14:37.184840701+01:00","closed_at":"2026-01-07T02:14:37.184840701+01:00"}
{"id":"movies-deluxe-ebai","title":"Update SQLite generation to exclude marked movies","description":"Update scripts/generate-sqlite.ts to filter out movies with qualityLabels during database generation. Log count of excluded movies. Add optional --include-marked flag to include them for testing.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T04:04:03.318285461+01:00","updated_at":"2026-01-02T11:11:37.891258317+01:00","closed_at":"2026-01-02T11:11:37.891258317+01:00","dependencies":[{"issue_id":"movies-deluxe-ebai","depends_on_id":"movies-deluxe-sw4m","type":"blocks","created_at":"2026-01-02T02:36:58.447123767+01:00","created_by":"linux-falko"}]}
{"id":"movies-deluxe-egf8","title":"Update generateSQLite.ts to skip embedding insertion into main DB","description":"Modify server/utils/generateSQLite.ts to:\n- Skip loading embeddings from separate DB files (lines 48-82)\n- Skip creating vec_movies table in main DB (line 245-249)\n- Skip inserting embeddings into vec_movies (lines 424-428)\n- Update config table to indicate embeddings are external\n- Keep embedding model metadata in config for reference\n- Result: movies.db reduces from 70MB to ~10MB","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:26:11.656901336+01:00","updated_at":"2026-01-25T18:31:44.403075688+01:00","closed_at":"2026-01-25T18:31:44.403075688+01:00","dependencies":[{"issue_id":"movies-deluxe-egf8","depends_on_id":"movies-deluxe-i7li","type":"blocks","created_at":"2026-01-25T18:26:30.470016656+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-ehga","title":"Add commit lint to require conventional commits","description":"Investigate why commit 3df0b8c89541a9d5a8fb20a0ba1788ae5b48787e was allowed without a conventional commit format. The commit message 'Add page title to admin collections page' should have been in conventional commit format (e.g., 'feat: add page title to admin collections page' or 'chore: add page title to admin collections page'). Add commitlint or similar tooling to enforce conventional commit format in pre-commit hooks.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T18:21:07.639672395+01:00","updated_at":"2026-01-10T18:22:50.517026478+01:00","closed_at":"2026-01-10T18:22:50.517026478+01:00"}
{"id":"movies-deluxe-ehsr","title":"Simplify watchDebounced filter implementation to build one request and always filter via database","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T02:43:00.754874686+01:00","updated_at":"2026-01-13T05:44:14.3358342+01:00","closed_at":"2026-01-13T05:44:14.335841808+01:00"}
{"id":"movies-deluxe-enyb","title":"Add ATTACH DATABASE support to database worker","description":"Modify app/workers/database.worker.ts to support multiple databases:\n- Add 'attach-embeddings' message type to attach embeddings DB\n- Add 'detach-embeddings' message type to detach embeddings DB\n- Store reference to attached embeddings DB\n- Verify sqlite-wasm supports ATTACH DATABASE command\n- Handle memory allocation for second database\n- Update dimension validation to check embeddings DB config","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:26:15.089362626+01:00","updated_at":"2026-01-25T18:33:18.82022691+01:00","closed_at":"2026-01-25T18:33:18.82022691+01:00","dependencies":[{"issue_id":"movies-deluxe-enyb","depends_on_id":"movies-deluxe-i7li","type":"blocks","created_at":"2026-01-25T18:26:31.4962996+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-eozn","title":"Add shared types for admin database generation API","description":"Create shared TypeScript types for database generation API request/response. Update admin store types if needed.\n\nFiles to create/modify:\n- shared/types/admin.ts (create if doesn't exist)\n- app/stores/useAdminStore.ts (update if needed)\n\nRequirements:\n- Define GenerateDatabaseRequest interface\n- Define GenerateDatabaseResponse interface\n- Export types for use in API and frontend\n- Ensure type safety across API boundary","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-20T23:19:08.760791526+01:00","updated_at":"2026-01-20T23:25:08.579163544+01:00","closed_at":"2026-01-20T23:25:08.579163544+01:00","dependencies":[{"issue_id":"movies-deluxe-eozn","depends_on_id":"movies-deluxe-wxzz","type":"discovered-from","created_at":"2026-01-20T23:19:44.476706731+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-ep2v","title":"Move SearchHeader to search page and make it sticky","description":"Move the \u003cSearchHeader /\u003e component from its current location to app/pages/search.vue. Make it sticky at the top of the page and ensure it cannot be closed. The search header should remain visible while scrolling through the movie results.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T01:13:05.288536344+01:00","updated_at":"2026-01-10T01:20:02.820928197+01:00","closed_at":"2026-01-10T01:20:02.820928197+01:00"}
{"id":"movies-deluxe-eus3","title":"Fix dimension mismatch: regenerate DB or update default","description":"Current production DB (movies.db) has 64D Potion embeddings, but API defaults to 768D Nomic. Once metadata system is in place, either: (A) regenerate movies.db with Nomic embeddings to match API, or (B) ensure API uses Potion model when DB contains Potion embeddings. Decision: use metadata to auto-select correct model.","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-20T23:43:51.145981967+01:00","updated_at":"2026-01-21T00:04:43.260607396+01:00","closed_at":"2026-01-21T00:04:43.260607396+01:00","dependencies":[{"issue_id":"movies-deluxe-eus3","depends_on_id":"movies-deluxe-khas","type":"blocks","created_at":"2026-01-20T23:44:19.63029526+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-f8jo","title":"Generate home pages should never include disabled collections","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-08T20:38:46.00425017+01:00","updated_at":"2026-01-08T21:27:15.046527329+01:00","closed_at":"2026-01-08T21:27:15.046527329+01:00"}
{"id":"movies-deluxe-fa7j","title":"Update useDatabase composable for multi-database support","description":"Modify app/composables/useDatabase.ts to:\n- Add attachEmbeddings(modelId: string) method\n- Add detachEmbeddings() method\n- Add isEmbeddingsLoaded() status check\n- Update init() to only load main movies.db\n- Add progress tracking for embeddings loading\n- Handle errors when embeddings DB fails to load","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:26:16.938127099+01:00","updated_at":"2026-01-25T18:34:49.039217117+01:00","closed_at":"2026-01-25T18:34:49.039217117+01:00","dependencies":[{"issue_id":"movies-deluxe-fa7j","depends_on_id":"movies-deluxe-enyb","type":"blocks","created_at":"2026-01-25T18:26:31.973001891+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-fcyl","title":"Display embedding model info in search explainer popup","description":"Update the search mode explainer popup to show which embedding model is currently being used for semantic search. Display: model name, dimensions, and source (API/browser). Read model info from database metadata.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-20T23:45:58.408545203+01:00","updated_at":"2026-01-21T00:18:07.517609091+01:00","closed_at":"2026-01-21T00:18:07.517609091+01:00","dependencies":[{"issue_id":"movies-deluxe-fcyl","depends_on_id":"movies-deluxe-rg04","type":"blocks","created_at":"2026-01-20T23:46:03.985326948+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-ffiq","title":"Fix admin page poster stats property references","description":"admin/index.vue:220,222 - References non-existent 'percentOfMoviesWithImdbId' and 'withImdbId' properties. Should use correct property names from stats.posters.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-25T21:49:29.905715542+01:00","updated_at":"2026-01-25T22:17:36.088676413+01:00","closed_at":"2026-01-25T22:17:36.088676413+01:00"}
{"id":"movies-deluxe-fljq","title":"Optimize queryByIds() for batch loading","description":"Review and optimize the queryByIds() method in database worker for efficient batch loading of movie data. Ensure it handles large batches efficiently and returns results in the correct order. Add caching to avoid re-fetching already loaded movies.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:03:18.243983084+01:00","updated_at":"2026-01-10T22:07:47.428208525+01:00","closed_at":"2026-01-10T22:07:47.428208525+01:00","dependencies":[{"issue_id":"movies-deluxe-fljq","depends_on_id":"movies-deluxe-n3ae","type":"discovered-from","created_at":"2026-01-10T22:03:48.440010654+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-fq0h","title":"Create migration script to convert embeddings.json to SQLite","description":"Create scripts/migrate-embeddings-to-db.ts that:\n- Reads data/embeddings.json\n- Creates data/nomic-embed-movies.db with schema:\n  CREATE TABLE embeddings (\n    movie_id TEXT PRIMARY KEY,\n    embedding BLOB NOT NULL,\n    created_at TEXT NOT NULL\n  )\n- Converts each embedding array to Float32Array and stores as BLOB\n- Includes progress reporting\n- Handles errors gracefully\n- Verifies migration success (count matches)\n\nUsage: pnpm tsx scripts/migrate-embeddings-to-db.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T23:29:14.310251195+01:00","updated_at":"2026-01-19T23:30:06.727453455+01:00","closed_at":"2026-01-19T23:30:06.727453455+01:00","dependencies":[{"issue_id":"movies-deluxe-fq0h","depends_on_id":"movies-deluxe-5n9y","type":"blocks","created_at":"2026-01-19T23:29:27.298728993+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-fs50","title":"Add onnxruntime-web dependency","description":"Add onnxruntime-web package for browser-side ONNX inference (required for Potion model).\n\n## Commands\n```bash\npnpm add onnxruntime-web\n```\n\n## Nuxt Configuration\nMay need to configure Vite to handle WASM files:\n```typescript\n// nuxt.config.ts\nvite: {\n  optimizeDeps: {\n    exclude: ['onnxruntime-web']\n  }\n}\n```\n\n## Notes\n- onnxruntime-web includes WASM backend\n- WebGPU support available in newer versions\n- ~2MB additional bundle size","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T00:55:25.062219005+01:00","updated_at":"2026-01-20T00:58:25.217236238+01:00","closed_at":"2026-01-20T00:58:25.217236238+01:00","dependencies":[{"issue_id":"movies-deluxe-fs50","depends_on_id":"movies-deluxe-7znm","type":"discovered-from","created_at":"2026-01-20T00:55:29.779429035+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-fta2","title":"Add search UI hints and documentation","description":"Enhance search UI to guide users on keyword search syntax.\n\n## UI Enhancements\n1. Update search input placeholder with examples:\n   - 'Search movies... (try: actor:Tom Hanks, director:Nolan)'\n2. Add help tooltip/icon next to search input\n3. Show keyword syntax examples in tooltip:\n   - actor:name - Search by actor\n   - director:name - Search by director\n   - writer:name - Search by writer\n   - title:name - Search by title\n   - Multiple: actor:Tom Hanks director:Spielberg\n   - Quotes: actor:\"Tom Hanks\"\n\n## Optional Enhancements\n- Highlight matched fields in search results\n- Show which field matched (badge/tag)\n- Add autocomplete suggestions for common actors/directors\n\n## Files to Modify\n- app/components/SearchHeader.vue (or relevant search component)\n- Add help icon component if needed\n\n## Dependencies\n- Requires backend search functionality to be working","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T21:10:12.994499079+01:00","updated_at":"2026-01-18T21:15:20.277861489+01:00","closed_at":"2026-01-18T21:15:20.277861489+01:00","dependencies":[{"issue_id":"movies-deluxe-fta2","depends_on_id":"movies-deluxe-7l8m","type":"discovered-from","created_at":"2026-01-18T21:10:26.019884359+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-fta2","depends_on_id":"movies-deluxe-y5p3","type":"blocks","created_at":"2026-01-18T21:10:31.761898671+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-fta2","depends_on_id":"movies-deluxe-liw7","type":"blocks","created_at":"2026-01-18T21:10:31.791069255+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-fx4q","title":"Remove filter icon from Sidebar.vue","description":"Remove filter button and related functionality from Sidebar.vue.\n\nRequirements:\n- Remove filter button from desktop sidebar (lines ~88-116)\n- Remove filter button from mobile sidebar (lines ~231-260)\n- Remove activeFiltersCount import and usage\n- Remove openFilters emit and handler\n- Remove clearFilters function\n- Keep other navigation buttons intact\n- Update layout/spacing after removal\n\nLocation: app/components/Sidebar.vue\n\nDependencies: SearchHeader refactor must be complete and tested","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T04:22:52.250980048+01:00","updated_at":"2026-01-11T04:38:25.13898514+01:00","closed_at":"2026-01-11T04:38:25.13898514+01:00","dependencies":[{"issue_id":"movies-deluxe-fx4q","depends_on_id":"movies-deluxe-ioaw","type":"blocks","created_at":"2026-01-11T04:25:29.984469716+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-fz79","title":"Fix movie poster skeletons that never load in /search grid","description":"**Problem:**\nSome movie entries in the /search page movie grid remain as Poster Skeletons and never load their actual content.\n\n**Current Behavior:**\n- Movie grid displays skeleton loaders for some entries\n- These skeletons never resolve to actual movie posters/data\n- Other movies in the same grid load successfully\n\n**Investigation Needed:**\n1. **Identify the root cause:**\n   - Are these movies missing from the database?\n   - Is there a data fetching error that's being silently swallowed?\n   - Is there a race condition with the database initialization? (related to movies-deluxe-r5t5)\n   - Are the movie IDs invalid or malformed?\n   - Is there an issue with the poster URL or image loading?\n\n2. **Check these areas:**\n   - Search results data structure and movie ID format\n   - Database query responses for these specific movies\n   - Error handling in movie data fetching composables\n   - Console errors or network failures\n   - MovieCard/PosterCard component loading logic\n   - Skeleton visibility conditions\n\n3. **Potential causes:**\n   - Database queries failing silently before initialization (see movies-deluxe-r5t5)\n   - Missing error boundaries in components\n   - Invalid movie IDs in search results\n   - Failed image loads not triggering fallback\n   - Infinite loading state due to missing data\n\n**Files to investigate:**\n- `app/pages/search.vue` or search page component\n- Movie grid/card components (MovieCard, PosterCard, etc.)\n- Search-related composables\n- Database query methods (queryByIds, etc.)\n- Image loading logic\n\n**Expected Behavior:**\n- All movie entries should either load successfully or show an error state\n- No entries should remain in skeleton state indefinitely\n- Failed loads should have proper fallback UI\n\n**Acceptance Criteria:**\n- Identify why specific movies fail to load\n- Fix the underlying issue\n- Add proper error handling and fallback states\n- Verify all movies in search results load or show appropriate error UI","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-18T20:08:34.379163914+01:00","updated_at":"2026-01-18T20:38:01.726430311+01:00","closed_at":"2026-01-18T20:38:01.726456459+01:00"}
{"id":"movies-deluxe-g199","title":"Frontend verification with chrome-devtools","description":"Pause before this issue and ask the user to inspect the progress.\nUse chrome-devtools MCP to verify: home page collections render, horizontal scrolling works, explore more links work, /search page works, search navigation works, mobile responsive.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T16:21:28.375150789+01:00","updated_at":"2026-01-08T17:24:06.086194224+01:00","closed_at":"2026-01-08T17:24:06.086194224+01:00","dependencies":[{"issue_id":"movies-deluxe-g199","depends_on_id":"movies-deluxe-i5ag","type":"discovered-from","created_at":"2026-01-08T16:21:46.987104798+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-g199","depends_on_id":"movies-deluxe-ji8g","type":"blocks","created_at":"2026-01-08T16:21:54.893076949+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-g199","depends_on_id":"movies-deluxe-qrez","type":"blocks","created_at":"2026-01-08T16:21:55.769389368+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-g199","depends_on_id":"movies-deluxe-j6mz","type":"blocks","created_at":"2026-01-08T16:21:56.324721734+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-g20i","title":"Add OpenCode plugin to prevent git commit --no-verify","description":"Create a new OpenCode plugin similar to .opencode/plugin/tmp-protection.ts that prevents the agent from using 'git commit --no-verify' or any git command with --no-verify flag. This will ensure that commit-msg hooks (commitlint) and pre-commit hooks (lint-staged) are always executed, preventing non-conventional commits from being created. The plugin should intercept bash tool calls and check for git commands with --no-verify, --no-gpg-sign, or similar hook-bypassing flags.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T18:24:12.764110467+01:00","updated_at":"2026-01-10T18:25:55.369252358+01:00","closed_at":"2026-01-10T18:25:55.369252358+01:00"}
{"id":"movies-deluxe-g4dz","title":"Create HomeCollectionRow component","description":"Create horizontal scrolling row component with snap points. Shows collection title/description header and 10 items (9 movies (MovieCard.vue) + 1 explore more). Touch-friendly with CSS scroll-snap.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T16:21:23.158962432+01:00","updated_at":"2026-01-08T17:19:22.133194553+01:00","closed_at":"2026-01-08T17:19:22.133194553+01:00","dependencies":[{"issue_id":"movies-deluxe-g4dz","depends_on_id":"movies-deluxe-i5ag","type":"discovered-from","created_at":"2026-01-08T16:21:44.231718053+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-g4dz","depends_on_id":"movies-deluxe-08g3","type":"blocks","created_at":"2026-01-08T16:21:51.923277644+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-g6ri","title":"Add database initialization plugin and splash screen","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T03:14:33.756262647+01:00","updated_at":"2026-01-13T03:20:44.69131664+01:00","closed_at":"2026-01-13T03:20:44.69131664+01:00"}
{"id":"movies-deluxe-gac4","title":"Add vector search tests and performance benchmarks","description":"Create tests for vector search functionality:\n- Unit tests for embedding generation\n- Integration tests for vector search queries\n- Performance benchmarks (search latency, accuracy)\n- Compare FTS5 vs vector search results\n- Document findings in history/","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-12T01:48:01.04656415+01:00","updated_at":"2026-01-13T21:41:32.939334393+01:00","closed_at":"2026-01-13T21:41:32.939334393+01:00","dependencies":[{"issue_id":"movies-deluxe-gac4","depends_on_id":"movies-deluxe-0dfk","type":"blocks","created_at":"2026-01-12T01:48:16.299128868+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-gac4","depends_on_id":"movies-deluxe-1d1r","type":"blocks","created_at":"2026-01-12T01:48:16.302845471+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-gde7","title":"Update BGE embedding to load from local files instead of Hugging Face","description":"Modify app/utils/embedding/bgeEmbedding.ts to load model files from /models/ (public directory) instead of downloading from Hugging Face CDN. Configure transformers.js env: allowLocalModels=true, allowRemoteModels=false, localModelPath='/models/', and use local_files_only=true option.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-21T00:34:33.228882268+01:00","updated_at":"2026-01-21T00:37:40.347767035+01:00","closed_at":"2026-01-21T00:37:40.347767035+01:00","dependencies":[{"issue_id":"movies-deluxe-gde7","depends_on_id":"movies-deluxe-bafo","type":"blocks","created_at":"2026-01-21T00:34:42.580822803+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-gebq","title":"Test and optimize search performance","description":"Test keyword search functionality and optimize query performance.\n\n## Testing Tasks\n1. **Unit Tests**\n   - Query parser with various input patterns\n   - Edge cases: empty strings, special characters, quotes\n\n2. **Integration Tests**\n   - Single keyword searches (actor:, director:, writer:, title:)\n   - Multiple keyword searches\n   - General search (no keywords)\n   - Combined with filters (rating, year, genre)\n\n3. **Performance Tests**\n   - Measure query execution time\n   - Test with large result sets\n   - Verify index usage with EXPLAIN QUERY PLAN\n   - Target: \u003c 300ms for typical queries\n\n4. **E2E Tests**\n   - Full search flow from UI input to results display\n   - Test on various devices/browsers\n\n## Optimization\n- Add missing indexes if needed\n- Optimize JOIN order\n- Consider query result caching for popular searches\n\n## Success Criteria\n- All tests passing\n- Query performance under 300ms\n- No regressions in existing search functionality\n\n## Dependencies\n- Requires all previous tasks completed","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T21:10:16.884441762+01:00","updated_at":"2026-01-18T21:16:38.22165329+01:00","closed_at":"2026-01-18T21:16:38.22165329+01:00","dependencies":[{"issue_id":"movies-deluxe-gebq","depends_on_id":"movies-deluxe-7l8m","type":"discovered-from","created_at":"2026-01-18T21:10:26.04522741+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-gebq","depends_on_id":"movies-deluxe-brbh","type":"blocks","created_at":"2026-01-18T21:10:31.820395273+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-gebq","depends_on_id":"movies-deluxe-p6ul","type":"blocks","created_at":"2026-01-18T21:10:31.848496408+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-gebq","depends_on_id":"movies-deluxe-ysti","type":"blocks","created_at":"2026-01-18T21:10:31.870599817+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-gebq","depends_on_id":"movies-deluxe-y5p3","type":"blocks","created_at":"2026-01-18T21:10:31.890586322+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-gebq","depends_on_id":"movies-deluxe-liw7","type":"blocks","created_at":"2026-01-18T21:10:31.911652087+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-gfnc","title":"Refactor liked.vue and collections/[id].vue into shared MovieListPage component","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T00:41:25.973888343+01:00","updated_at":"2026-01-09T00:43:33.532414858+01:00","closed_at":"2026-01-09T00:43:33.532414858+01:00"}
{"id":"movies-deluxe-ghf9","title":"Move embeddings.json from /public/data to /data","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T22:30:02.563735149+01:00","updated_at":"2026-01-18T22:31:58.64459724+01:00","closed_at":"2026-01-18T22:31:58.64459724+01:00"}
{"id":"movies-deluxe-gj7q","title":"use movie virtual grid for collection movie grid","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-04T00:39:39.646195715+01:00","updated_at":"2026-01-04T01:03:05.357750913+01:00","closed_at":"2026-01-04T01:03:05.357750913+01:00"}
{"id":"movies-deluxe-gj8d","title":"add collections and search links section to home page","description":"Add a new section at the bottom of the home page (app/pages/index.vue) that provides navigation to:\n\n1. All collections page - with descriptive text explaining what collections are\n2. Search functionality - with text encouraging users to explore the full catalog\n\nDesign considerations:\n- Should be visually distinct from the collection rows above\n- Include clear call-to-action buttons/links\n- Use consistent styling with the rest of the app (theme colors, rounded buttons, etc.)\n- Consider adding icons for visual appeal (i-mdi-folder-multiple for collections, i-mdi-magnify for search)\n- Responsive design for mobile and desktop\n\nSuggested layout:\n- Two-column grid on desktop, stacked on mobile\n- Each section with heading, description text, and prominent link/button\n- Background styling to make it stand out as a footer-like section\n\nFiles to modify:\n- app/pages/index.vue (add new section after the collections showcase)\n\nRelated routes:\n- /collections - collections listing page\n- /search - search page","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T00:24:25.346391585+01:00","updated_at":"2026-01-12T22:07:57.100912312+01:00","closed_at":"2026-01-12T22:07:57.100912312+01:00"}
{"id":"movies-deluxe-gkso","title":"Create Alfred Hitchcock collection with search parameters","description":"Add a new collection for Alfred Hitchcock films to public/data/collections.json with search parameters configured, but without adding movies yet.\n\n**Collection details:**\n- **id**: `alfred-hitchcock`\n- **name**: `Alfred Hitchcock`\n- **description**: Suspenseful masterpieces from the Master of Suspense, Alfred Hitchcock, featuring psychological thrillers, mysteries, and iconic cinematic moments.\n- **movieIds**: [] (empty array - movies to be added later)\n- **createdAt**: Current timestamp\n- **updatedAt**: Current timestamp\n- **tags**: [\"thriller\", \"suspense\", \"mystery\", \"classic-hollywood\", \"auteur\"]\n\n**savedQueries configuration:**\nAdd a search query that will help find Hitchcock films:\n```json\n\"savedQueries\": [\n  {\n    \"searchQuery\": \"Alfred Hitchcock\",\n    \"filterState\": {\n      \"searchQuery\": \"Alfred Hitchcock\",\n      \"currentPage\": 1,\n      \"lastScrollY\": 0,\n      \"sort\": {\n        \"field\": \"relevance\",\n        \"direction\": \"desc\"\n      },\n      \"minRating\": 6.5,\n      \"minVotes\": 1000\n    }\n  }\n]\n```\n\n**Implementation:**\n1. Read the existing collections.json file\n2. Add the new `alfred-hitchcock` collection object with the structure above\n3. Update the `_schema.lastUpdated` timestamp\n4. Write the updated JSON back to the file\n5. Ensure proper JSON formatting (2-space indentation)\n\n**File to modify:**\n- public/data/collections.json\n\n**Note:** The movieIds array should remain empty for now. Movies will be added in a separate task after the collection structure is in place.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T17:16:07.220830352+01:00","updated_at":"2026-01-10T17:18:55.485445423+01:00","closed_at":"2026-01-10T17:18:55.485445423+01:00"}
{"id":"movies-deluxe-glov","title":"Add embedding model selection to /search page","description":"Enable users to select which embedding model to use for semantic search on the /search page. Support switching between Nomic (768D, API), BGE Micro (384D, browser), and Potion (64D, browser) models with appropriate UI and backend integration.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-20T23:43:49.3305366+01:00","updated_at":"2026-01-20T23:45:49.801138593+01:00","closed_at":"2026-01-20T23:45:49.801138593+01:00"}
{"id":"movies-deluxe-gm1t","title":"Remove 'Refresh Collection from Queries' from collection admin","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T17:36:23.25673572+01:00","updated_at":"2026-01-10T18:33:07.394398478+01:00","closed_at":"2026-01-10T18:33:07.394398478+01:00"}
{"id":"movies-deluxe-gold","title":"Fix SQLite error: missing sourceType column","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-13T02:32:21.111330863+01:00","updated_at":"2026-01-13T02:39:15.755557301+01:00","closed_at":"2026-01-13T02:39:15.755557301+01:00"}
{"id":"movies-deluxe-gx20","title":"Check and fix TypeScript type and lint errors","description":"Run type checking and linting to identify and fix all errors in the codebase.\n\n## Workflow\n\n1. Run `pnpm typecheck` - identify and fix type errors manually\n2. Run `pnpm lint:fix` - auto-fix lint errors\n3. Run `pnpm lint` - check for remaining errors\n4. Verify: `pnpm typecheck \u0026\u0026 pnpm lint`\n\n## Common Fixes\n\n**@typescript-eslint/no-unused-vars**: \n- Delete unused variable, or prefix with `_` if intentionally unused\n- For function params, just use underscore prefix\n\n**Missing null check**: \n- Use optional chaining: `movie.year?.toString() ?? 'Unknown'`\n\n**Console.log in app/**: \n- Remove or add: `// eslint-disable-next-line no-console`\n\n**Auto-import not found**: \n- Run `pnpm nuxt prepare` to regenerate types\n\n## Rules\n\n- **app/**: No console.log, strict types, auto-imports available\n- **scripts/**: Console.log allowed, manual imports required\n- **server/**: Console.log allowed, auto-imports available","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T16:02:47.189593626+01:00","updated_at":"2026-01-02T19:31:58.887842044+01:00","closed_at":"2026-01-02T19:31:58.887842044+01:00"}
{"id":"movies-deluxe-gxjj","title":"Define lightweight movie schema for database","description":"Define the minimal movie schema for the SQLite database containing only fields needed for grid display, search, and filtering: imdbId, title, year, imdbRating, imdbVotes, language, genre, country, qualityLabels, is_curated, verified, lastUpdated. Remove heavy fields like plot, director, writer, actors, awards, rated, runtime.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T13:07:26.321610616+01:00","updated_at":"2026-01-02T13:55:05.97910493+01:00","closed_at":"2026-01-02T13:55:05.97910493+01:00","dependencies":[{"issue_id":"movies-deluxe-gxjj","depends_on_id":"movies-deluxe-wwl0","type":"discovered-from","created_at":"2026-01-02T13:09:20.788691878+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-gzla","title":"Create FilterYearControl component","description":"Create FilterYearControl.vue component for year range filter in popup.\n\nRequirements:\n- Dual slider (min/max: 1910-2025)\n- Show current range (e.g., '1950-2000')\n- Visual slider with labels at 1910, 1970, 2025\n- Emit changes to store (setMinYear, setMaxYear)\n- Include clear button if not default range\n- Debounce slider changes\n\nLocation: app/components/FilterYearControl.vue\n\nReference: FilterMenu.vue lines 93-132","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T04:21:25.449169991+01:00","updated_at":"2026-01-11T04:35:01.770417285+01:00","closed_at":"2026-01-11T04:35:01.770417285+01:00","dependencies":[{"issue_id":"movies-deluxe-gzla","depends_on_id":"movies-deluxe-qq6m","type":"blocks","created_at":"2026-01-11T04:24:59.202868189+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-gzlk","title":"Make admin dashboard buttons never wrap text inside, wrap button container instead for mobile","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-08T21:41:53.58884493+01:00","updated_at":"2026-01-08T22:07:43.470002572+01:00","closed_at":"2026-01-08T22:07:43.470014516+01:00"}
{"id":"movies-deluxe-h7wm","title":"Add auto-detection of low-quality content in scraper","description":"Create scripts/scraper/detect-quality.ts with detectQualityIssues function. Auto-detect clips/trailers based on title keywords (trailer, teaser, clip, behind the scenes) and runtime (\u003c 5 minutes). Auto-mark suspected low-quality content for admin review.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-31T04:05:18.839995786+01:00","updated_at":"2026-01-02T11:29:23.227116023+01:00","closed_at":"2026-01-02T11:29:23.227116023+01:00","dependencies":[{"issue_id":"movies-deluxe-h7wm","depends_on_id":"movies-deluxe-sw4m","type":"blocks","created_at":"2026-01-02T02:36:59.792195289+01:00","created_by":"linux-falko"}]}
{"id":"movies-deluxe-hbt4","title":"Add loading states and error handling","description":"Implement proper loading states for all lazy loading operations. Add skeleton loaders where appropriate. Implement error handling with fallback to full load if lazy load fails. Ensure no visual flickering during loads.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:03:30.924135586+01:00","updated_at":"2026-01-10T22:23:23.215931198+01:00","closed_at":"2026-01-10T22:23:23.215931198+01:00","dependencies":[{"issue_id":"movies-deluxe-hbt4","depends_on_id":"movies-deluxe-rek1","type":"blocks","created_at":"2026-01-10T22:03:52.428878939+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-hbt4","depends_on_id":"movies-deluxe-2fdu","type":"blocks","created_at":"2026-01-10T22:03:52.515340413+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-hbt4","depends_on_id":"movies-deluxe-yz8x","type":"blocks","created_at":"2026-01-10T22:03:52.593332818+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-hbt4","depends_on_id":"movies-deluxe-z1l1","type":"blocks","created_at":"2026-01-10T22:03:52.669803114+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-hbt4","depends_on_id":"movies-deluxe-5hoz","type":"blocks","created_at":"2026-01-10T22:03:52.752844521+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-hcgc","title":"Create script to remove movies from failed-omdb.json that have AI metadata","description":"Create a script that removes all movies from public/data/failed-omdb.json that already have an 'ai' entry in public/data/movies.json. This cleanup will prevent re-attempting OMDB enrichment for movies that already have AI-extracted metadata, reducing unnecessary API calls and keeping the failed list accurate.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T11:27:23.574120941+01:00","updated_at":"2026-01-02T12:11:38.753027572+01:00","closed_at":"2026-01-02T12:11:38.753027572+01:00"}
{"id":"movies-deluxe-hjfx","title":"Test and validate data integrity","description":"Comprehensive testing to ensure all movie data is correctly split between database and JSON files, no data is lost, and all functionality (grid, search, filters, detail pages) works correctly with the new architecture.","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-02T13:08:32.422986088+01:00","updated_at":"2026-01-02T15:44:00.769647791+01:00","closed_at":"2026-01-02T15:44:00.769647791+01:00","dependencies":[{"issue_id":"movies-deluxe-hjfx","depends_on_id":"movies-deluxe-lqu2","type":"blocks","created_at":"2026-01-02T13:09:14.922252157+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-hjfx","depends_on_id":"movies-deluxe-wwl0","type":"discovered-from","created_at":"2026-01-02T13:09:36.690135731+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-hoxj","title":"Fix debounced rendering to be per-movie instead of global","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-11T01:24:37.670467395+01:00","updated_at":"2026-01-11T01:27:31.544176969+01:00","closed_at":"2026-01-11T01:27:31.544176969+01:00"}
{"id":"movies-deluxe-ht9m","title":"Define unified EmbeddingProvider interface","description":"Create a TypeScript interface that both BGE and Potion embedding modules will implement. This ensures consistent API across different models.\n\n## Interface Design\n```typescript\ninterface EmbeddingProvider {\n  readonly name: string\n  readonly dimensions: number\n  readonly maxTokens: number\n  \n  init(): Promise\u003cvoid\u003e\n  isReady(): boolean\n  generateEmbedding(text: string): Promise\u003cFloat32Array\u003e\n  dispose(): Promise\u003cvoid\u003e\n}\n```\n\n## Location\n- `app/types/embedding.ts` or `app/utils/embedding/types.ts`\n\n## Acceptance Criteria\n- Interface exported and usable by both implementations\n- Includes JSDoc comments for all methods\n- Consider adding optional progress callback for model loading","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T00:55:07.871261883+01:00","updated_at":"2026-01-20T00:58:25.203412397+01:00","closed_at":"2026-01-20T00:58:25.203412397+01:00","dependencies":[{"issue_id":"movies-deluxe-ht9m","depends_on_id":"movies-deluxe-7znm","type":"discovered-from","created_at":"2026-01-20T00:55:29.452113936+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-hth5","title":"Update frontend movie loading for grid/search","description":"Update the movie store and database worker to handle the new lightweight database schema. Ensure movie grid, search, and filtering continue to work with the reduced dataset.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-02T13:08:00.158194005+01:00","updated_at":"2026-01-02T14:03:34.158360988+01:00","closed_at":"2026-01-02T14:03:34.158360988+01:00","dependencies":[{"issue_id":"movies-deluxe-hth5","depends_on_id":"movies-deluxe-597j","type":"blocks","created_at":"2026-01-02T13:09:03.095069777+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-hth5","depends_on_id":"movies-deluxe-wwl0","type":"discovered-from","created_at":"2026-01-02T13:09:28.977566206+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-huyv","title":"Change imdbRating to always be number in LightweightMovie","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-10T23:39:29.684725549+01:00","updated_at":"2026-01-10T23:39:46.972330393+01:00","closed_at":"2026-01-10T23:39:46.972330393+01:00"}
{"id":"movies-deluxe-i12j","title":"Fix premature skeleton removal - shows 'no movies found' flash during DB load","description":"The movie grid skeleton disappears before movies are loaded from the database, causing a brief flash of 'No movies found' message. Need to keep skeleton visible until currentMovieList has data.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-02T19:45:31.910681734+01:00","updated_at":"2026-01-02T19:47:29.897140137+01:00","closed_at":"2026-01-02T19:47:29.897140137+01:00"}
{"id":"movies-deluxe-i1cu","title":"Research and document sqlite-vec integration approach","description":"Research how to integrate sqlite-vec with the existing @sqlite.org/sqlite-wasm setup. Document:\n- How to load sqlite-vec extension in WASM environment\n- Vector table schema design (vec0 virtual table)\n- Compatibility with existing better-sqlite3 build process\n- Performance considerations for 31k+ movies\n- Recommended embedding dimensions (384 for nomic-embed-text)\n\nDeliverable: Create history/vector-search-implementation.md with findings","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-12T01:47:51.968611605+01:00","updated_at":"2026-01-13T21:04:13.708780928+01:00","closed_at":"2026-01-13T21:04:13.708780928+01:00"}
{"id":"movies-deluxe-i3w1","title":"Refactor filtering functions to direct ref usage","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T01:42:34.786701263+01:00","updated_at":"2026-01-13T01:49:49.151697912+01:00","closed_at":"2026-01-13T01:49:49.151697912+01:00"}
{"id":"movies-deluxe-i5ag","title":"Home Page Collections Showcase","description":"Transform home page into Netflix-style daily collections showcase with horizontal scrolling rows. Move search to /search route. Pre-calculate 31 daily JSON files with randomized collections and movies.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-08T16:21:14.956633269+01:00","updated_at":"2026-01-08T17:24:19.77496337+01:00","closed_at":"2026-01-08T17:24:19.77496337+01:00"}
{"id":"movies-deluxe-i7li","title":"Separate embeddings into standalone database architecture","description":"Refactor database architecture to keep embeddings in separate database files instead of merging into main movies.db. This will reduce initial load from 70MB to ~10MB and enable lazy loading of embeddings.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-25T18:26:09.796051498+01:00","updated_at":"2026-01-25T19:06:23.253460781+01:00","closed_at":"2026-01-25T19:06:23.253460781+01:00"}
{"id":"movies-deluxe-iacl","title":"Create scripts/generate-embeddings-bge.ts script","description":"Create a new script similar to scripts/generate-embeddings.ts that:\n\n1. Uses the new bge-micro-v2 embedding utility\n2. Loads movies using loadMoviesDatabase()\n3. Converts movies to markdown using movieToMarkdown()\n4. Generates 384-dimensional embeddings (vs 768 for nomic-embed-text)\n5. Stores in new SQLite database: data/bge-micro-embeddings.db\n6. Implements caching to skip existing embeddings\n7. Supports --limit CLI argument for testing\n8. Prints markdown input and embedding output for debugging\n9. Uses createLogger('BGE-Embeddings') for logging\n10. Provides progress updates and final statistics\n\nFollow the same patterns as generate-embeddings.ts for consistency.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T23:59:34.512132833+01:00","updated_at":"2026-01-20T00:02:46.065076539+01:00","closed_at":"2026-01-20T00:02:46.065076539+01:00","dependencies":[{"issue_id":"movies-deluxe-iacl","depends_on_id":"movies-deluxe-ww67","type":"blocks","created_at":"2026-01-19T23:59:42.070929971+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-ihxj","title":"Create admin API endpoint for home page generation","description":"Create POST /api/admin/home/generate endpoint that calls the generation script and supports progress tracking via existing progress system.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T16:21:19.563945966+01:00","updated_at":"2026-01-08T17:16:14.664091364+01:00","closed_at":"2026-01-08T17:16:14.664091364+01:00","dependencies":[{"issue_id":"movies-deluxe-ihxj","depends_on_id":"movies-deluxe-i5ag","type":"discovered-from","created_at":"2026-01-08T16:21:42.397283187+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-ihxj","depends_on_id":"movies-deluxe-j0zy","type":"blocks","created_at":"2026-01-08T16:21:50.488156222+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-ill2","title":"Create useBrowserEmbedding composable","description":"Create a Vue composable that wraps the embedding Web Worker with reactive state management.\n\n## API Design\n```typescript\nconst {\n  // State\n  isLoading,      // Ref\u003cboolean\u003e - model loading\n  isReady,        // Ref\u003cboolean\u003e - ready for inference\n  error,          // Ref\u003cstring | null\u003e\n  progress,       // Ref\u003cnumber\u003e - loading progress 0-100\n  currentProvider,// Ref\u003c'bge' | 'potion' | null\u003e\n  \n  // Methods\n  init,           // (provider: 'bge' | 'potion') =\u003e Promise\u003cvoid\u003e\n  embed,          // (text: string) =\u003e Promise\u003cFloat32Array\u003e\n  dispose,        // () =\u003e Promise\u003cvoid\u003e\n} = useBrowserEmbedding()\n```\n\n## Location\n- `app/composables/useBrowserEmbedding.ts`\n\n## Features\n- Lazy worker initialization\n- Automatic cleanup on component unmount\n- Error handling with user-friendly messages\n- TypeScript types for all returns\n\n## Reference\n- Existing pattern: app/composables/useVectorSearch.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T00:55:22.20021985+01:00","updated_at":"2026-01-20T00:59:57.666324356+01:00","closed_at":"2026-01-20T00:59:57.666324356+01:00","dependencies":[{"issue_id":"movies-deluxe-ill2","depends_on_id":"movies-deluxe-7znm","type":"discovered-from","created_at":"2026-01-20T00:55:29.709996988+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-ill2","depends_on_id":"movies-deluxe-93n9","type":"blocks","created_at":"2026-01-20T00:55:35.561581016+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-im84","title":"Modify fetchLightweightMovies() for pagination","description":"Update fetchLightweightMovies() in movie store to support pagination parameters (limit, offset). Add state tracking for loaded ranges to avoid re-fetching. Ensure it works with virtual scrolling and loads only visible + buffer rows.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:03:20.799868637+01:00","updated_at":"2026-01-10T22:09:09.81904751+01:00","closed_at":"2026-01-10T22:09:09.81904751+01:00","dependencies":[{"issue_id":"movies-deluxe-im84","depends_on_id":"movies-deluxe-u9lb","type":"blocks","created_at":"2026-01-10T22:03:48.981815466+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-ioaw","title":"Refactor SearchHeader with filter buttons","description":"Refactor SearchHeader.vue to integrate filter category buttons below search input.\n\nRequirements:\n- Add filter button row below search input\n- Integrate FilterButton components for each category: Sort, Rating, Year, Votes, Genres, Countries, Source\n- Manage popup open/close state for each filter\n- Show 'Clear All' button when any filters active\n- Handle responsive layout (horizontal scroll on mobile, wrap on tablet/desktop)\n- Connect FilterButton clicks to open corresponding FilterPopup\n- Pass filter control components to FilterPopup\n- Show active state on buttons based on store filters\n- Update sticky positioning to accommodate new height\n\nLocation: app/components/SearchHeader.vue\n\nDependencies: All filter control components must be created first","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T04:22:27.46356026+01:00","updated_at":"2026-01-11T04:37:27.246898282+01:00","closed_at":"2026-01-11T04:37:27.246898282+01:00","dependencies":[{"issue_id":"movies-deluxe-ioaw","depends_on_id":"movies-deluxe-aocv","type":"blocks","created_at":"2026-01-11T04:25:20.14924154+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-ioaw","depends_on_id":"movies-deluxe-3gpe","type":"blocks","created_at":"2026-01-11T04:25:20.293608607+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-ioaw","depends_on_id":"movies-deluxe-n1ev","type":"blocks","created_at":"2026-01-11T04:25:20.469822078+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-ioaw","depends_on_id":"movies-deluxe-zwel","type":"blocks","created_at":"2026-01-11T04:25:20.673066579+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-ioaw","depends_on_id":"movies-deluxe-gzla","type":"blocks","created_at":"2026-01-11T04:25:20.839957095+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-ioaw","depends_on_id":"movies-deluxe-82nn","type":"blocks","created_at":"2026-01-11T04:25:20.988424848+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-ioaw","depends_on_id":"movies-deluxe-5n94","type":"blocks","created_at":"2026-01-11T04:25:21.114740178+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-ioaw","depends_on_id":"movies-deluxe-r69f","type":"blocks","created_at":"2026-01-11T04:25:21.250044889+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-ioaw","depends_on_id":"movies-deluxe-j0b2","type":"blocks","created_at":"2026-01-11T04:25:21.395217144+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-iqjf","title":"Fix duplicated FilterState type import warning","description":"Resolve TypeScript/build warning about duplicated FilterState type imports.\n\nWarning message:\nWARN Duplicated imports \"FilterState\", the one from \"/home/linux-falko/Dev/movies-deluxe/shared/types/filters.ts\" has been ignored and \"/home/linux-falko/Dev/movies-deluxe/app/stores/useMovieStore.ts\" is used\n\nRoot cause:\n- FilterState type is defined in two locations:\n  1. shared/types/filters.ts\n  2. app/stores/useMovieStore.ts (inline definition)\n- Multiple files importing from both locations\n- Build system detecting duplicate type definitions\n\nSolution options:\n\nOption 1 (Recommended): Consolidate to shared/types\n- Move FilterState definition to shared/types/filters.ts\n- Remove inline definition from useMovieStore.ts\n- Update all imports to use shared/types/filters.ts\n- Ensures type is shared between frontend and backend\n\nOption 2: Keep in store, remove from shared\n- Remove FilterState from shared/types/filters.ts\n- Keep definition in useMovieStore.ts\n- Update imports to use store definition\n- Only if type is frontend-specific\n\nImplementation steps:\n1. Audit all files importing FilterState\n2. Determine if type needs to be shared (frontend + backend)\n3. Choose consolidation location (shared vs store)\n4. Move/remove duplicate definition\n5. Update all import statements\n6. Verify no build warnings\n7. Ensure type consistency across codebase\n\nFiles likely affected:\n- shared/types/filters.ts\n- app/stores/useMovieStore.ts\n- Any components/pages using FilterState\n- Server-side code if FilterState is used there\n\nThis resolves the warning and prevents potential type inconsistencies.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-05T23:25:47.635619397+01:00","updated_at":"2026-01-05T23:32:08.850750752+01:00","closed_at":"2026-01-05T23:32:08.850750752+01:00"}
{"id":"movies-deluxe-iu7l","title":"Update Potion embedding to load from local files instead of Hugging Face","description":"Modify app/utils/embedding/potionEmbedding.ts to load tokenizer and ONNX model from local paths (/models/potion-base-2M/) instead of hardcoded Hugging Face CDN URLs. Change tokenizerUrl and modelUrl to use local paths.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-21T00:34:34.899001655+01:00","updated_at":"2026-01-21T00:37:40.351616769+01:00","closed_at":"2026-01-21T00:37:40.351616769+01:00","dependencies":[{"issue_id":"movies-deluxe-iu7l","depends_on_id":"movies-deluxe-bafo","type":"blocks","created_at":"2026-01-21T00:34:43.111930223+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-iuj3","title":"Test lazy loading with large datasets","description":"Test all lazy loading implementations with large datasets (10k+ movies). Verify performance improvements, smooth scrolling, filter changes, navigation between pages, and browser back/forward. Document performance metrics before and after.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:03:32.43662455+01:00","updated_at":"2026-01-10T22:23:23.224641986+01:00","closed_at":"2026-01-10T22:23:23.224641986+01:00","dependencies":[{"issue_id":"movies-deluxe-iuj3","depends_on_id":"movies-deluxe-hbt4","type":"blocks","created_at":"2026-01-10T22:03:52.908474746+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-iw5v","title":"Update documentation for embedding model selection feature","description":"Update project documentation to explain new embedding model selection feature, CLI flags, and Admin UI controls.\n\nFiles to modify:\n- README.md (or relevant docs)\n- AGENTS.md (if needed)\n\nDocumentation to add:\n- Overview of embedding model selection feature\n- List of available models with descriptions\n- CLI usage examples with --embedding-model flag\n- CLI usage examples with --skip-json flag\n- Admin UI usage instructions\n- How to generate embeddings for different models\n- Troubleshooting missing embedding databases\n- Architecture explanation (config/embedding-models.ts)\n- Examples for common use cases","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-20T23:19:20.343106041+01:00","updated_at":"2026-01-20T23:26:52.010560909+01:00","closed_at":"2026-01-20T23:26:52.010560909+01:00","dependencies":[{"issue_id":"movies-deluxe-iw5v","depends_on_id":"movies-deluxe-wxzz","type":"discovered-from","created_at":"2026-01-20T23:19:46.997904875+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-iw5v","depends_on_id":"movies-deluxe-4uhu","type":"blocks","created_at":"2026-01-20T23:20:04.284479895+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-iw5v","depends_on_id":"movies-deluxe-7g49","type":"blocks","created_at":"2026-01-20T23:20:04.690762608+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-j0b2","title":"Create FilterSourceControl component","description":"Create FilterSourceControl.vue component for source checkboxes in popup.\n\nRequirements:\n- Checkbox for archive.org\n- Checkboxes for YouTube channels (nested/grouped)\n- Load channels from database (useDatabase composable)\n- Show movie count for each source\n- Emit changes to store (toggleSource)\n- Include clear button if any selected\n- Loading state while fetching channels\n- Reuse AppInputCheckbox component\n\nLocation: app/components/FilterSourceControl.vue\n\nReference: FilterMenu.vue lines 243-279","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T04:22:13.477586789+01:00","updated_at":"2026-01-11T04:35:01.800445969+01:00","closed_at":"2026-01-11T04:35:01.800445969+01:00","dependencies":[{"issue_id":"movies-deluxe-j0b2","depends_on_id":"movies-deluxe-qq6m","type":"blocks","created_at":"2026-01-11T04:24:59.949118378+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-j0zy","title":"Create daily home page generation script","description":"Create scripts/generate-home-pages.ts that generates 31 JSON files (one per day) with 10 random collections, each containing 10 random movies with IMDB IDs. Use seeded randomization for consistency.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T16:21:18.849927649+01:00","updated_at":"2026-01-08T17:14:36.420074547+01:00","closed_at":"2026-01-08T17:14:36.420074547+01:00","dependencies":[{"issue_id":"movies-deluxe-j0zy","depends_on_id":"movies-deluxe-i5ag","type":"discovered-from","created_at":"2026-01-08T16:21:41.990689619+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-j6mz","title":"Generate initial home page data files","description":"Run generation script via admin interface to create all 31 daily JSON files. Verify data quality and file sizes.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T16:21:27.437889611+01:00","updated_at":"2026-01-08T17:22:34.367360469+01:00","closed_at":"2026-01-08T17:22:34.367360469+01:00","dependencies":[{"issue_id":"movies-deluxe-j6mz","depends_on_id":"movies-deluxe-i5ag","type":"discovered-from","created_at":"2026-01-08T16:21:46.558136444+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-j6mz","depends_on_id":"movies-deluxe-yxis","type":"blocks","created_at":"2026-01-08T16:21:54.380439885+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-j8uz","title":"Simplify MovieVirtualGrid code by reducing functions","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T04:45:12.054043381+01:00","updated_at":"2026-01-13T04:45:48.183947245+01:00","closed_at":"2026-01-13T04:45:48.183947245+01:00"}
{"id":"movies-deluxe-j905","title":"Rework SQL and UI code so only titles get full-text search","description":"Refactor the SQLite full-text search (FTS) implementation and UI search logic to only search movie titles, not descriptions or other fields. This will improve search performance and relevance by focusing on title matching. Update both the database schema/queries and the frontend search components accordingly.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T11:20:43.275629837+01:00","updated_at":"2026-01-02T12:35:02.911774514+01:00","closed_at":"2026-01-02T12:35:02.911774514+01:00"}
{"id":"movies-deluxe-jbl6","title":"Filter marked movies from UI components","description":"Create useQualityFilter composable (app/composables/useQualityFilter.ts) and apply filtering to MovieCard, MovieList, browse page, and collection pages. Ensure marked movies don't appear in lists but are still accessible via direct URLs for admin review.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T04:04:05.614397109+01:00","updated_at":"2026-01-02T11:25:01.966122328+01:00","closed_at":"2026-01-02T11:25:01.966122328+01:00","dependencies":[{"issue_id":"movies-deluxe-jbl6","depends_on_id":"movies-deluxe-duev","type":"blocks","created_at":"2025-12-31T04:04:51.184886617+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-jbl6","depends_on_id":"movies-deluxe-sw4m","type":"blocks","created_at":"2026-01-02T02:36:58.753874013+01:00","created_by":"linux-falko"}]}
{"id":"movies-deluxe-jdqe","title":"Implement headless browser for IMDB poster scraping","description":"Add headless browser (Puppeteer/Playwright) to bypass AWS WAF and scrape IMDB posters for the 221 movies currently failing with 'No poster found on IMDB page' error.\n\n## Problem\nIMDB blocks automated HTTP requests with AWS WAF (Web Application Firewall):\n- Returns HTTP 202 with JavaScript challenge instead of actual HTML\n- Current regex-based scraping fails because it never receives real page content\n- 221 out of 233 failed poster downloads are due to this issue\n\n## Current State\n- **No headless browser libraries installed** (no Puppeteer, Playwright, Selenium)\n- Current scraping uses Node's native https module with regex parsing\n- Success rate: 98.3% (13,559/13,792) for cases where OMDB API works\n- Failed downloads tracked in data/failed-posters.json\n\n## Proposed Solution\nAdd headless browser as **optional fallback** (not replacement) for failed cases:\n\n### Option 1: Puppeteer (Recommended)\n- Lighter weight (~300MB Chromium download)\n- Simpler API, easier to learn\n- Good for basic scraping needs\n- Install: `pnpm add -D puppeteer`\n\n### Option 2: Playwright\n- More features (multi-browser support)\n- Better for complex automation\n- Larger download (~400MB+ for all browsers)\n- Install: `pnpm add -D playwright`\n\n### Option 3: Puppeteer-core\n- No browser bundled (use system Chrome)\n- Smallest footprint\n- Requires Chrome/Chromium installed on system\n\n## Implementation Tasks\n1. Choose and install headless browser library\n2. Create new module: `scripts/scrape-imdb-headless.ts`\n3. Implement browser-based scraping:\n   - Launch browser with stealth settings\n   - Navigate to IMDB page\n   - Wait for poster image to load\n   - Extract poster URL using page.evaluate()\n   - Download poster image\n4. Update `server/utils/posterDownloader.ts`:\n   - Add headless browser as 3rd fallback (after OMDB API and HTTP scraping)\n   - Handle browser lifecycle (launch/close)\n   - Add error handling for browser failures\n5. Add CLI script to retry failed posters with headless browser:\n   - `pnpm scrape:posters:headless --use-failed-list`\n6. Update documentation with new dependencies and usage\n\n## Technical Considerations\n- **Rate limiting**: Keep 1-2 second delays to be respectful\n- **Stealth mode**: Use puppeteer-extra-plugin-stealth to avoid detection\n- **Resource usage**: Browser instances use ~100-200MB RAM each\n- **Concurrency**: Limit to 3-5 concurrent browser instances\n- **Timeout handling**: Set reasonable timeouts (30s per page)\n- **Error recovery**: Gracefully handle browser crashes\n\n## Files to Modify\n- `package.json` - Add puppeteer/playwright dependency\n- `scripts/scrape-imdb-headless.ts` - New headless scraper script\n- `server/utils/posterDownloader.ts` - Add headless fallback\n- `README.md` - Document new scraping method\n\n## Success Criteria\n- Successfully scrape posters for at least 80% of the 221 failed cases\n- No significant performance degradation\n- Graceful fallback if browser automation fails\n- Clear documentation for future maintenance\n\n## Estimated Impact\n- Potential to recover 177+ posters (80% of 221 failures)\n- Improve overall poster coverage from 43% to ~43.5%\n- More resilient scraping system for future IMDB changes","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-24T19:35:56.026923729+01:00","updated_at":"2026-01-24T19:45:38.146025281+01:00","closed_at":"2026-01-24T19:45:38.146025281+01:00"}
{"id":"movies-deluxe-jewo","title":"when updating a movie to a new id also update all collections that use it","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-12T01:27:14.86860629+01:00","updated_at":"2026-01-13T21:01:49.260672755+01:00","closed_at":"2026-01-13T21:01:49.260672755+01:00"}
{"id":"movies-deluxe-ji8g","title":"Create new home page with collections showcase","description":"Rebuild app/pages/index.vue to load daily JSON based on day of month and render vertical stack of HomeCollectionRow components. Include loading states and error handling.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T16:21:24.219195793+01:00","updated_at":"2026-01-08T17:22:15.722870852+01:00","closed_at":"2026-01-08T17:22:15.722870852+01:00","dependencies":[{"issue_id":"movies-deluxe-ji8g","depends_on_id":"movies-deluxe-i5ag","type":"discovered-from","created_at":"2026-01-08T16:21:44.757926067+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-ji8g","depends_on_id":"movies-deluxe-g4dz","type":"blocks","created_at":"2026-01-08T16:21:52.435871214+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-ji8g","depends_on_id":"movies-deluxe-o4uo","type":"blocks","created_at":"2026-01-08T16:21:52.946712345+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-jjjz","title":"Add failed status file for AI extraction batch process","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T20:36:26.705007943+01:00","updated_at":"2026-01-06T20:38:47.217684186+01:00","closed_at":"2026-01-06T20:38:47.217684186+01:00"}
{"id":"movies-deluxe-jjxo","title":"Update CI to only push on new version git tags","description":"Modify the CI/CD pipeline to only trigger push/deploy operations when a new version git tag is created (e.g., v1.0.0, v1.2.3).\n\nCurrent behavior: CI may push on every commit or branch push\nDesired behavior: CI only pushes/deploys when a git tag matching version pattern is created\n\nTasks:\n- Review current CI configuration (.github/workflows/ or similar)\n- Add conditional logic to check for git tag presence\n- Use tag pattern matching (e.g., v*.*.* or refs/tags/v*)\n- Ensure tag-based versioning workflow\n- Update documentation for release process\n- Test with dummy tags in non-production environment\n\nThis prevents unnecessary deployments and ensures controlled releases.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T22:59:41.266141326+01:00","updated_at":"2026-01-06T18:50:05.680155643+01:00","closed_at":"2026-01-06T18:50:05.680155643+01:00","dependencies":[{"issue_id":"movies-deluxe-jjxo","depends_on_id":"movies-deluxe-5k9n","type":"blocks","created_at":"2026-01-05T23:10:03.254149282+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-jkpp","title":"Fix database worker undefined cache error","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-10T23:30:45.469652243+01:00","updated_at":"2026-01-10T23:34:44.450986217+01:00","closed_at":"2026-01-10T23:34:44.450986217+01:00"}
{"id":"movies-deluxe-jtze","title":"Update generateSQLite function for dynamic model selection","description":"Modify server/utils/generateSQLite.ts to accept embeddingModel parameter and skipJsonGeneration flag. Make embedding DB path and vector table dimensions dynamic based on selected model.\n\nFiles to modify:\n- server/utils/generateSQLite.ts\n\nRequirements:\n- Add GenerateSQLiteOptions interface\n- Accept embeddingModel: EmbeddingModelConfig parameter\n- Accept skipJsonGeneration: boolean parameter (default false)\n- Use dynamic embedding DB path from model config\n- Use dynamic dimensions in vec_movies table creation\n- Add validation for missing embedding DB files\n- Add helpful error messages with generation instructions\n- Make generateMovieJSON() call conditional","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T23:19:04.580627771+01:00","updated_at":"2026-01-20T23:24:17.786840981+01:00","closed_at":"2026-01-20T23:24:17.786840981+01:00","dependencies":[{"issue_id":"movies-deluxe-jtze","depends_on_id":"movies-deluxe-wxzz","type":"discovered-from","created_at":"2026-01-20T23:19:43.488258771+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-jtze","depends_on_id":"movies-deluxe-kbsf","type":"blocks","created_at":"2026-01-20T23:19:50.143247904+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-jvbm","title":"Refactor collection cleanup to use findMovieBySource utility","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T00:11:04.896460884+01:00","updated_at":"2026-01-03T00:18:53.76573552+01:00","closed_at":"2026-01-03T00:18:53.76573552+01:00"}
{"id":"movies-deluxe-jzyv","title":"Fix all TypeScript type errors","description":"","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-11T02:54:12.40512536+01:00","updated_at":"2026-01-11T02:59:22.514726491+01:00","closed_at":"2026-01-11T02:59:22.514726491+01:00"}
{"id":"movies-deluxe-k38x","title":"Support browser-based embedding in useVectorSearch","description":"Integrate useBrowserEmbedding() composable into useVectorSearch for BGE and Potion models. Avoid API roundtrip when using browser-capable models. Detect model source from config and route to appropriate embedding generation method.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-20T23:43:59.223211431+01:00","updated_at":"2026-01-21T00:18:40.607187609+01:00","closed_at":"2026-01-21T00:18:40.607187609+01:00","dependencies":[{"issue_id":"movies-deluxe-k38x","depends_on_id":"movies-deluxe-b602","type":"blocks","created_at":"2026-01-20T23:44:19.071251273+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-kbsf","title":"Create embedding models configuration system","description":"Create config/embedding-models.ts with EmbeddingModelConfig interface, model configurations array (nomic, bge-micro, potion), and helper functions (getModelConfig, getDefaultModel). This provides the foundation for dynamic model selection.\n\nFiles to create:\n- config/embedding-models.ts\n\nRequirements:\n- Define EmbeddingModelConfig interface (id, name, dimensions, dbFileName, description, isDefault)\n- Export EMBEDDING_MODELS array with all 3 models\n- Add getModelConfig(modelId) helper\n- Add getDefaultModel() helper\n- Set nomic as default model","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T23:19:03.245928847+01:00","updated_at":"2026-01-20T23:23:47.921100425+01:00","closed_at":"2026-01-20T23:23:47.921100425+01:00","dependencies":[{"issue_id":"movies-deluxe-kbsf","depends_on_id":"movies-deluxe-wxzz","type":"discovered-from","created_at":"2026-01-20T23:19:42.975466897+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-khas","title":"Add embedding model metadata to database","description":"Add a simple metadata table or config to store which embedding model is used in vec_movies. Store: model_id (nomic/bge-micro/potion), dimensions, model_name. This allows auto-detection of which model to use for search.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-20T23:44:04.262327204+01:00","updated_at":"2026-01-21T00:07:59.677414106+01:00","closed_at":"2026-01-21T00:07:59.677414106+01:00","dependencies":[{"issue_id":"movies-deluxe-khas","depends_on_id":"movies-deluxe-glov","type":"blocks","created_at":"2026-01-20T23:44:14.287872531+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-khgm","title":"Refactor Filter*Control components to accept filters via provide/inject","description":"Refactor the filter control components to support both useMovieStore (default) and injected filter state. This allows reuse in admin context.\n\nComponents to update:\n- FilterSortControl.vue\n- FilterRatingControl.vue\n- FilterYearControl.vue\n- FilterVotesControl.vue\n- FilterGenresControl.vue\n- FilterCountriesControl.vue\n- FilterSourceControl.vue\n- SearchModeSelector.vue\n\nPattern:\n1. Create injection key: FILTER_STATE_KEY\n2. In each component, try inject() first, fall back to useMovieStore\n3. AdminSearchHeader will provide() the admin filter state\n4. SearchHeader continues to work unchanged (no provide, uses store directly)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T23:51:53.997012105+01:00","updated_at":"2026-01-18T23:55:42.929114166+01:00","closed_at":"2026-01-18T23:55:42.929114166+01:00","dependencies":[{"issue_id":"movies-deluxe-khgm","depends_on_id":"movies-deluxe-zo3y","type":"blocks","created_at":"2026-01-18T23:52:12.429299241+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-korb","title":"Fix AppInputCheckbox modelValue undefined warning","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-25T22:58:02.785901509+01:00","updated_at":"2026-01-25T22:58:46.571462936+01:00","closed_at":"2026-01-25T22:58:46.571462936+01:00"}
{"id":"movies-deluxe-ku82","title":"Create collection selector component","description":"Create app/components/AdminCollectionSelector.vue that displays a dropdown/select to choose a collection. Load collections from useCollectionsStore(). Emit 'select' event with collection ID. Show collection name, description, and movie count. Style consistently with existing admin components.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T20:47:13.545559716+01:00","updated_at":"2026-01-03T21:40:24.430569065+01:00","closed_at":"2026-01-03T21:40:24.430569065+01:00"}
{"id":"movies-deluxe-kv9x","title":"Create SavedQueryManager component","description":"Create app/components/admin/SavedQueryManager.vue component:\n- Display list of saved search/filter combinations for a collection\n- Show query details (search term, genres, year range, rating, votes, sources)\n- Refresh button for each query to re-run and update collection\n- Add button to save current search/filter state\n- Remove button for each saved query\n- Visual feedback for refresh operations","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T22:53:03.75078533+01:00","updated_at":"2026-01-05T23:11:26.962524621+01:00","closed_at":"2026-01-05T23:11:26.962524621+01:00","dependencies":[{"issue_id":"movies-deluxe-kv9x","depends_on_id":"movies-deluxe-sw18","type":"blocks","created_at":"2026-01-05T22:53:29.587229795+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-kv9x","depends_on_id":"movies-deluxe-yv8s","type":"blocks","created_at":"2026-01-05T22:53:30.09763862+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-kv9x","depends_on_id":"movies-deluxe-yain","type":"blocks","created_at":"2026-01-05T22:57:47.571151473+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-kx66","title":"Implement toggle functionality for collection buttons","description":"Implement click handlers for collection buttons that toggle the movie in/out of collections. When a button is clicked: if the movie is in the collection, remove it; if not, add it. Update the button state immediately after the operation. Handle loading states during API calls and show appropriate feedback.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T17:50:48.844845033+01:00","updated_at":"2026-01-24T17:59:19.719827536+01:00","closed_at":"2026-01-24T17:59:19.719827536+01:00","dependencies":[{"issue_id":"movies-deluxe-kx66","depends_on_id":"movies-deluxe-toh8","type":"blocks","created_at":"2026-01-24T17:51:15.21611839+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-kxq9","title":"Remove redundant manual localStorage loading for filters","description":"The store already uses useStorage('movies-deluxe-filters') which auto-syncs to localStorage. The manual onMounted localStorage.getItem code (lines 1380-1395) is redundant and should be removed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T19:34:29.94940983+01:00","updated_at":"2026-01-02T19:36:02.593129193+01:00","closed_at":"2026-01-02T19:36:02.593129193+01:00"}
{"id":"movies-deluxe-l62f","title":"Use vector search for related movie suggestions in collections","description":"Enhance collection creation workflow:\n- When creating related movies in collections, suggest similar movies using vector search\n- Show similarity scores to help curators choose related films\n- Add 'Auto-suggest related' button using vector similarity\n- Update server/api/admin/collections/related.post.ts to use vector search","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-12T01:48:00.372299855+01:00","updated_at":"2026-01-13T21:39:10.119677135+01:00","closed_at":"2026-01-13T21:39:10.119677135+01:00","dependencies":[{"issue_id":"movies-deluxe-l62f","depends_on_id":"movies-deluxe-0dfk","type":"blocks","created_at":"2026-01-12T01:48:14.11973333+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-lfju","title":"Add navigation link to admin dashboard","description":"Add a navigation link/button in app/pages/admin/index.vue to the new /admin/collections page. Place it in the Collection Management section. Use consistent styling with other admin navigation elements. Include icon (i-mdi-movie-edit or similar).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-03T20:47:21.404663046+01:00","updated_at":"2026-01-03T21:40:24.435772169+01:00","closed_at":"2026-01-03T21:40:24.435772169+01:00","dependencies":[{"issue_id":"movies-deluxe-lfju","depends_on_id":"movies-deluxe-r8lg","type":"blocks","created_at":"2026-01-03T20:48:40.782664897+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-lfo5","title":"Remove duplicate Collection type from app/types/database.ts","description":"Collection is defined in TWO places with DIFFERENT structures:\n- app/types/database.ts: id, name, description?, createdAt, updatedAt\n- shared/types/collections.ts: id, name, description, movieIds, savedQueries?, tags?, enabled?, createdAt, updatedAt\n\nThis causes TypeScript to resolve which Collection type is intended in each context. Remove the Collection interface from app/types/database.ts and use the shared type, or create a distinct CollectionSummary type if the worker intentionally returns a subset.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T21:50:13.516778776+01:00","updated_at":"2026-01-18T21:52:31.541163158+01:00","closed_at":"2026-01-18T21:52:31.541163158+01:00"}
{"id":"movies-deluxe-lg15","title":"Filter out movies without votes/ratings when search criteria specified","description":"When searching in the admin collection with min votes or rating criteria specified, exclude movies that don't have votes or ratings data. Apply similar filtering rules for missing data to ensure search results only include movies that meet the specified criteria.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T22:47:45.245988833+01:00","updated_at":"2026-01-08T22:54:15.100561037+01:00","closed_at":"2026-01-08T22:54:15.100561037+01:00"}
{"id":"movies-deluxe-liqi","title":"Simplify SQLite row type handling in database.worker.ts","description":"## Problem\n\nThe database worker (app/workers/database.worker.ts:464-478) has overly complex type handling when transforming SQLite rows to LightweightMovie objects. Every field requires manual type casting with patterns like:\n\n```typescript\nyear: (row.year as number | null) ?? undefined,\nimdbRating: (row.imdbRating as number | null) ?? undefined,\n// ... repeated 10+ times\n```\n\nThis is:\n- Repetitive and error-prone\n- Lacks type safety (row is typed as 'any')\n- Hard to maintain when schema changes\n- Duplicated in multiple places (query-by-ids and vector-search)\n\n## Research Findings\n\n### SQLite WASM Row Type\nWhen using `rowMode: 'object'`, SQLite returns:\n```typescript\n{ [columnName: string]: SqlValue }[]\n// where SqlValue = string | number | null | bigint | Uint8Array | Int8Array | ArrayBuffer\n```\n\nKey facts:\n- SQLite NULL  JavaScript `null` (not `undefined`)\n- SQLite INTEGER  JavaScript `number`\n- SQLite TEXT  JavaScript `string`\n- Booleans stored as 0/1  returned as `number`\n\n### Affected Locations\n1. **Lines 456-481**: query-by-ids handler (main problem area)\n2. **Lines 541-548**: vector-search handler (same transformation needed)\n\n## Recommended Solution\n\nCreate a typed database row interface and transformation function:\n\n```typescript\n/**\n * Raw database row type from SQLite for lightweight movie queries\n * Matches the exact output of db.exec() with rowMode: 'object'\n * \n * IMPORTANT: This type assumes the database schema is always in sync.\n * No runtime validation is needed - TypeScript provides compile-time safety.\n */\ninterface LightweightMovieDbRow {\n  movieId: string\n  title: string\n  year: number | null\n  imdbRating: number | null\n  imdbVotes: number | null\n  language: string | null\n  sourceType: string | null\n  channelName: string | null\n  verified: number  // SQLite stores boolean as 0 or 1\n  lastUpdated: string | null\n  genre: string | null\n  country: string | null\n  distance?: number  // Only present in vector search results\n}\n\n/**\n * Transform a database row to a LightweightMovie object\n * Converts SQLite null to undefined and numeric boolean to boolean\n */\nfunction transformLightweightMovie(row: LightweightMovieDbRow): LightweightMovie {\n  return {\n    movieId: row.movieId,\n    title: row.title,\n    year: row.year ?? undefined,\n    imdbRating: row.imdbRating ?? undefined,\n    imdbVotes: row.imdbVotes ?? undefined,\n    language: row.language ?? undefined,\n    sourceType: row.sourceType ?? undefined,\n    channelName: row.channelName ?? undefined,\n    verified: row.verified === 1,\n    lastUpdated: row.lastUpdated ?? undefined,\n    genre: row.genre ?? undefined,\n    country: row.country ?? undefined,\n    distance: row.distance,\n  }\n}\n```\n\n## Implementation Steps\n\n### 1. Add Type Definitions (top of file after imports)\nAdd `LightweightMovieDbRow` interface and `transformLightweightMovie` function\n\n### 2. Update query-by-ids Handler (lines 456-481)\nReplace manual transformation with:\n```typescript\nconst dbResults = db.exec({\n  sql: prebuiltSql,\n  bind: prebuiltParams as string[],\n  returnValue: 'resultRows',\n  rowMode: 'object',\n}) as LightweightMovieDbRow[]\n\nfor (const row of dbResults) {\n  const transformed = transformLightweightMovie(row)\n  movieCache.set(transformed.movieId, transformed)\n  results.push(transformed)\n}\n```\n\n### 3. Update vector-search Handler (lines 541-548)\nReplace with:\n```typescript\nconst result = db.exec({\n  sql: prebuiltSql,\n  bind: bindParams,\n  returnValue: 'resultRows',\n  rowMode: 'object',\n}) as LightweightMovieDbRow[]\n\nconst transformed = result.map(transformLightweightMovie)\nself.postMessage({ id, result: transformed })\n```\n\n### 4. Add Documentation\nAdd JSDoc comments explaining:\n- The relationship between LightweightMovieDbRow and the SQL schema\n- Why null  undefined conversion is needed\n- The boolean conversion for verified field\n- That we assume database schema is always in sync (no runtime validation needed)\n\n## Benefits\n-  Type safety at database boundary\n-  Single source of truth for transformation logic\n-  Reusable across query types\n-  Clear documentation of SQLite output\n-  Easier to maintain when schema changes\n-  Compiler catches property name typos\n-  Testable transformation function\n-  No runtime validation overhead - we trust the schema\n\n## Important Notes\n- **No runtime validation needed**: This is a single project where the database schema is always in sync with the TypeScript types\n- **Type assertions are safe**: We can confidently cast db.exec() results to LightweightMovieDbRow[]\n- **Schema changes**: If the database schema changes, update the LightweightMovieDbRow interface accordingly\n\n## Related Files\n- app/workers/database.worker.ts (main file)\n- shared/types/movie.ts:147-161 (LightweightMovie interface)\n- app/utils/queryBuilders.ts:36-42 (SQL query definition)\n- app/types/sqlite-wasm.ts (SQLite type definitions)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T22:07:05.573053739+01:00","updated_at":"2026-01-25T22:53:58.412732479+01:00","closed_at":"2026-01-25T22:53:58.412732479+01:00"}
{"id":"movies-deluxe-liw7","title":"Update database worker for new query types","description":"Add support for new query patterns in database.worker.ts to handle keyword-based searches.\n\n## Changes Needed\n1. Update worker message types to support parsed queries\n2. Handle new SQL patterns with multiple JOINs\n3. Ensure proper parameter binding for FTS5 queries\n4. Optimize query execution for complex JOINs\n\n## Worker Message Types\n- Extend existing 'exec' type to handle complex queries\n- Or add new 'query-parsed' type for structured keyword queries\n\n## Performance Considerations\n- Use EXPLAIN QUERY PLAN to verify index usage\n- Ensure FTS5 indexes are being utilized\n- Test with large datasets\n\n## File to Modify\n- app/workers/database.worker.ts\n\n## Dependencies\n- Requires database schema changes\n- Requires buildFilterQuery updates","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T21:10:09.000492506+01:00","updated_at":"2026-01-18T21:14:47.894730708+01:00","closed_at":"2026-01-18T21:14:47.894730708+01:00","dependencies":[{"issue_id":"movies-deluxe-liw7","depends_on_id":"movies-deluxe-7l8m","type":"discovered-from","created_at":"2026-01-18T21:10:25.995107705+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-liw7","depends_on_id":"movies-deluxe-brbh","type":"blocks","created_at":"2026-01-18T21:10:31.694945298+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-liw7","depends_on_id":"movies-deluxe-y5p3","type":"blocks","created_at":"2026-01-18T21:10:31.732273286+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-lqu2","title":"Update movie detail page to use JSON files","description":"Modify the movie detail page ([id].vue) to load movie data from the individual JSON files instead of the database. Handle loading states and error cases appropriately.","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-02T13:08:21.235331685+01:00","updated_at":"2026-01-02T14:10:06.879293149+01:00","closed_at":"2026-01-02T14:10:06.879293149+01:00","dependencies":[{"issue_id":"movies-deluxe-lqu2","depends_on_id":"movies-deluxe-04aa","type":"blocks","created_at":"2026-01-02T13:09:09.292472619+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-lqu2","depends_on_id":"movies-deluxe-hth5","type":"blocks","created_at":"2026-01-02T13:09:12.147284833+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-lqu2","depends_on_id":"movies-deluxe-wwl0","type":"discovered-from","created_at":"2026-01-02T13:09:34.206019192+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-lvf4","title":"in the single movie page combine the source selection and the section below the iframe player to only the top section, add links to the external sources with external link Icon next to source selection button, show source title as title attribute on external link icon","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T20:05:50.480500677+01:00","updated_at":"2026-01-05T22:16:07.887696099+01:00","closed_at":"2026-01-05T22:16:07.887696099+01:00"}
{"id":"movies-deluxe-m017","title":"Fix SQLITE_ERROR: no such column: rank when sorting by relevance","description":"When sorting by relevance in the movie grid, the app crashes with 'SQLITE_ERROR: no such column: rank'. \n\n**Root Cause:**\nThe code tries to use 'rank' column when sorting by relevance (useMovieStore.ts:707), but 'rank' only exists in FTS5 virtual tables, not in the regular 'movies' table. The lightweight query (database.worker.ts:203) queries 'movies m' directly without joining the FTS table.\n\n**Solution:**\nWhen searchQuery exists and sort is 'relevance', the lightweight query needs to:\n1. Join with fts_movies table: JOIN fts_movies f ON m.imdbId = f.imdbId\n2. Add WHERE clause: WHERE f.fts_movies MATCH ?\n3. Use rank in ORDER BY: ORDER BY rank \n4. Pass searchQuery as a parameter\n\nAlternatively, calculate relevance score in the movies table or handle FTS search separately before the lightweight query.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-02T20:57:07.454688533+01:00","updated_at":"2026-01-02T21:00:09.668657092+01:00","closed_at":"2026-01-02T21:00:09.668657092+01:00"}
{"id":"movies-deluxe-m2o0","title":"Fix calculateVisibleRows in MovieVirtualGrid","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:00:55.194422695+01:00","updated_at":"2026-01-13T00:03:01.312981163+01:00","closed_at":"2026-01-13T00:03:01.312981163+01:00"}
{"id":"movies-deluxe-m3i7","title":"Log AI field status in OMDB failure tracking","description":"When running OMDB augmentation, log whether the failed entry had an AI field so that in data/failed-omdb.json we can see {ai: true} or {ai: false} for better debugging and analysis of AI-enhanced vs non-AI entries","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T20:30:18.267967284+01:00","updated_at":"2026-01-06T20:35:00.180236624+01:00","closed_at":"2026-01-06T20:35:00.180236624+01:00"}
{"id":"movies-deluxe-m3wv","title":"Remove LightweightMovieEntry and use only LightweightMovie","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-10T23:39:29.049855133+01:00","updated_at":"2026-01-10T23:58:43.781510045+01:00","closed_at":"2026-01-10T23:58:43.781510045+01:00"}
{"id":"movies-deluxe-mcn2","title":"Admin UI for generating embeddings for all models with progress tracking","description":"## Overview\nCreate an admin UI component for generating embeddings for all three embedding models (Nomic, BGE Micro, Potion) with real-time progress tracking showing embeddings per second.\n\n## Background\nCurrently, embeddings are generated via CLI scripts:\n- `scripts/generate-embeddings.ts` (Nomic - 768d, Ollama API)\n- `scripts/generate-embeddings-bge.ts` (BGE Micro - 384d, local Transformers.js)\n- `scripts/generate-embeddings-potion.ts` (Potion - 64d, local ONNX)\n\nEach script has its own progress logging but no unified admin UI interface.\n\n## Requirements\n\n### Functional Requirements\n1. **Model Selection**: Allow selection of which embedding model(s) to generate\n   - Nomic Embed Text (768 dimensions, Ollama API)\n   - BGE Micro v2 (384 dimensions, local)\n   - Potion Base 2M (64 dimensions, local)\n   - Option to generate all models at once\n\n2. **Progress Tracking**: Real-time progress display showing:\n   - Current/total embeddings processed\n   - Progress percentage\n   - Embeddings per second (throughput)\n   - Estimated time remaining\n   - Success/failure counts\n\n3. **Caching**: Respect existing embeddings (skip already processed movies)\n\n4. **Error Handling**: Display errors gracefully, continue processing remaining movies\n\n### Technical Requirements\n\n#### Refactoring Needed\n1. **Extract embedding logic from scripts to reusable utilities**:\n   - Move core embedding generation logic to `server/utils/embeddings/`\n   - Create `server/utils/embeddings/nomic.ts` (refactor from `scripts/generate-embeddings.ts`)\n   - Create `server/utils/embeddings/bge.ts` (refactor from `scripts/generate-embeddings-bge.ts`)\n   - Create `server/utils/embeddings/potion.ts` (refactor from `scripts/generate-embeddings-potion.ts`)\n   - Each utility should export: `generateEmbedding(text: string)`, `generateBatch(movies: MovieEntry[])`\n\n2. **Create shared database utilities**:\n   - Move SQLite operations to `server/utils/embeddings/database.ts`\n   - Functions: `initDatabase()`, `getExistingEmbeddings()`, `saveEmbedding()`, `saveEmbeddingBatch()`\n\n3. **Progress emission integration**:\n   - Use existing `server/utils/progress.ts` system\n   - Add new progress type: `embeddings` to `ProgressUpdate` type\n   - Emit progress with: `current`, `total`, `message`, `embeddingsPerSecond`, `estimatedTimeRemaining`\n\n#### New Files to Create\n1. **API Endpoint**: `server/api/admin/embeddings/generate.post.ts`\n   - Accept parameters: `model` (nomic|bge|potion|all), `limit` (optional)\n   - Call refactored utilities\n   - Emit progress updates via `emitProgress()`\n   - Return summary: total processed, time taken, average speed\n\n2. **Admin Component**: `app/components/AdminEmbeddingsGenerator.vue`\n   - Model selection (checkboxes or dropdown)\n   - Start/stop button\n   - Progress display with progress bar, stats, embeddings/sec, ETA\n   - Results log showing completion summary\n\n3. **Integration**: Add component to `app/pages/admin/index.vue`\n\n### UI Design Pattern\nFollow existing admin component patterns:\n- Card-based layout with rounded borders and shadows\n- Icon-driven design (use `i-mdi-vector-square` or similar)\n- Progress bar with stats breakdown\n- SSE connection via `useProgress` composable\n- Loading states with disabled buttons\n\n### Performance Considerations\n- **Batch processing**: Process embeddings in batches to reduce database writes\n- **Throughput tracking**: Calculate embeddings/sec using rolling average (last 10 embeddings)\n- **Memory management**: For large datasets, process in chunks to avoid memory issues\n\n## Existing Code to Reuse\n- `server/utils/progress.ts` - Progress emission system\n- `server/utils/movieEmbeddings.ts` - `movieToMarkdown()` function\n- `app/composables/useProgress.ts` - SSE connection management\n- `app/stores/useAdminStore.ts` - Progress state management\n- `config/embedding-models.ts` - Model configuration\n\n## Success Criteria\n- All three embedding models can be generated from admin UI\n- Real-time progress updates show embeddings/sec\n- Existing embeddings are cached (not regenerated)\n- Progress persists across page refreshes (via SSE)\n- Scripts remain functional (backward compatibility)\n- Error handling prevents crashes on individual movie failures\n\n## Technical Notes\n- **Ollama dependency**: Nomic model requires Ollama running locally\n- **Model files**: BGE and Potion require model files in `public/models/`\n- **Database format**: Use existing SQLite schema (embeddings + config tables)\n- **Text processing**: Use `movieToMarkdown()` for consistent text format across all models\n\n## Related Files\n### Scripts to refactor:\n- `scripts/generate-embeddings.ts`\n- `scripts/generate-embeddings-bge.ts`\n- `scripts/generate-embeddings-potion.ts`\n- `scripts/utils/bgeMicroEmbeddings.ts`\n- `scripts/utils/potionEmbeddings.ts`\n\n### Utilities to reuse:\n- `server/utils/movieEmbeddings.ts`\n- `server/utils/progress.ts`\n- `server/utils/logger.ts`\n- `config/embedding-models.ts`\n\n### UI patterns to follow:\n- `app/components/AdminArchiveScraper.vue`\n- `app/components/AdminOMDBEnrichment.vue`\n- `app/components/AdminDatabaseGenerator.vue`","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-25T18:36:48.729123863+01:00","updated_at":"2026-01-25T19:04:44.669043881+01:00","closed_at":"2026-01-25T19:04:44.669043881+01:00"}
{"id":"movies-deluxe-mda0","title":"Add filter state capture to AdminMovieSearch","description":"Update app/components/AdminMovieSearch.vue to:\n- Capture current filter state (genres, year, rating, votes, sources, search query)\n- Expose filter state via props/emits for SavedQueryManager\n- Add UI to display active filters\n- Integrate with movie store filter state\n- Add 'Save as Query' button that emits current state","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T22:53:11.883646614+01:00","updated_at":"2026-01-05T23:13:43.55738612+01:00","closed_at":"2026-01-05T23:13:43.55738612+01:00","dependencies":[{"issue_id":"movies-deluxe-mda0","depends_on_id":"movies-deluxe-sw18","type":"blocks","created_at":"2026-01-05T22:53:31.193228368+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-mda0","depends_on_id":"movies-deluxe-yain","type":"blocks","created_at":"2026-01-05T22:57:48.163597673+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-mdhs","title":"Create bge-micro-v2 embedding generation script with transformers.js","description":"Create a new script similar to scripts/generate-embeddings.ts that uses transformers.js with the TaylorAI/bge-micro-v2 ONNX model instead of Ollama. The script should:\n\n1. Use @huggingface/transformers library with ONNX runtime\n2. Load the bge-micro-v2 model (384-dimensional embeddings vs current 768-dim)\n3. Store model files in /models/bge-micro-v2/\n4. Accept movie entries as input (using movieToMarkdown format)\n5. Print the markdown input and resulting embedding\n6. Store embeddings in SQLite database (similar to current implementation)\n7. Support quantized model for better performance\n\nThis provides a client-side embedding alternative to the server-side Ollama approach.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-19T23:59:15.644944771+01:00","updated_at":"2026-01-20T00:02:59.185696874+01:00","closed_at":"2026-01-20T00:02:59.185696874+01:00","dependencies":[{"issue_id":"movies-deluxe-mdhs","depends_on_id":"movies-deluxe-7wyt","type":"blocks","created_at":"2026-01-19T23:59:42.917647102+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-mdhs","depends_on_id":"movies-deluxe-8b5d","type":"blocks","created_at":"2026-01-19T23:59:43.386344448+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-mdhs","depends_on_id":"movies-deluxe-ww67","type":"blocks","created_at":"2026-01-19T23:59:43.834809192+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-mdhs","depends_on_id":"movies-deluxe-iacl","type":"blocks","created_at":"2026-01-19T23:59:44.317615511+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-mdhs","depends_on_id":"movies-deluxe-3a0c","type":"blocks","created_at":"2026-01-19T23:59:44.832522455+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-mdll","title":"Rename imdbId to movieId in SQL schema and refactor codebase","description":"Rename the imdbId column to movieId throughout the SQLite database schema and update all references in the codebase for better semantic clarity.\n\n## Rationale\n- The field stores both IMDB IDs (tt1234567) and temporary IDs (archive-xyz, youtube-abc)\n- 'movieId' is more semantically accurate than 'imdbId' for this use case\n- Improves code readability and reduces confusion\n\n## Database Schema Changes\n\n### Tables to Update\n1. **movies** table: imdbId  movieId (PRIMARY KEY)\n2. **fts_movies** table: imdbId  movieId (UNINDEXED)\n3. **vec_movies** table: imdbId  movieId (PRIMARY KEY)\n4. **collection_movies** table: movieId column (already correct, but FK reference needs update)\n5. **movie_actors** junction table: movieId column (already correct)\n6. **movie_directors** junction table: movieId column (already correct)\n7. **movie_writers** junction table: movieId column (already correct)\n\n### Files to Modify - Server Side\n- **server/utils/generateSQLite.ts**\n  - Update schema definitions (CREATE TABLE statements)\n  - Update all INSERT statements\n  - Update index definitions\n  - Update query references\n\n### Files to Modify - Frontend Side\n- **app/workers/database.worker.ts**\n  - Update all SQL queries\n  - Update result mapping (imdbId  movieId)\n  - Update cache keys\n\n- **app/composables/useDatabase.ts**\n  - Update type definitions\n  - Update function signatures if needed\n\n- **app/stores/useMovieStore.ts**\n  - Update buildFilterQuery SQL\n  - Update all references to imdbId in queries\n  - Update result processing\n\n- **app/composables/useVectorSearch.ts** (if exists)\n  - Update vector search queries\n\n### Type Definitions to Update\n- **shared/types/movie.ts**\n  - MovieEntry.imdbId  MovieEntry.movieId\n  - LightweightMovie.imdbId  LightweightMovie.movieId\n  - Update all type guards and utility functions\n\n- **app/types/database.ts**\n  - Update worker message types\n  - Update response types\n\n### Component Updates\nSearch for all usages of 'imdbId' in:\n- Vue components (*.vue files)\n- Composables (app/composables/*.ts)\n- Utils (app/utils/*.ts)\n- Stores (app/stores/*.ts)\n\n### Migration Strategy\n1. Update type definitions first (shared/types/movie.ts)\n2. Update database schema (server/utils/generateSQLite.ts)\n3. Update database worker (app/workers/database.worker.ts)\n4. Update stores and composables\n5. Update components\n6. Regenerate database with new schema\n7. Test thoroughly\n\n### Testing Checklist\n- [ ] All SQL queries execute successfully\n- [ ] Movie loading works correctly\n- [ ] Search functionality works\n- [ ] Vector search works\n- [ ] Collections work\n- [ ] Filters work\n- [ ] Movie detail pages load\n- [ ] No console errors\n- [ ] TypeScript compilation succeeds\n\n### Backward Compatibility\n- This is a breaking change for the database schema\n- Requires database regeneration\n- No API changes (internal refactoring only)\n- JSON files (public/movies/*.json) still use imdbId as keys\n\n## Estimated Impact\n- ~30-40 files to update\n- High risk of breaking changes if not thorough\n- Requires comprehensive testing\n- Database regeneration required\n\n## Alternative Approach\nConsider keeping 'imdbId' for backward compatibility and only updating internal documentation/comments to clarify that it stores any movie ID type.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T21:15:10.674684308+01:00","updated_at":"2026-01-18T21:30:48.615270965+01:00","closed_at":"2026-01-18T21:30:48.615270965+01:00"}
{"id":"movies-deluxe-mggi","title":"Update generate-embeddings.ts to write to SQLite database","description":"Modify scripts/generate-embeddings.ts to:\n- Open/create data/nomic-embed-movies.db instead of writing to JSON\n- Use prepared statements for efficient inserts\n- Keep the same caching logic (check if embedding exists before generating)\n- Maintain periodic saves (every 10 embeddings)\n- Keep backward compatibility: still read from JSON if DB doesn't exist for initial migration\n- Update final summary to show DB stats instead of JSON file size\n\nSchema to use:\nCREATE TABLE IF NOT EXISTS embeddings (\n  movie_id TEXT PRIMARY KEY,\n  embedding BLOB NOT NULL,\n  created_at TEXT NOT NULL\n)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T23:29:17.063802665+01:00","updated_at":"2026-01-19T23:30:48.505425326+01:00","closed_at":"2026-01-19T23:30:48.505425326+01:00","dependencies":[{"issue_id":"movies-deluxe-mggi","depends_on_id":"movies-deluxe-fq0h","type":"blocks","created_at":"2026-01-19T23:29:27.851311748+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-mhnh","title":"Add getMovieCount() to database worker","description":"Add a new method to the database worker that returns only the count of movies matching the current filters. This should be fast and not load any movie data. Method signature: getMovieCount(filters) -\u003e number. This enables reactive count display on search page before movies load.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:03:15.371088253+01:00","updated_at":"2026-01-10T22:06:59.362223128+01:00","closed_at":"2026-01-10T22:06:59.362223128+01:00","dependencies":[{"issue_id":"movies-deluxe-mhnh","depends_on_id":"movies-deluxe-n3ae","type":"discovered-from","created_at":"2026-01-10T22:03:48.299200652+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-mill","title":"do not show url query when searching in collection admin","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T00:34:47.031219966+01:00","updated_at":"2026-01-06T20:49:38.114584431+01:00","closed_at":"2026-01-06T20:49:38.114584431+01:00"}
{"id":"movies-deluxe-mim2","title":"Update UI to show embeddings loading state","description":"Add UI feedback for embeddings loading:\n- Show loading indicator when embeddings DB is being fetched\n- Disable semantic search button until embeddings loaded\n- Show error message if embeddings fail to load\n- Add tooltip explaining why semantic search is disabled\n- Consider adding model switcher UI (future enhancement)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:26:24.726217399+01:00","updated_at":"2026-01-25T18:39:12.939660723+01:00","closed_at":"2026-01-25T18:39:12.939660723+01:00","dependencies":[{"issue_id":"movies-deluxe-mim2","depends_on_id":"movies-deluxe-ugep","type":"blocks","created_at":"2026-01-25T18:26:34.774813667+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-mke2","title":"Display source file size in Admin Curation section","description":"Add source file size to individual movie JSON files and display it in the Admin Curation section.\n\n**Requirements:**\n1. **Data Generation**: Update `server/utils/generateMovieJSON.ts` to include the file size of the source video/file in the generated JSON.\n2. **Utility**: Create a utility function `app/utils/formatFileSize.ts` to convert bytes into a human-readable format (e.g., 1.2 GB, 500 MB).\n3. **UI**: Display the human-readable file size in the 'Admin Curation \u003e Source' section of the single movie page (`app/pages/movie/[id].vue`).\n4. **Types**: Update relevant TypeScript interfaces to include the new `fileSize` field.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T18:36:04.560005597+01:00","updated_at":"2026-01-10T18:45:26.661919546+01:00","closed_at":"2026-01-10T18:45:26.661919546+01:00"}
{"id":"movies-deluxe-mkv8","title":"Research embedding models for movie semantic search","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T23:14:23.726233508+01:00","updated_at":"2026-01-20T23:16:04.960776446+01:00","closed_at":"2026-01-20T23:16:04.960776446+01:00"}
{"id":"movies-deluxe-moxl","title":"Add embeddingModel field to FilterState interface","description":"Update shared/types/filters.ts to add optional embeddingModel field to FilterState interface. This will store the selected embedding model ('nomic', 'bge-micro', or 'potion') in the filter state.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T23:43:52.52912787+01:00","updated_at":"2026-01-20T23:45:49.808147132+01:00","closed_at":"2026-01-20T23:45:49.808147132+01:00","dependencies":[{"issue_id":"movies-deluxe-moxl","depends_on_id":"movies-deluxe-glov","type":"blocks","created_at":"2026-01-20T23:44:13.784671801+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-mscb","title":"Always load full movie JSON on navigation to movie detail page","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-09T00:16:06.538051217+01:00","updated_at":"2026-01-09T00:20:57.263384001+01:00","closed_at":"2026-01-09T00:20:57.263384001+01:00"}
{"id":"movies-deluxe-n1ev","title":"Create FilterSortControl component","description":"Create FilterSortControl.vue component for sort options in popup.\n\nRequirements:\n- Reuse existing AppSortButtonGroup component\n- Show relevance option only when search query active\n- Emit sort changes to store\n- Show current selection\n- Include clear button if not default sort\n\nLocation: app/components/FilterSortControl.vue\n\nReference: FilterMenu.vue lines 57-63","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T04:21:16.320452129+01:00","updated_at":"2026-01-11T04:35:01.754591305+01:00","closed_at":"2026-01-11T04:35:01.754591305+01:00","dependencies":[{"issue_id":"movies-deluxe-n1ev","depends_on_id":"movies-deluxe-qq6m","type":"blocks","created_at":"2026-01-11T04:24:58.712487076+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-n3ae","title":"Lazy Loading Optimization Epic","description":"Optimize movie loading performance by implementing lazy loading strategies. Currently, the app loads all movie data upfront which is slow for large datasets. This epic implements: 1) Load count first on search page, 2) Load only visible movie IDs with pagination, 3) Load full movie data per-row as needed, 4) Remove unnecessary DB initialization on movie detail pages. Expected improvements: 50%+ faster search page load, 70%+ faster movie detail page load, significantly reduced memory usage.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-10T22:03:04.885042938+01:00","updated_at":"2026-01-10T22:24:04.421691982+01:00","closed_at":"2026-01-10T22:24:04.421691982+01:00"}
{"id":"movies-deluxe-n8zv","title":"Remove movieDetailsCache from movie store","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:00:52.292251703+01:00","updated_at":"2026-01-13T00:02:42.986431513+01:00","closed_at":"2026-01-13T00:02:42.986431513+01:00"}
{"id":"movies-deluxe-nd44","title":"Copy embeddings DB files to public/data directory","description":"Create build step to copy embedding database files from data/ to public/data/:\n- data/embeddings-nomic-movies.db  public/data/embeddings-nomic-movies.db (122MB)\n- data/embeddings-bge-micro-movies.db  public/data/embeddings-bge-micro-movies.db (62MB)\n- data/embeddings-potion-movies.db  public/data/embeddings-potion-movies.db (12MB)\nThese will be served separately from the main movies.db","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:26:13.350348758+01:00","updated_at":"2026-01-25T18:31:41.881226538+01:00","closed_at":"2026-01-25T18:31:41.881226538+01:00","dependencies":[{"issue_id":"movies-deluxe-nd44","depends_on_id":"movies-deluxe-i7li","type":"blocks","created_at":"2026-01-25T18:26:30.939556589+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-nrnz","title":"Fix IntersectionObserver type error in HomeCollectionRow","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-10T23:30:43.211827111+01:00","updated_at":"2026-01-10T23:34:33.462778747+01:00","closed_at":"2026-01-10T23:34:33.462778747+01:00"}
{"id":"movies-deluxe-nuty","title":"Fix search functionality - searchResultMovies never populated","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-13T01:09:00.89895+01:00","updated_at":"2026-01-13T05:43:50.008072282+01:00","closed_at":"2026-01-13T05:43:50.008077042+01:00"}
{"id":"movies-deluxe-nwhb","title":"Implement search cancellation/debouncing for worker SQL queries","description":"## Problem\n\nWhen users type quickly in search, multiple SQL queries queue up in the database worker. Current issues:\n- Each query executes fully even if results are no longer needed\n- Old query results can arrive after newer ones, causing UI flickering\n- Wasted CPU on abandoned searches\n- No mechanism to cancel in-flight queries\n\n## Technical Constraints\n\n**SQLite WASM Limitations:**\n- **No native query cancellation**: The official upstream SQLite WASM build does not support sqlite3_interrupt() and the symbol has been explicitly removed because it cannot work reliably in the JS/WASM execution model\n- Synchronous execution - once db.exec() starts, it must complete\n- Worker termination would lose entire database (expensive to reload)\n\n**Current Architecture:**\n- Worker: app/workers/database.worker.ts (418 lines)\n- Composable: app/composables/useDatabase.ts (246 lines)\n- Search: app/stores/useMovieStore.ts (searchMovies function, lines 633-669)\n- Uses FTS5 full-text search on fts_movies virtual table\n\n## Proposed Solution\n\n**Combined Approach (Recommended):**\n\nSince true query cancellation is impossible with SQLite WASM, we must handle this at the application level:\n\n1. **Debouncing** (300-500ms delay)\n   - Wait for user to stop typing before searching\n   - Reduces query count by 80-90%\n   - Better UX, less flickering\n\n2. **Request ID Tracking**\n   - Track latest search ID\n   - Discard stale results client-side\n   - Prevents UI updates from old searches\n\n**Implementation:**\n```typescript\n// In useMovieStore.ts or search component\nlet latestSearchId = 0\n\nconst searchMovies = async (query: string) =\u003e {\n  const searchId = ++latestSearchId\n  const results = await db.query(...)\n  \n  if (searchId !== latestSearchId) {\n    return [] // Discard stale results\n  }\n  return results\n}\n\nconst debouncedSearch = useDebounceFn(searchMovies, 300)\n```\n\n## Benefits\n\n-  Prevents UI flickering from stale results\n-  Reduces unnecessary query execution\n-  No worker architecture changes needed\n-  Works within SQLite WASM limitations (no interrupt support)\n-  Improves perceived performance\n\n## Files to Modify\n\n- app/stores/useMovieStore.ts (searchMovies function)\n- Possibly app/composables/useDatabase.ts (if adding request tracking at composable level)\n- Components using search (if debouncing at component level)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T00:54:52.356090615+01:00","updated_at":"2026-01-12T22:25:24.957968214+01:00","closed_at":"2026-01-12T22:25:24.957968214+01:00"}
{"id":"movies-deluxe-nzo2","title":"Increase SQLite generation progress update frequency","description":"Progress updates are currently only emitted every 1000 movies (server/utils/generateSQLite.ts:471), which means:\n- Databases with \u003c1000 movies show minimal progress\n- Long phases (schema creation, optimization) have no progress updates\n- Users may think the process is frozen\n\nImprovements needed:\n1. Update every 100 movies instead of 1000 (line 471)\n2. Add progress for schema creation steps (line 126)\n3. Add granular progress for optimization phases (line 601):\n   - FTS optimization\n   - VACUUM operation\n   - ANALYZE operation\n4. Add phase indicators: 'Loading data', 'Creating schema', 'Inserting movies', 'Optimizing'\n\nFiles to modify:\n- server/utils/generateSQLite.ts\n\nImpact: Medium - improves user experience and reduces perceived wait time","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T00:56:39.542044866+01:00","updated_at":"2026-01-21T00:57:35.445561847+01:00","closed_at":"2026-01-21T00:57:35.445561847+01:00","dependencies":[{"issue_id":"movies-deluxe-nzo2","depends_on_id":"movies-deluxe-p382","type":"blocks","created_at":"2026-01-21T00:56:58.994884274+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-o4uo","title":"Create /search page with migrated functionality","description":"Create app/pages/search.vue with current home page content (MovieVirtualGrid, filters, search). Migrate all existing search/filter functionality.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T16:21:25.327075062+01:00","updated_at":"2026-01-08T17:21:39.328115812+01:00","closed_at":"2026-01-08T17:21:39.328115812+01:00","dependencies":[{"issue_id":"movies-deluxe-o4uo","depends_on_id":"movies-deluxe-i5ag","type":"discovered-from","created_at":"2026-01-08T16:21:45.186165614+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-o5x5","title":"Remove CollapsibleFilterItems.vue component","description":"Delete CollapsibleFilterItems.vue component if no longer needed.\n\nRequirements:\n- Check if FilterGenresControl or FilterCountriesControl reuse this component\n- If not reused, delete app/components/CollapsibleFilterItems.vue\n- If reused, keep it and mark this task as complete\n- Verify no other components import or reference CollapsibleFilterItems\n\nLocation: app/components/CollapsibleFilterItems.vue\n\nDependencies: FilterGenresControl and FilterCountriesControl must be complete","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T04:23:59.773238524+01:00","updated_at":"2026-01-11T04:38:40.942981497+01:00","closed_at":"2026-01-11T04:38:40.942981497+01:00","dependencies":[{"issue_id":"movies-deluxe-o5x5","depends_on_id":"movies-deluxe-5n94","type":"blocks","created_at":"2026-01-11T04:25:30.720561075+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-o5x5","depends_on_id":"movies-deluxe-r69f","type":"blocks","created_at":"2026-01-11T04:25:30.990259447+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-o6yq","title":"Review and simplify MovieHeader search implementation with debouncing","description":"Review and simplify the search implementation in MovieHeader component.\n\nInvestigation:\n1. Check if search in MovieHeader is currently debounced\n2. If debouncing exists in the store, identify where it's implemented\n3. Review current code for unnecessary setters, watchers, and complexity\n4. Check if we can use the search query from the store directly\n\nTasks:\n- If debouncing already exists in store:\n  - Simplify code by reducing setters and watchers\n  - Use direct property setting where possible\n  - Remove redundant reactive patterns\n  - Try to use the search query from the store directly (v-model or direct binding)\n\n- If no debouncing exists:\n  - Add debounce using VueUse's useDebounceFn or useDebounce\n  - Simplify the overall implementation\n  - Remove unnecessary watchers and computed properties\n  - Try to use the search query from the store directly (v-model or direct binding)\n\nGoal: Cleaner, more maintainable search code with proper debouncing to avoid excessive filtering/API calls on every keystroke. Prefer direct store usage over local state + sync logic.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T22:29:21.502450627+01:00","updated_at":"2026-01-02T22:33:42.834722233+01:00","closed_at":"2026-01-02T22:33:42.834722233+01:00"}
{"id":"movies-deluxe-ob54","title":"Create CollectionTagsEditor component","description":"Create app/components/admin/CollectionTagsEditor.vue component:\n- Display current tags as chips/badges\n- Add new tag input with autocomplete from existing tags\n- Remove tag functionality\n- Save tags to collection via API\n- Inline editing experience","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T22:53:05.30550879+01:00","updated_at":"2026-01-05T23:06:12.323729204+01:00","closed_at":"2026-01-05T23:06:12.323729204+01:00","dependencies":[{"issue_id":"movies-deluxe-ob54","depends_on_id":"movies-deluxe-sw18","type":"blocks","created_at":"2026-01-05T22:53:30.611641704+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-odi2","title":"Change MovieMetadata.imdbRating to number","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-10T23:49:10.850821853+01:00","updated_at":"2026-01-11T00:25:45.314995734+01:00","closed_at":"2026-01-11T00:25:45.314995734+01:00"}
{"id":"movies-deluxe-ort4","title":"Add debug logging for SSE progress updates","description":"Add console logging to help diagnose if SSE progress updates are being received properly. This helps debug issues where progress bar doesn't appear.\n\nAdd logging in development mode:\n1. app/composables/useProgress.ts (line 18-26): Log received SSE updates with type, status, current/total, and message\n2. app/stores/useAdminStore.ts (line 69-71): Log when progress state is updated\n\nExample:\nconsole.log('[SSE Progress]', update.type, update.status, `${update.current}/${update.total}`, update.message)\n\nOnly log in development (check import.meta.dev).\n\nFiles to modify:\n- app/composables/useProgress.ts\n- app/stores/useAdminStore.ts\n\nImpact: Low - debugging aid for development","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-21T00:56:40.505533971+01:00","updated_at":"2026-01-21T00:57:35.447446673+01:00","closed_at":"2026-01-21T00:57:35.447446673+01:00"}
{"id":"movies-deluxe-oskl","title":"Fix iframe player ID issue preventing YouTube and Archive.org videos from loading","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-09T00:00:56.601095831+01:00","updated_at":"2026-01-09T00:09:21.046429323+01:00","closed_at":"2026-01-09T00:09:21.046429323+01:00"}
{"id":"movies-deluxe-ou2l","title":"Add search to /collections page with fuse.js","description":"Implement search functionality on the /collections page that searches through collection titles and descriptions using fuse.js for fuzzy matching.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T22:24:46.074034938+01:00","updated_at":"2026-01-05T22:41:50.89632366+01:00","closed_at":"2026-01-05T22:41:50.89632366+01:00"}
{"id":"movies-deluxe-owcq","title":"Remove FilterMenu.vue component","description":"Delete FilterMenu.vue component as it's no longer needed.\n\nRequirements:\n- Delete app/components/FilterMenu.vue\n- Verify no other components import or reference FilterMenu\n- Check for any remaining references in codebase\n\nLocation: app/components/FilterMenu.vue\n\nDependencies: default.vue layout update must be complete","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T04:23:20.020087811+01:00","updated_at":"2026-01-11T04:38:40.931460261+01:00","closed_at":"2026-01-11T04:38:40.931460261+01:00","dependencies":[{"issue_id":"movies-deluxe-owcq","depends_on_id":"movies-deluxe-qzt0","type":"blocks","created_at":"2026-01-11T04:25:30.40534978+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-oyqs","title":"Admin Dashboard refresh stats button does not persist AI Extracted stat updates","description":"When using the refresh stats button in Admin Dashboard, stats update in the UI but AI Extracted stat (and possibly others) are not persisted. On page reload, the new stats are not shown, indicating the data is not being saved to the backend/database.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-06T21:25:38.840113256+01:00","updated_at":"2026-01-06T21:29:16.112070099+01:00","closed_at":"2026-01-06T21:29:16.112070099+01:00"}
{"id":"movies-deluxe-oz6x","title":"Add admin dashboard function to create tar archives of posters","description":"Create an admin dashboard function (UI + API) that generates tar archives of all posters that are \u003c50MB. Archives will be located in /data directory. This allows for easier backup and distribution of poster collections.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-03T01:11:10.437455324+01:00","updated_at":"2026-01-03T01:58:51.6632756+01:00","closed_at":"2026-01-03T01:58:51.6632756+01:00"}
{"id":"movies-deluxe-ozh6","title":"Fix SQL generation running on server start","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-03T01:40:20.04364465+01:00","updated_at":"2026-01-03T01:49:03.860785251+01:00","closed_at":"2026-01-03T01:49:03.860785251+01:00"}
{"id":"movies-deluxe-p382","title":"Move SQLite generation progress bar to header for better visibility","description":"The SQLite generation progress bar is currently displayed inside the AdminDatabaseGenerator component card (app/components/AdminDatabaseGenerator.vue:62-78), which is located at the bottom of the admin page. This makes it hard to see without scrolling.\n\nOther operations (Home Page generation, Stats refresh) display their progress bars prominently in the header section of admin/index.vue (lines 86-121). The SQLite progress should follow the same pattern for consistency.\n\nFiles to modify:\n- app/pages/admin/index.vue: Add SQLite progress display in header (after line 121)\n- app/components/AdminDatabaseGenerator.vue: Remove progress bar from component (keep success/error messages)\n\nCurrent location: Inside component card at bottom of page\nTarget location: Header section (like other operations)\nImpact: High - users may think progress bar doesn't exist","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-21T00:56:39.020143796+01:00","updated_at":"2026-01-21T00:57:35.442073009+01:00","closed_at":"2026-01-21T00:57:35.442073009+01:00"}
{"id":"movies-deluxe-p49m","title":"Improve admin collection page layout with consistent spacing","description":"Refactor the admin collections page layout to use consistent horizontal and vertical spacing between all elements.\n\nCurrent issues:\n- Inconsistent gaps between sections\n- Mixed spacing units (px, rem, arbitrary values)\n- Uneven padding in cards/containers\n- Poor visual hierarchy\n- Responsive spacing not optimized\n\nImprovements needed:\n- Establish consistent spacing scale (e.g., 4, 8, 16, 24, 32px)\n- Apply uniform vertical spacing between major sections\n- Apply uniform horizontal spacing in flex/grid layouts\n- Use Tailwind spacing utilities consistently (gap-4, space-y-6, etc.)\n- Ensure responsive spacing adjusts properly on mobile/tablet/desktop\n- Improve visual grouping with consistent spacing\n- Add proper breathing room around interactive elements\n\nFiles to update:\n- app/pages/admin/collections/index.vue (main layout)\n- app/components/AdminCollectionSelector.vue\n- app/components/AdminMovieSearch.vue\n- app/components/AdminCollectionMoviesList.vue\n- Future: SavedQueryManager.vue, CollectionTagsEditor.vue\n\nSpacing guidelines:\n- Between major sections: gap-8 or space-y-8 (32px)\n- Between related elements: gap-4 or space-y-4 (16px)\n- Card/container padding: p-6 (24px)\n- Form element spacing: gap-3 or space-y-3 (12px)\n- Responsive: reduce spacing on mobile (sm:gap-6, md:gap-8)\n\nThis improves visual consistency and professional appearance of the admin interface.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T23:20:18.961237347+01:00","updated_at":"2026-01-05T23:23:05.193841867+01:00","closed_at":"2026-01-05T23:23:05.193841867+01:00","dependencies":[{"issue_id":"movies-deluxe-p49m","depends_on_id":"movies-deluxe-1ogj","type":"blocks","created_at":"2026-01-05T23:20:23.109801436+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-p6ul","title":"Populate people tables from movie metadata","description":"Parse and populate actors, directors, writers tables from MovieMetadata during database generation.\n\n## Implementation Steps\n1. Parse comma-separated values from metadata.Actors, metadata.Director, metadata.Writer\n2. Normalize names (trim whitespace, handle 'N/A' values)\n3. Create or get existing person IDs (INSERT OR IGNORE pattern)\n4. Create relationships in junction tables (movie_actors, movie_directors, movie_writers)\n5. Update movie_count for each person\n6. Insert into FTS5 tables for full-text search\n\n## Data Processing\n- Handle edge cases: empty strings, 'N/A', null values\n- Trim whitespace from names\n- Handle multiple actors/directors/writers per movie\n- Deduplicate person names (case-insensitive)\n\n## File to Modify\n- server/utils/generateSQLite.ts (data insertion section)\n\n## Dependencies\n- Requires schema changes from previous task","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T21:09:58.312653226+01:00","updated_at":"2026-01-18T21:12:30.327506815+01:00","closed_at":"2026-01-18T21:12:30.327506815+01:00","dependencies":[{"issue_id":"movies-deluxe-p6ul","depends_on_id":"movies-deluxe-7l8m","type":"discovered-from","created_at":"2026-01-18T21:10:25.918274414+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-p6ul","depends_on_id":"movies-deluxe-brbh","type":"blocks","created_at":"2026-01-18T21:10:31.571325726+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-pfn9","title":"Add search to collections pages like /liked","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T22:29:07.465734588+01:00","updated_at":"2026-01-08T22:34:55.279969001+01:00","closed_at":"2026-01-08T22:34:55.279969001+01:00"}
{"id":"movies-deluxe-ppfp","title":"Create script to update Criterion Collection from data file","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T02:05:19.025274404+01:00","updated_at":"2026-01-11T02:08:30.590820988+01:00","closed_at":"2026-01-11T02:08:30.590820988+01:00"}
{"id":"movies-deluxe-pqj4","title":"Skip individual JSON generation in admin UI by default","description":"Update the admin UI to skip individual JSON file generation by default. Users should be able to opt-in if needed, but the default behavior should be to not generate individual JSON files (only generate the main movies.json or similar aggregate file).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T00:30:16.023921883+01:00","updated_at":"2026-01-21T00:31:00.771905779+01:00","closed_at":"2026-01-21T00:31:00.771905779+01:00"}
{"id":"movies-deluxe-ps4b","title":"Move Collection Tags into Edit Collection modal","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T00:01:09.607464101+01:00","updated_at":"2026-01-06T00:24:41.531633853+01:00","closed_at":"2026-01-06T00:24:41.531633853+01:00"}
{"id":"movies-deluxe-pswo","title":"Create collection movies list component","description":"Create app/components/AdminCollectionMoviesList.vue that displays movies in the selected collection in list view. Show small poster (64px), title, year, director, and 'Remove' button. Load movie details from movies.json via API. Support bulk operations. Include empty state when no movies in collection. Add confirmation dialog for remove action.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T20:47:17.324765704+01:00","updated_at":"2026-01-03T21:40:24.432749389+01:00","closed_at":"2026-01-03T21:40:24.432749389+01:00"}
{"id":"movies-deluxe-py8p","title":"Update generateSQLite.ts to read embeddings from SQLite DB","description":"Modify server/utils/generateSQLite.ts to:\n- Open data/nomic-embed-movies.db instead of reading embeddings.json\n- Query embeddings using: SELECT movie_id, embedding FROM embeddings\n- Convert BLOB back to Float32Array for vec_movies insertion\n- Keep fallback behavior if embeddings DB doesn't exist\n- Update log messages to reference DB instead of JSON file\n- Ensure proper DB connection cleanup\n\nLocation: server/utils/generateSQLite.ts:37-47","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T23:29:19.526078603+01:00","updated_at":"2026-01-19T23:32:39.721629255+01:00","closed_at":"2026-01-19T23:32:39.721629255+01:00","dependencies":[{"issue_id":"movies-deluxe-py8p","depends_on_id":"movies-deluxe-fq0h","type":"blocks","created_at":"2026-01-19T23:29:28.430513331+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-q4sv","title":"queryByIds missing source field - movie cards not showing source icons","description":"The queryByIds function appears to no longer return the source field for movies, but movie cards should display source icons (Archive.org, YouTube, etc.). This causes movie cards to not show their source indicators. Need to investigate why the source field is missing from queryByIds results and ensure it's properly included so movie cards can render the appropriate source icons.\n\nAdditionally, db.queryByIds\u003cRecord\u003cstring, unknown\u003e\u003e should not use unknown type but a proper Movie type interface. The generic type should be properly typed to ensure type safety and better IDE support.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-08T19:08:24.891082587+01:00","updated_at":"2026-01-08T19:51:53.360084641+01:00","closed_at":"2026-01-08T19:51:53.360084641+01:00"}
{"id":"movies-deluxe-q59j","title":"Integrate model selection into movie store and search flow","description":"Update app/stores/useMovieStore.ts to handle embedding model selection. Store selected model in filters, pass to vectorSearch.search(), and persist selection in localStorage. Update executeFilterQuery() to use selected model.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T23:43:56.687107048+01:00","updated_at":"2026-01-20T23:45:49.806327787+01:00","closed_at":"2026-01-20T23:45:49.806327787+01:00","dependencies":[{"issue_id":"movies-deluxe-q59j","depends_on_id":"movies-deluxe-b602","type":"blocks","created_at":"2026-01-20T23:44:17.618977439+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-q59j","depends_on_id":"movies-deluxe-qw80","type":"blocks","created_at":"2026-01-20T23:44:18.098651976+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-qapw","title":"Replace collection dropdown with button-based selection in AdminCurationPanel","description":"Replace the current dropdown + Add button collection management UI in AdminCurationPanel with a button-based selection interface similar to AdminCollectionSelector. Each collection should be represented as a button that shows whether the movie is currently in that collection (active state). Clicking a button should toggle the movie in/out of the collection. This provides a more intuitive and visual way to manage movie collections directly from the movie detail page.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-24T17:50:35.581644695+01:00","updated_at":"2026-01-24T17:57:42.968304877+01:00","closed_at":"2026-01-24T17:57:42.968304877+01:00"}
{"id":"movies-deluxe-qd0h","title":"Optimize index page with lazy loading","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T22:12:21.100372587+01:00","updated_at":"2026-01-10T22:15:12.423742906+01:00","closed_at":"2026-01-10T22:15:12.423742906+01:00","dependencies":[{"issue_id":"movies-deluxe-qd0h","depends_on_id":"movies-deluxe-n3ae","type":"discovered-from","created_at":"2026-01-10T22:12:23.359883472+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-qi5n","title":"Fix embedding normalization undefined checks","description":"potionEmbedding.ts:188,194 \u0026 server _potion.ts:230,236 - Array access possibly undefined. Need proper bounds checking or type assertions.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-25T21:49:33.95609822+01:00","updated_at":"2026-01-25T21:56:40.509665032+01:00","closed_at":"2026-01-25T21:56:40.509665032+01:00"}
{"id":"movies-deluxe-qpr7","title":"Fix embedding progress callback type signature","description":"bgeEmbedding.ts:58 - progress_callback type doesn't match ProgressCallback interface. ProgressInfo union includes InitiateProgressInfo without 'progress' property.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-25T21:49:32.676045641+01:00","updated_at":"2026-01-25T21:57:18.281040652+01:00","closed_at":"2026-01-25T21:57:18.281040652+01:00"}
{"id":"movies-deluxe-qq6m","title":"Refactor filter menu into search header with inline controls","description":"Transform the slide-out filter menu into an integrated search header with category buttons and popup controls. Remove filter icon from sidebar. Improve UX with inline filter controls and logarithmic votes slider.\n\nPlanning document: history/filter-header-refactor-plan.md\n\nKey changes:\n- Add filter category buttons below search input\n- Each button opens popup menu with filter controls\n- Show active filter state on buttons\n- Remove filter icon from sidebar menus\n- Implement logarithmic scale for votes slider\n- Support clear individual filters and clear all","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-11T04:21:01.884838875+01:00","updated_at":"2026-01-11T04:39:28.256773764+01:00","closed_at":"2026-01-11T04:39:28.256773764+01:00"}
{"id":"movies-deluxe-qrez","title":"Update Sidebar search icon to navigate to /search","description":"Update Sidebar component so search icon navigates to /search route and shows SearchHeader.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T16:21:26.765908101+01:00","updated_at":"2026-01-08T17:21:31.275866686+01:00","closed_at":"2026-01-08T17:21:31.275866686+01:00","dependencies":[{"issue_id":"movies-deluxe-qrez","depends_on_id":"movies-deluxe-i5ag","type":"discovered-from","created_at":"2026-01-08T16:21:46.18720063+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-qrez","depends_on_id":"movies-deluxe-o4uo","type":"blocks","created_at":"2026-01-08T16:21:53.762304681+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-qrwu","title":"Improve toast notification system with stacking, transitions, and proper queue management","description":"Enhance the toast notification system with the following improvements:\n\n1. **Toast Stacking**: Allow multiple toasts to be queued and displayed\n2. **Display Limit**: Show maximum 2 toasts at once, queue the rest\n3. **Auto-dismiss**: Make toasts automatically disappear after a few seconds\n4. **Queue Processing**: Show queued toasts one after another when current ones disappear\n5. **Smooth Transitions**: \n   - Slide transitions for toast removal/addition\n   - When toast is removed, slide remaining toasts up\n   - Zoom new toasts in when they appear\n6. **Fix Close Button**: \n   - Properly remove toast from queue when manually closed\n   - Kill auto-dismiss timer when manually closed\n   - Handle queue state correctly after manual dismissal\n\nThis will provide a much better user experience with professional toast notifications that don't overlap or interfere with each other.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T19:31:45.156099175+01:00","updated_at":"2026-01-08T21:39:48.267325509+01:00","closed_at":"2026-01-08T21:39:48.267325509+01:00"}
{"id":"movies-deluxe-qw80","title":"Create EmbeddingModelSelector UI component","description":"Create new Vue component app/components/EmbeddingModelSelector.vue for selecting embedding model. Display model name, dimensions, source (API/browser), and description. Similar to SearchModeSelector. Should only be visible when searchMode is 'semantic'.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T23:43:55.289313387+01:00","updated_at":"2026-01-20T23:45:49.804071016+01:00","closed_at":"2026-01-20T23:45:49.804071016+01:00","dependencies":[{"issue_id":"movies-deluxe-qw80","depends_on_id":"movies-deluxe-rg04","type":"blocks","created_at":"2026-01-20T23:44:17.216335916+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-qwjz","title":"Replace semantic search brain with Sparkels","description":"Replace the semantic search brain icon with a sparkles icon to better represent AI-powered semantic search. Changed from 'i-mdi-brain' to 'i-mdi-sparkles' in SearchModeSelector component.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-18T20:56:05.629212788+01:00","updated_at":"2026-01-18T21:01:05.458068174+01:00","closed_at":"2026-01-18T21:01:05.458068174+01:00"}
{"id":"movies-deluxe-qxxj","title":"Handle IMDB ID redirects during poster scraping","description":"## Problem\n\nWhen scraping posters, many fail because IMDB IDs change and pages redirect to new IDs. Example error:\n```\nTrying IMDB scraping fallback for tt1144469\nERROR Failed IMDB scraping for tt1144469: No poster found on IMDB page\nERROR Failed to download poster for tt1144469 (tried 2 methods): No poster found on IMDB page\n```\n\nThe issue is that tt1144469 may have been merged/redirected to a different IMDB ID, but our system doesn't detect or handle these redirects.\n\n## Current Behavior\n\n1. **Poster download** (`server/utils/posterDownloader.ts:180`):\n   - Tries OMDB API first (if configured)\n   - Falls back to IMDB page scraping (`scrapeImdbPoster()` at line 170)\n   \n2. **IMDB scraping** (`fetchHtml()` at line 99):\n   - DOES handle HTTP 301/302 redirects (lines 112-118)\n   - Follows redirect URL recursively\n   - BUT: doesn't extract or return the new IMDB ID from the redirect\n\n3. **Result**: \n   - Poster download fails with \"No poster found\"\n   - Old IMDB ID remains in `movies.json` and `collections.json`\n   - Poster filename still uses old ID\n   - Future scraping attempts continue to fail\n\n## Required Solution\n\n### 1. Detect IMDB ID Changes\nModify `scrapeImdbPoster()` to:\n- Track redirects during `fetchHtml()`\n- Extract new IMDB ID from final URL (e.g., `https://www.imdb.com/title/tt9999999/`)\n- Return both poster URL AND new IMDB ID (if changed)\n\n### 2. Update Database\nWhen redirect detected:\n- Use existing `migrateMovieId()` function (`server/utils/movieData.ts:411`)\n- This already handles:\n  - Updating movie entry in `movies.json`\n  - Calling `updateMovieIdInCollections()` to update `collections.json`\n  - Removing old entry, adding new entry\n\n### 3. Rename Poster File\n- Move/rename poster from `public/posters/{oldId}.jpg` to `public/posters/{newId}.jpg`\n- Or delete old poster and download with new ID\n\n### 4. Continue Download\n- After migration, continue with poster download using new ID\n- Log the ID change for visibility\n\n## Implementation Notes\n\n**Key Files:**\n- `server/utils/posterDownloader.ts` - Poster download logic\n- `server/utils/movieData.ts` - Database operations (`migrateMovieId`, `loadMoviesDatabase`, `saveMoviesDatabase`)\n- `server/utils/collections.ts` - Collection updates (`updateMovieIdInCollections`)\n- `data/movies.json` - Movie database (movieId is key AND field)\n- `public/data/collections.json` - Collections with movieIds arrays\n\n**Existing Infrastructure:**\n- `fetchHtml()` already follows redirects (line 112-118)\n- `migrateMovieId()` already handles full migration (line 411-436)\n- `updateMovieIdInCollections()` already updates collections (line 209-232)\n\n**Changes Needed:**\n1. Modify `fetchHtml()` to return final URL\n2. Extract new IMDB ID from final URL in `scrapeImdbPoster()`\n3. In `downloadPoster()`, detect ID change and call `migrateMovieId()`\n4. Handle poster file rename/re-download\n5. Add logging for ID changes\n\n## Testing\n- Test with known redirected IDs (e.g., tt1144469)\n- Verify movies.json updated\n- Verify collections.json updated\n- Verify poster downloaded with new ID\n- Check failed-posters.json doesn't contain new ID","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-24T19:23:11.780961953+01:00","updated_at":"2026-01-24T19:27:08.980982899+01:00","closed_at":"2026-01-24T19:27:08.980982899+01:00"}
{"id":"movies-deluxe-qy5r","title":"Remove movie-level quality marking UI (replaced by source-level quality marks)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:42:30.989656568+01:00","updated_at":"2026-01-10T20:55:29.238711978+01:00","closed_at":"2026-01-10T20:55:29.238711978+01:00"}
{"id":"movies-deluxe-qzt0","title":"Update default.vue layout to remove FilterMenu","description":"Update default.vue layout to remove FilterMenu component and related state.\n\nRequirements:\n- Remove FilterMenu component import and usage\n- Remove isFilterMenuOpen state\n- Remove @open-filters handler from Sidebar\n- Remove Escape key handler for filter menu\n- Update Ctrl+K shortcut to navigate to /search instead of toggling filter menu\n- Keep other keyboard shortcuts intact\n- Test all remaining keyboard shortcuts\n\nLocation: app/layouts/default.vue\n\nDependencies: Sidebar filter removal must be complete","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T04:23:12.899561622+01:00","updated_at":"2026-01-11T04:38:25.146197585+01:00","closed_at":"2026-01-11T04:38:25.146197585+01:00","dependencies":[{"issue_id":"movies-deluxe-qzt0","depends_on_id":"movies-deluxe-fx4q","type":"blocks","created_at":"2026-01-11T04:25:30.234787382+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-qzx2","title":"Enhance archive.org scraping to include item_size and update upsertMovie logic","description":"When scraping archive.org, also retrieve the item_size field and add it to the sources array. Update the upsertMovie function to handle updating existing source entries when scraping again, rather than just appending new ones.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T21:07:16.689523871+01:00","updated_at":"2026-01-06T21:25:02.802330241+01:00","closed_at":"2026-01-06T21:25:02.802330241+01:00"}
{"id":"movies-deluxe-r475","title":"Add search functionality to /liked movies page similar to collections","description":"Add a search input to the /liked movies page in a similar position as on the collections page. Implement fuzzy search using fuse.js to search through all movie titles in the liked movies collection. This will allow users to quickly find specific movies in their liked list, especially useful when they have many liked movies.\n\nRequirements:\n- Position search input similar to collections page layout\n- Use fuse.js for fuzzy search functionality\n- Search through movie titles in the liked collection\n- Provide real-time search results as user types\n- Maintain consistent UI/UX with existing search implementations\n- IMPORTANT: Never apply global filters or other search functionality to liked movies - only use the new local search feature for filtering the liked collection","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T19:36:12.530445789+01:00","updated_at":"2026-01-08T22:02:51.093219564+01:00","closed_at":"2026-01-08T22:02:51.093219564+01:00"}
{"id":"movies-deluxe-r5t5","title":"Implement command caching for pre-initialization database queries","description":"**Problem:**\nOn page load, methods like `fetchMoviesByIds` and other SQL calls fail with 'Database not initialized' errors when called before the database worker completes initialization.\n\n**Current Behavior:**\n- `useDatabase.ts` methods (query, queryByIds, getCollectionsForMovie, getFilterOptions, vectorSearch) throw errors immediately if `isReady.value` is false\n- This causes race conditions during page load when components try to fetch data before the database is ready\n\n**Proposed Solution:**\n1. **In `database.worker.ts`:**\n   - Create a command cache/queue for messages that arrive before initialization completes\n   - When a command arrives and `initializationPromise` exists but hasn't resolved, add it to the cache\n   - After initialization completes, process all cached commands in order\n   - Resolve the pending promises with the query results\n\n2. **In `useDatabase.ts`:**\n   - Remove the `if (!isReady.value) throw new Error('Database not initialized')` checks from:\n     - query() (line 76-78)\n     - queryByIds() (line 91-93)\n     - getCollectionsForMovie() (line 107-109)\n     - getFilterOptions() (line 122-124)\n     - vectorSearch() (line 147-149)\n   - Let the worker handle queueing and execution timing\n\n**Files to modify:**\n- `app/workers/database.worker.ts` - Add command caching logic\n- `app/composables/useDatabase.ts` - Remove initialization checks\n\n**Benefits:**\n- Eliminates race conditions on page load\n- Simplifies composable code\n- Better user experience (no failed queries during initialization)","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-18T20:03:12.155495183+01:00","updated_at":"2026-01-18T20:06:37.603017169+01:00","closed_at":"2026-01-18T20:06:37.603017169+01:00"}
{"id":"movies-deluxe-r69f","title":"Create FilterCountriesControl component","description":"Create FilterCountriesControl.vue component for country multi-select in popup.\n\nRequirements:\n- Multi-select pill buttons with counts\n- Load countries from database (useDatabase composable)\n- Show movie count for each country\n- Highlight selected countries\n- Emit changes to store (toggleCountry)\n- Include clear button if any selected\n- Reuse CollapsibleFilterItems if needed or implement scrollable container\n- Loading state while fetching countries\n\nLocation: app/components/FilterCountriesControl.vue\n\nReference: FilterMenu.vue lines 208-238","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T04:21:53.50969166+01:00","updated_at":"2026-01-11T04:35:01.793281135+01:00","closed_at":"2026-01-11T04:35:01.793281135+01:00","dependencies":[{"issue_id":"movies-deluxe-r69f","depends_on_id":"movies-deluxe-qq6m","type":"blocks","created_at":"2026-01-11T04:24:59.757418663+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-r7ow","title":"Add link to movie detail page in collection admin search results","description":"In collection admin on movie search result list item add link to movie /movie/[id]","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T00:27:15.347117797+01:00","updated_at":"2026-01-19T00:35:06.601612551+01:00","closed_at":"2026-01-19T00:35:06.601612551+01:00"}
{"id":"movies-deluxe-r8lg","title":"Create admin collections page route","description":"Create app/pages/admin/collections/index.vue that serves as the main collection editor page. Include localhost-only access check (use isLocalhost() util). Add page layout with collection selector dropdown, search bar, and two-column layout: left for search results, right for current collection movies. Use AdminCollectionManager.vue as reference for styling patterns.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T20:47:12.33527992+01:00","updated_at":"2026-01-03T21:40:24.429108764+01:00","closed_at":"2026-01-03T21:40:24.429108764+01:00","dependencies":[{"issue_id":"movies-deluxe-r8lg","depends_on_id":"movies-deluxe-ku82","type":"blocks","created_at":"2026-01-03T20:48:40.014455892+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-r8lg","depends_on_id":"movies-deluxe-ysej","type":"blocks","created_at":"2026-01-03T20:48:40.134916324+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-r8lg","depends_on_id":"movies-deluxe-pswo","type":"blocks","created_at":"2026-01-03T20:48:40.281841331+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-rbvz","title":"Update search component to get movie IDs only","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:01:00.978765116+01:00","updated_at":"2026-01-13T00:04:50.590675151+01:00","closed_at":"2026-01-13T00:04:50.590675151+01:00"}
{"id":"movies-deluxe-rek1","title":"Update search.vue to fetch count first","description":"Modify search.vue page to call fetchMovieCount() first and display the count reactively before movies load. Then call fetchLightweightMovies() with pagination. Update MovieStats component to show count immediately. Ensure loading states are clear.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:03:23.734729796+01:00","updated_at":"2026-01-10T22:09:43.565653303+01:00","closed_at":"2026-01-10T22:09:43.565653303+01:00","dependencies":[{"issue_id":"movies-deluxe-rek1","depends_on_id":"movies-deluxe-xacq","type":"blocks","created_at":"2026-01-10T22:03:50.129088842+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-rek1","depends_on_id":"movies-deluxe-5dji","type":"blocks","created_at":"2026-01-10T22:03:50.236679573+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-repv","title":"Allow enable/disable collections in admin, hide disabled in /collections","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T01:25:31.645422799+01:00","updated_at":"2026-01-07T01:29:47.58124635+01:00","closed_at":"2026-01-07T01:29:47.58124635+01:00"}
{"id":"movies-deluxe-rfp0","title":"Change imdbVotes to number in MovieEntry metadata","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:43:22.564413949+01:00","updated_at":"2026-01-10T22:44:59.974664724+01:00","closed_at":"2026-01-10T22:44:59.974664724+01:00"}
{"id":"movies-deluxe-rg04","title":"Auto-detect embedding model from database on init","description":"On app initialization, query database metadata to determine which embedding model is stored. Automatically use this model for all semantic searches. Add getEmbeddingModelInfo() method to useDatabase composable that returns model metadata.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-20T23:44:06.241416158+01:00","updated_at":"2026-01-21T00:17:16.665484233+01:00","closed_at":"2026-01-21T00:17:16.665484233+01:00","dependencies":[{"issue_id":"movies-deluxe-rg04","depends_on_id":"movies-deluxe-khas","type":"blocks","created_at":"2026-01-20T23:44:14.894743288+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-rg3n","title":"Admin collection manager: optimize query storage and restore search state","description":"1. Only store sort values that are not default (avoid storing unnecessary default values in saved queries). 2. Store and restore search query when clicking filter icon in Dynamic Queries section.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T00:14:39.114160305+01:00","updated_at":"2026-01-06T00:39:12.082890244+01:00","closed_at":"2026-01-06T00:39:12.082890244+01:00"}
{"id":"movies-deluxe-rhbt","title":"Refactor AppInputCheckbox to use v-model pattern instead of checked prop + change event","description":"## Problem\nAppInputCheckbox currently uses a non-standard Vue pattern with a 'checked' prop and 'change' event instead of the standard v-model pattern. This makes it inconsistent with Vue best practices and other form components.\n\n## Current Implementation\n- Component: app/components/AppInputCheckbox.vue:35-46\n- Props: 'checked: boolean'\n- Emits: 'change: [checked: boolean]'\n\n## Required Changes\n\n### 1. Update AppInputCheckbox.vue\n- Replace 'checked' prop with 'modelValue' prop\n- Replace 'change' emit with 'update:modelValue' emit\n- Update internal logic to use modelValue pattern\n- Update template binding from :checked to :modelValue\n\n### 2. Update Component Usages (3 files)\nAll files currently use :checked + @change pattern, need to change to v-model:\n\n**AdminEmbeddingsGenerator.vue** (2 usages):\n- Line 19-24: Model selection checkboxes\n- Line 55-60: Force rebuild option\n\n**AdminDatabaseGenerator.vue** (1 usage):\n- Line 17-22: Skip JSON generation option\n\n**FilterSourceControl.vue** (2 usages):\n- Line 13-24: Archive.org checkbox\n- Line 35-51: YouTube channel checkboxes (in v-for loop)\n\n### 3. Testing\nAfter changes, verify:\n- All checkboxes work correctly with v-model\n- Two-way binding functions properly\n- No console errors or warnings\n- Visual appearance unchanged\n\n## Benefits\n- Follows Vue 3 best practices\n- Consistent with other form components\n- Simpler, more intuitive API\n- Better TypeScript support for v-model","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T21:55:12.819122683+01:00","updated_at":"2026-01-25T22:55:03.693275093+01:00","closed_at":"2026-01-25T22:55:03.693275093+01:00"}
{"id":"movies-deluxe-rin7","title":"Remove unused lastScrollY variable from codebase","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T02:24:21.663710208+01:00","updated_at":"2026-01-13T02:27:21.843231749+01:00","closed_at":"2026-01-13T02:27:21.843231749+01:00"}
{"id":"movies-deluxe-rm75","title":"Implement vector search with sqlite-vec for semantic movie search and similarity recommendations","description":"Add vector search capabilities using sqlite-vec extension and Ollama embeddings to enable:\n1. Semantic search (e.g., 'movies about revenge' finds relevant films)\n2. Similar movie recommendations based on plot/metadata embeddings\n3. Hybrid search combining FTS5 keyword search with vector similarity\n\nTechnical approach:\n- Use sqlite-vec extension for vector storage and similarity search\n- Generate embeddings using Ollama (nomic-embed-text model)\n- Create script to generate embeddings for all movies at build time\n- Store vectors in SQLite alongside existing movie data\n- Add UI toggle to switch between keyword and semantic search\n- Use vector similarity for 'Related Movies' feature in collections\n\nDependencies:\n- sqlite-vec npm package\n- ollama (local embedding generation)\n- Markdown representation of movies for embedding input\n\nReferences:\n- sqlite-vec: https://github.com/asg017/sqlite-vec\n- Ollama embeddings: https://ollama.com/blog/embedding-models","status":"closed","priority":3,"issue_type":"epic","created_at":"2026-01-12T01:46:57.54024325+01:00","updated_at":"2026-01-13T21:41:44.817732406+01:00","closed_at":"2026-01-13T21:41:44.817732406+01:00"}
{"id":"movies-deluxe-rrw8","title":"Update DB generation scripts to write model metadata","description":"Modify scripts/generate-embeddings.ts (or similar) to write model metadata when creating vec_movies table. Ensure all three database files (nomic, bge-micro, potion) have correct metadata stored AND that the vec_movies table is created with the correct dimensions for each model (768D for nomic, 384D for bge-micro, 64D for potion). This ensures dimensions always match.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T23:44:07.841073916+01:00","updated_at":"2026-01-21T00:11:28.152864106+01:00","closed_at":"2026-01-21T00:11:28.152864106+01:00","dependencies":[{"issue_id":"movies-deluxe-rrw8","depends_on_id":"movies-deluxe-khas","type":"blocks","created_at":"2026-01-20T23:44:15.551111654+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-rtfw","title":"Update search and filter to retrieve only IDs","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:01:04.08946985+01:00","updated_at":"2026-01-13T00:08:29.360901769+01:00","closed_at":"2026-01-13T00:08:29.360901769+01:00"}
{"id":"movies-deluxe-rwcl","title":"Remove unnecessary generics from useDatabase methods","description":"queryByIds() and vectorSearch() in useDatabase.ts have generic type parameters but always return movie types. The generics provide no benefit since results are always cast:\n\nresolve: (data: WorkerResponse) =\u003e resolve((data.result as T[]) ?? [])\n\nRemove generics from queryByIds() and vectorSearch() and use explicit return types instead. Keep generic only for query() which handles raw SQL queries.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-18T21:50:19.973597334+01:00","updated_at":"2026-01-18T21:52:31.553226517+01:00","closed_at":"2026-01-18T21:52:31.553226517+01:00"}
{"id":"movies-deluxe-rxec","title":"refactor toast notifications into dedicated store","description":"Extract toast notification functionality from useUiStore into a new dedicated useToastStore.\n\nCurrent situation:\n- Toast notifications are currently managed in app/stores/useUiStore.ts (lines 50-175)\n- This includes Toast type, ToastType, and all toast-related state and methods\n- The UI store should focus on UI preferences (theme, dark mode, search overlay)\n\nMigration tasks:\n1. Create new file: app/stores/useToastStore.ts\n2. Move toast-related code from useUiStore:\n   - ToastType type definition (line 7)\n   - Toast interface (lines 12-18)\n   - toasts state (line 51)\n   - toastQueue state (line 52)\n   - MAX_VISIBLE_TOASTS constant (line 53)\n   - processToastQueue function (lines 90-102)\n   - showToast function (lines 107-125)\n   - removeToast function (lines 130-160)\n   - clearToasts function (lines 165-175)\n\n3. Update useUiStore.ts:\n   - Remove all toast-related code\n   - Remove toast exports from return statement (lines 183-184, 192-194)\n   - Update comments to reflect it no longer manages toasts (line 22)\n\n4. Find and update all imports:\n   - Search for files importing toast functionality from useUiStore\n   - Update imports to use useToastStore instead\n   - Common patterns to search: 'showToast', 'removeToast', 'clearToasts', 'toasts'\n\n5. Test the migration:\n   - Verify toast notifications still work across the app\n   - Check that HMR (Hot Module Replacement) works correctly\n   - Ensure no TypeScript errors\n\nBenefits:\n- Better separation of concerns\n- Smaller, more focused stores\n- Easier to maintain and test\n- Follows single responsibility principle","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-12T00:34:02.606474317+01:00","updated_at":"2026-01-13T19:56:45.80333883+01:00","closed_at":"2026-01-13T19:56:45.80333883+01:00"}
{"id":"movies-deluxe-s43x","title":"Test responsive behavior across all screen sizes","description":"Test responsive behavior of new filter header design.\n\nTest cases:\n- Mobile (\u003c 768px): buttons scroll horizontally, popups work correctly\n- Tablet (768px - 1024px): optimal button layout, popups positioned correctly\n- Desktop (\u003e 1024px): all buttons visible, popups positioned correctly\n- Filter button row wraps appropriately\n- Horizontal scroll indicators work on mobile\n- Touch interactions work on mobile/tablet\n- Popup menus are usable on all screen sizes\n- No layout overflow or breaking\n- Text remains readable at all sizes\n\nDevices to test:\n- iPhone SE (375px)\n- iPhone 12 Pro (390px)\n- iPad (768px)\n- iPad Pro (1024px)\n- Desktop (1920px)\n\nLocation: Manual testing on /search page\n\nDependencies: All components must be complete","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T04:24:34.329088869+01:00","updated_at":"2026-01-11T04:39:28.209782413+01:00","closed_at":"2026-01-11T04:39:28.209782413+01:00","dependencies":[{"issue_id":"movies-deluxe-s43x","depends_on_id":"movies-deluxe-ioaw","type":"blocks","created_at":"2026-01-11T04:25:51.427922295+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-s43x","depends_on_id":"movies-deluxe-vi5p","type":"blocks","created_at":"2026-01-11T04:25:51.471866381+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-s9ie","title":"Unify all search bar components into a single reusable component","description":"Unify all search bar components into a single reusable component.\n\nCurrent situation:\n- SearchHeader.vue: Full-screen search overlay with debouncing\n- AppSearchBar.vue: Inline search bar with throttling\n- AppMobileSearchBar.vue: Mobile-specific search bar (if exists)\n\nGoal:\n- Create a single unified search component that handles all use cases\n- Support both inline and overlay modes\n- Consistent debouncing behavior across all instances\n- Reduce code duplication and maintenance burden\n- Ensure mobile and desktop experiences are consistent","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T22:33:55.229864503+01:00","updated_at":"2026-01-02T22:36:49.595601108+01:00","closed_at":"2026-01-02T22:36:49.595601108+01:00"}
{"id":"movies-deluxe-s9ux","title":"Fix TypeScript errors in index.vue and generateHomePages.ts","description":"","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-08T20:34:26.870975139+01:00","updated_at":"2026-01-08T21:04:00.24867169+01:00","closed_at":"2026-01-08T21:04:00.24867169+01:00"}
{"id":"movies-deluxe-sage","title":"Fix server BGE pipeline type complexity","description":"server/utils/embeddings/_bge.ts:76 - Expression produces union type too complex to represent. May need type assertion or simplification.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-25T21:49:37.029712364+01:00","updated_at":"2026-01-25T21:54:32.099609012+01:00","closed_at":"2026-01-25T21:54:32.099609012+01:00"}
{"id":"movies-deluxe-sjcu","title":"Sort movie sources by type and file size","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T21:45:00.047726125+01:00","updated_at":"2026-01-11T21:45:02.425922166+01:00","closed_at":"2026-01-11T21:45:02.425922166+01:00"}
{"id":"movies-deluxe-sjyk","title":"Refactor MovieCard to use only LightweightMovie type","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T21:16:27.050586457+01:00","updated_at":"2026-01-11T21:30:40.678719884+01:00","closed_at":"2026-01-11T21:30:40.678719884+01:00"}
{"id":"movies-deluxe-so12","title":"Fix Archive.org scraper overwriting OMDB metadata","description":"Archive.org scraper is overwriting movies that have OMDB metadata. Stats show fewer OMDB-enriched movies after running archive scrape. Need to investigate upsertMovie logic in server/utils/movieData.ts to ensure metadata is preserved when re-scraping archive.org sources.","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-07T00:58:01.922355392+01:00","updated_at":"2026-01-07T01:22:30.533534377+01:00","closed_at":"2026-01-07T01:22:30.533547163+01:00"}
{"id":"movies-deluxe-sw18","title":"Update collections store to handle new fields","description":"Update app/stores/useCollectionsStore.ts to:\n- Add methods for managing saved queries (addQuery, removeQuery, refreshFromQuery)\n- Add methods for managing tags (updateTags)\n- Update type imports to use extended Collection interface\n- Ensure proper cache invalidation when collections are updated","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T22:53:01.31750287+01:00","updated_at":"2026-01-05T23:03:54.53433971+01:00","closed_at":"2026-01-05T23:03:54.53433971+01:00","dependencies":[{"issue_id":"movies-deluxe-sw18","depends_on_id":"movies-deluxe-6k5e","type":"blocks","created_at":"2026-01-05T22:53:27.855361505+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-sw18","depends_on_id":"movies-deluxe-1hjk","type":"blocks","created_at":"2026-01-05T22:53:28.353973853+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-sw18","depends_on_id":"movies-deluxe-0jhh","type":"blocks","created_at":"2026-01-05T23:17:56.384035419+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-sw4m","title":"Movie Quality Filtering System","description":"Allow admins to mark movies as low-quality (clips, teasers, trailers, etc.) and exclude them from SQLite generation and UI display. Includes data structure updates, admin UI, filtering logic, and optional auto-detection.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-31T04:01:34.121745044+01:00","updated_at":"2026-01-02T11:29:39.634792579+01:00","closed_at":"2026-01-02T11:29:39.634792579+01:00"}
{"id":"movies-deluxe-szvs","title":"Remove unused loadFromApi function and API endpoint if only called by loadFromFile","description":"The loadFromFile function appears to call loadFromApi, but if nothing else in the codebase uses loadFromApi, then both the loadFromApi function and its corresponding API endpoint should be removed. This would simplify the code by eliminating unnecessary API layer when data is only loaded from files. Need to verify that loadFromApi is not used elsewhere, then remove the function and its API endpoint to reduce code complexity.\n\nAdditionally, when loadFromFile fails, it should show a toast notification to inform the user of the error instead of failing silently.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T19:26:43.158444388+01:00","updated_at":"2026-01-08T21:34:12.608289057+01:00","closed_at":"2026-01-08T21:34:12.608289057+01:00"}
{"id":"movies-deluxe-t03i","title":"Add verified flag to SQL database and display verified badge in admin curation","description":"Add a 'verified' boolean flag to the SQLite database schema. Update the movie card in the admin curation section to display a verified badge when the flag is true.\n\n**Badge Design (from AdminCurationPanel.vue:12-17):**\n- Icon: `i-mdi-check-decagram` (Material Design Icons checkmark with decorative border)\n- Shape: `rounded` (standard rounded corners)\n- Colors: \n  - Light mode: `text-green-600 bg-green-100`\n  - Dark mode: `text-green-400 bg-green-900/30`\n- Text: \"Verified\" in bold, extra small font (`text-xs font-bold`)\n- Layout: Flex container with icon and text, 1px gap, 2px horizontal padding, 1px vertical padding\n\nThis badge already exists in the AdminCurationPanel header (line 12-17) and should be replicated on the movie card when displayed in admin views.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-03T19:57:22.084208765+01:00","updated_at":"2026-01-03T21:11:27.279625445+01:00","closed_at":"2026-01-03T21:11:27.279625445+01:00"}
{"id":"movies-deluxe-t99i","title":"Implement add movie to collection functionality","description":"Wire up 'Add' button in search results to call existing /api/admin/collections/add-movie.post.ts endpoint. Show success/error toast notifications. Update collection movies list reactively after adding. Disable 'Add' button if movie already in collection. Handle API errors gracefully.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T20:47:18.931023539+01:00","updated_at":"2026-01-03T21:40:24.43368854+01:00","closed_at":"2026-01-03T21:40:24.43368854+01:00","dependencies":[{"issue_id":"movies-deluxe-t99i","depends_on_id":"movies-deluxe-ysej","type":"blocks","created_at":"2026-01-03T20:48:40.421119871+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-t99i","depends_on_id":"movies-deluxe-pswo","type":"blocks","created_at":"2026-01-03T20:48:40.536509304+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-ta4p","title":"Add pulsing down chevron scroll indicator to FilterPopup for genre and country lists","description":"## Problem\n\nThe FilterPopup component (used for genre and country filters) has scrollable content but no visual indicator to show users that more content is available below. This can lead to users missing filter options that require scrolling.\n\n## Current Implementation\n\n**FilterPopup.vue** (app/components/FilterPopup.vue):\n- Lines 37-39: Content area with overflow-y-auto and max-h-[60vh] md:max-h-[400px]\n- No scroll indicators currently present\n- Used for genre and country filter lists\n\n**Reference Implementation** (HomeCollectionRow.vue):\n- Lines 20-34: Pulsing chevron buttons for left/right scroll\n- Uses `group-hover/row:animate-pulse` for pulsing effect\n- Conditional rendering based on scroll state (`canScrollLeft`, `canScrollRight`)\n- Styling: `bg-theme-surface/60 border border-theme-border/20 text-theme-text/50`\n- Hover: `hover:bg-theme-accent hover:text-black hover:border-theme-accent`\n- Opacity animation: `opacity-0 group-hover/row:opacity-100`\n\n## Proposed Solution\n\nAdd a pulsing down chevron indicator at the bottom of the FilterPopup content area when there is more content to scroll:\n\n1. **Add scroll state tracking**:\n   - Detect when content is scrollable (scrollHeight \u003e clientHeight)\n   - Track scroll position to show/hide indicator\n   - Show indicator when not scrolled to bottom\n\n2. **Add down chevron button**:\n   - Position at bottom of content area\n   - Use similar styling to HomeCollectionRow chevrons\n   - Pulsing animation to draw attention\n   - Click to scroll down smoothly\n\n3. **Styling**:\n   - Icon: `i-mdi-chevron-down`\n   - Position: Absolute at bottom center of content area\n   - Background: `bg-theme-surface/60 border border-theme-border/20`\n   - Hover: `hover:bg-theme-accent hover:text-black`\n   - Animation: `animate-pulse` or `group-hover:animate-pulse`\n   - Fade in/out based on scroll position\n\n## Implementation Details\n\n**FilterPopup.vue changes:**\n\n```typescript\n// Add refs for scroll tracking\nconst contentRef = ref\u003cHTMLElement | null\u003e(null)\nconst canScrollDown = ref(false)\n\n// Track scroll state\nconst updateScrollState = () =\u003e {\n  if (!contentRef.value) return\n  const { scrollTop, scrollHeight, clientHeight } = contentRef.value\n  canScrollDown.value = scrollTop + clientHeight \u003c scrollHeight - 20\n}\n\n// Scroll down function\nconst scrollDown = () =\u003e {\n  if (!contentRef.value) return\n  contentRef.value.scrollBy({\n    top: 200,\n    behavior: 'smooth',\n  })\n}\n\n// Watch for content changes and scroll\nonMounted(() =\u003e {\n  nextTick(() =\u003e updateScrollState())\n})\n```\n\n**Template changes:**\n- Add ref to content div (line 37)\n- Add @scroll listener to content div\n- Add down chevron button positioned absolutely at bottom\n- Conditional rendering with v-if=\"canScrollDown\"\n\n## Benefits\n\n-  Improves discoverability of filter options\n-  Consistent UX with HomeCollectionRow scroll indicators\n-  Visual feedback for scrollable content\n-  Smooth scroll behavior on click\n-  Responsive to content changes\n\n## Files to Modify\n\n- app/components/FilterPopup.vue (add scroll tracking and down chevron indicator)\n\n## Design Notes\n\n- Consider showing indicator on mobile as well (FilterPopup is mobile-friendly)\n- May want to add an up chevron when scrolled down\n- Indicator should fade out when reaching bottom of content","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-12T01:01:13.213739673+01:00","updated_at":"2026-01-13T20:58:41.439394505+01:00","closed_at":"2026-01-13T20:58:41.439394505+01:00"}
{"id":"movies-deluxe-ti9s","title":"Fix MovieCard skeleton loading issue in MovieVirtualGrid","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-11T00:28:46.860335169+01:00","updated_at":"2026-01-11T00:30:37.886568694+01:00","closed_at":"2026-01-11T00:30:37.886568694+01:00"}
{"id":"movies-deluxe-tj3z","title":"Improve search component UX and visibility behavior","description":"Enhance the search component behavior for better user experience:\n\n**Search Component Visibility:**\n1. Remove close button when search text is present in the input box\n2. When search query is empty, clicking outside the search component should hide it\n3. Hide search component on non-grid pages (movie detail, collections, etc.)\n4. Show search component again when returning to movie grid if query is still set\n5. ESC key behavior:\n   - First ESC press: Clear the search query\n   - Second ESC press: Hide the search component (only if query is empty)\n\n**Implementation Notes:**\n- Update AppSearchBar.vue or AppMobileSearchBar.vue components\n- Add click-outside detection (use vOnClickOutside from @vueuse/core or custom directive)\n- Track search component visibility state in useUiStore or useMovieStore\n- Add ESC key handler with state tracking (cleared vs hidden)\n- Show/hide search based on current route (only visible on index page)\n- Persist search query when navigating between pages\n- Restore search component visibility when returning to grid with active query\n\n**Files to modify:**\n- app/components/AppSearchBar.vue\n- app/components/AppMobileSearchBar.vue\n- app/stores/useUiStore.ts (or useMovieStore.ts for visibility state)\n- app/pages/index.vue (handle search visibility on mount)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T21:09:59.691380176+01:00","updated_at":"2026-01-03T00:54:42.047296801+01:00","closed_at":"2026-01-03T00:54:42.047296801+01:00"}
{"id":"movies-deluxe-tlff","title":"Fix debouncedShowDetails.cancel error in MovieCard","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-11T01:27:46.512835597+01:00","updated_at":"2026-01-11T01:30:40.146717255+01:00","closed_at":"2026-01-11T01:30:40.146717255+01:00"}
{"id":"movies-deluxe-tnsx","title":"Fix IMDB poster scraping for tt0146629","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-24T19:28:40.176836461+01:00","updated_at":"2026-01-24T19:32:13.108577904+01:00","closed_at":"2026-01-24T19:32:13.108577904+01:00"}
{"id":"movies-deluxe-toh8","title":"Update AdminCurationPanel UI to display collection buttons","description":"Replace the dropdown select element (lines 289-297) and Add button (lines 298-305) with a button grid similar to AdminCollectionSelector. Display all available collections as buttons in a flex-wrap layout. Each button should show the collection name and visually indicate if the movie is currently in that collection (using different styling for active/inactive states).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T17:50:45.138957755+01:00","updated_at":"2026-01-24T17:57:42.98086478+01:00","closed_at":"2026-01-24T17:57:42.98086478+01:00","dependencies":[{"issue_id":"movies-deluxe-toh8","depends_on_id":"movies-deluxe-qapw","type":"blocks","created_at":"2026-01-24T17:51:05.249354185+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-tqh0","title":"Replace example data: Tom Hanks  Roy Rogers, director  Dave Fleischer","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T00:14:04.998159144+01:00","updated_at":"2026-01-19T00:15:08.911272669+01:00","closed_at":"2026-01-19T00:15:08.911272669+01:00"}
{"id":"movies-deluxe-trex","title":"Show rating and votes in collection admin movie lists","description":"In the collection admin for Collection Movies, enhance the list results and search results to display movie ratings and number of votes. This will provide administrators with quick access to movie quality metrics when managing collections.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T22:43:16.207172369+01:00","updated_at":"2026-01-08T23:02:10.509987281+01:00","closed_at":"2026-01-08T23:02:10.509987281+01:00"}
{"id":"movies-deluxe-u0z9","title":"Update SavedQueryFilterState type to include searchMode","description":"Update the SavedQueryFilterState interface to include the searchMode field so saved queries remember whether they used exact or semantic search.\n\nFile: shared/types/collections.ts\n\nChanges:\n- Add optional searchMode?: SearchMode field to SavedQueryFilterState\n- Import SearchMode type from filters.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T23:51:58.838799803+01:00","updated_at":"2026-01-18T23:57:17.305606231+01:00","closed_at":"2026-01-18T23:57:17.305606231+01:00","dependencies":[{"issue_id":"movies-deluxe-u0z9","depends_on_id":"movies-deluxe-zo3y","type":"blocks","created_at":"2026-01-18T23:52:12.766737155+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-u25c","title":"Create script to unpack posters from tar.gz archives","description":"Create a script that checks if public/posters directory is empty, and if so, extracts all poster images from data/posters-part*.tar.gz archives into public/posters/ directory. This ensures posters are available for local development without requiring manual extraction.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T02:31:18.694589732+01:00","updated_at":"2026-01-03T02:33:03.280074888+01:00","closed_at":"2026-01-03T02:33:03.280074888+01:00"}
{"id":"movies-deluxe-u9lb","title":"Add pagination support to lightweightQuery()","description":"Enhance the existing lightweightQuery() method in database worker to properly support limit/offset pagination. Ensure it only loads the requested range of movie IDs, not all IDs. Verify that includeCount option works correctly with pagination.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:03:16.876633952+01:00","updated_at":"2026-01-10T22:07:24.251603153+01:00","closed_at":"2026-01-10T22:07:24.251603153+01:00","dependencies":[{"issue_id":"movies-deluxe-u9lb","depends_on_id":"movies-deluxe-n3ae","type":"discovered-from","created_at":"2026-01-10T22:03:48.372531847+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-uats","title":"Update AdminSavedQueryManager to save and restore searchMode","description":"Update the saved query manager to:\n1. Save searchMode when saving current search (in saveCurrentQuery)\n2. Display searchMode badge in saved query display (show 'Semantic' or 'Exact' icon/label)\n3. Restore searchMode when applying a saved query (in applyQuery)\n\nFile: app/components/AdminSavedQueryManager.vue\n\nThis component currently uses useMovieStore filters. It needs to be updated to:\n- Accept the admin filter state as a prop OR use provide/inject\n- Read from and write to the local admin filter state instead of global store","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T23:52:01.705016484+01:00","updated_at":"2026-01-18T23:57:46.991103254+01:00","closed_at":"2026-01-18T23:57:46.991103254+01:00","dependencies":[{"issue_id":"movies-deluxe-uats","depends_on_id":"movies-deluxe-zo3y","type":"blocks","created_at":"2026-01-18T23:52:12.889883021+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-uats","depends_on_id":"movies-deluxe-u0z9","type":"blocks","created_at":"2026-01-18T23:52:19.777978494+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-uats","depends_on_id":"movies-deluxe-wm79","type":"blocks","created_at":"2026-01-18T23:52:19.903287471+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-ublp","title":"Fix 'verified' property error in MovieCard","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-10T23:30:43.72525695+01:00","updated_at":"2026-01-10T23:34:19.248926428+01:00","closed_at":"2026-01-10T23:34:19.248926428+01:00"}
{"id":"movies-deluxe-uefz","title":"Add quality marks for sources in admin curation section","description":"## Feature Request\n\nAllow admins to set quality marks for individual sources (not just entire movies) in the admin curation section.\n\n## Current Behavior\n- Quality labels can only be applied to entire movies via movie.qualityLabels\n- The admin curation panel (AdminCurationPanel.vue) displays sources but does not allow marking individual sources\n- Quality labels are shown as badges in the curation panel header\n\n## Desired Behavior\n\n1. Admin Curation Section: Add UI controls to set quality marks for each individual source\n   - Display quality mark badges next to each source button in the source selector\n   - Allow setting marks like: low-quality, cam-rip, hardcoded-subs, audio-issues, etc.\n\n2. Data Model: Extend the source types to support quality marks\n   - Add qualityMarks field to MovieSourceBase interface in shared/types/movie.ts\n   - Store marks per source, not per movie\n\n3. Frontend Display: Show quality marks as badges next to source buttons\n   - In movie detail page (app/pages/movie/[id].vue), display badges next to source selector buttons (lines 276-298)\n   - Use small badge components similar to existing quality labels display\n   - Make badges visible to all users (not just localhost)\n\n4. Data Generation: Update scripts/generate-movie-json.ts to include source quality marks\n   - Already includes sources in the generated JSON (lines 198-225)\n   - Ensure qualityMarks field is preserved when writing source data\n\n## Files to Modify\n- shared/types/movie.ts - Add qualityMarks field to source interfaces\n- app/components/AdminCurationPanel.vue - Add UI for setting source quality marks\n- app/pages/movie/[id].vue - Display quality mark badges next to source buttons\n- server/utils/generateMovieJSON.ts - Ensure quality marks are included in output\n\n## Technical Notes\n- Quality marks should be stored per-source, not per-movie\n- Marks should be visible to all users, not just localhost\n- Use existing quality label patterns as reference (see movie.qualityLabels usage)\n- Consider reusing QualityLabel enum or creating a new SourceQualityMark enum","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-10T19:00:12.485581444+01:00","updated_at":"2026-01-10T19:41:27.836821063+01:00","closed_at":"2026-01-10T19:41:27.836821063+01:00"}
{"id":"movies-deluxe-ufr3","title":"Move public/data files to /data directory and update all path references","description":"Move data files from public/data/ to /data directory and update all path references.\n\nFiles to move:\n- public/data/movies.json\n- public/data/collections.json\n- public/data/stats.json\n- public/data/failed-omdb.json\n- public/data/failed-posters.json\n- public/data/failed-youtube.json\n- public/data/movies.db\n\nTasks:\n1. Check if UI directly accesses these files (unlikely - should use API)\n2. Update all server/API paths that reference public/data/*\n3. Update all scripts that read/write to public/data/*\n4. Move files to /data directory\n5. Test that all functionality still works (API endpoints, scripts)\n6. Update any documentation referencing old paths\n\nNote: Check both direct file access and path construction logic.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T22:27:26.970325365+01:00","updated_at":"2026-01-03T00:47:00.899957557+01:00","closed_at":"2026-01-03T00:47:00.899957557+01:00"}
{"id":"movies-deluxe-ugep","title":"Update movie store to support progressive loading","description":"Modify app/stores/useMovieStore.ts to:\n- Load movies.db first (fast, 10MB)\n- Add embeddingsLoaded reactive state\n- Add loadEmbeddings(modelId: string) method\n- Update loadFromFile() to only load main DB\n- Allow browsing movies before embeddings load\n- Show UI indicator when embeddings are loading","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:26:21.375000681+01:00","updated_at":"2026-01-25T18:36:28.474035375+01:00","closed_at":"2026-01-25T18:36:28.474035375+01:00","dependencies":[{"issue_id":"movies-deluxe-ugep","depends_on_id":"movies-deluxe-fa7j","type":"blocks","created_at":"2026-01-25T18:26:33.274297419+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-ujwn","title":"Remove queryParams prop from MovieVirtualGrid","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:00:58.163685+01:00","updated_at":"2026-01-13T00:04:14.690887061+01:00","closed_at":"2026-01-13T00:04:14.690887061+01:00"}
{"id":"movies-deluxe-upt3","title":"Add tags to public collections display","description":"Update app/pages/collections/index.vue and app/components/CollectionCard.vue to:\n- Display tags on collection cards\n- Add tag filtering in collections page search\n- Show tag badges with consistent styling\n- Make tags clickable to filter by tag (optional enhancement)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T22:53:15.439901793+01:00","updated_at":"2026-01-05T23:17:35.355442105+01:00","closed_at":"2026-01-05T23:17:35.355442105+01:00","dependencies":[{"issue_id":"movies-deluxe-upt3","depends_on_id":"movies-deluxe-sw18","type":"blocks","created_at":"2026-01-05T22:53:33.784981883+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-us9m","title":"Hide collection tags from UI and add tag-based search","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T00:57:24.669330629+01:00","updated_at":"2026-01-06T00:59:37.542810054+01:00","closed_at":"2026-01-06T00:59:37.542810054+01:00"}
{"id":"movies-deluxe-uu2b","title":"Add immediate loading feedback for SQLite generation","description":"When clicking 'Generate SQLite Database', there's a delay before the progress bar appears due to:\n- SSE connection establishment latency\n- Time for first progress update to be emitted\n- Vue reactivity update delay\n\nThis makes the UI feel unresponsive. Add immediate loading state when the button is clicked.\n\nImplementation:\nIn app/components/AdminDatabaseGenerator.vue (line 110-114), update handleGenerate() to:\n1. Immediately set progress status to 'starting' via adminStore.updateProgress()\n2. Show initial message: 'Starting SQLite generation...'\n3. Then call adminStore.generateSqlite()\n\nThis provides instant visual feedback before the first SSE update arrives.\n\nFiles to modify:\n- app/components/AdminDatabaseGenerator.vue\n\nImpact: Low - nice-to-have UX improvement","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-21T00:56:40.065092823+01:00","updated_at":"2026-01-21T00:57:35.446548932+01:00","closed_at":"2026-01-21T00:57:35.446548932+01:00","dependencies":[{"issue_id":"movies-deluxe-uu2b","depends_on_id":"movies-deluxe-p382","type":"blocks","created_at":"2026-01-21T00:56:59.385555138+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-uwsi","title":"rename buttons to App...Button.vue","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:24:31.688510309+01:00","updated_at":"2026-01-05T22:06:45.110185355+01:00","closed_at":"2026-01-05T22:06:45.110185355+01:00"}
{"id":"movies-deluxe-v56x","title":"Create decade-based collections (1920s-2020s)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T02:12:26.123068847+01:00","updated_at":"2026-01-07T12:18:40.613983763+01:00","closed_at":"2026-01-07T12:18:40.614010609+01:00"}
{"id":"movies-deluxe-v6cw","title":"Create scraper script for Criterion Collection IMDB IDs from Letterboxd","description":"Create a web scraping script that extracts IMDB IDs for all movies in the Criterion Collection from a Letterboxd list.\n\n**Source:**\n- List URL: https://letterboxd.com/jbutts15/list/the-complete-criterion-collection/\n- Paginated format: https://letterboxd.com/jbutts15/list/the-complete-criterion-collection/page/N/\n\n**Scraping workflow:**\n1. Visit the main list page to determine total number of pages\n2. Iterate through all pages (page/1/, page/2/, page/3/, etc.)\n3. Extract all movie links from each page (format: https://letterboxd.com/film/take-out-2004/)\n4. Visit each individual movie page\n5. Extract IMDB ID from the IMDB link:\n   ```html\n   \u003ca href=\"http://www.imdb.com/title/tt0391483/maindetails\" \n      class=\"micro-button track-event\" \n      data-track-action=\"IMDb\" \n      target=\"_blank\"\u003eIMDb\u003c/a\u003e\n   ```\n6. Parse IMDB ID from URL (e.g., tt0391483)\n\n**Output:**\n- File: `data/criterion-collection.json`\n- Format: Array of IMDB IDs\n  ```json\n  [\n    \"tt0391483\",\n    \"tt0123456\",\n    ...\n  ]\n  ```\n\n**Implementation details:**\n- Create script in `scripts/scrape-criterion.ts`\n- Use a proper HTTP client (fetch or axios)\n- Add rate limiting/delays between requests to be respectful to Letterboxd servers\n- Handle errors gracefully (missing IMDB links, network errors, etc.)\n- Log progress (e.g., \"Processing page 3/15...\", \"Found 50 movies so far...\")\n- Consider using a headless browser (Puppeteer/Playwright) if needed for JavaScript-rendered content\n\n**Considerations:**\n- Letterboxd may have rate limiting - add delays between requests (e.g., 1-2 seconds)\n- Some movies might not have IMDB links - handle gracefully\n- The list might be updated over time - script should be re-runnable\n- Consider caching movie pages to avoid re-scraping if script fails partway through\n\n**Files to create:**\n- `scripts/scrape-criterion.ts` - Main scraping script\n- `data/criterion-collection.json` - Output file with IMDB IDs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T17:09:31.344986065+01:00","updated_at":"2026-01-10T17:18:21.510728841+01:00","closed_at":"2026-01-10T17:18:21.510728841+01:00"}
{"id":"movies-deluxe-vbro","title":"Add HTTP cache headers for model files in nuxt.config.ts","description":"Add route rules to nuxt.config.ts to set proper HTTP cache headers for model files. Set Cache-Control: public, max-age=31536000, immutable for /models/**/*.onnx and /models/**/*.json files. This ensures browser caches models permanently after first load.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T00:34:36.266910144+01:00","updated_at":"2026-01-21T00:36:38.272394948+01:00","closed_at":"2026-01-21T00:36:38.272394948+01:00"}
{"id":"movies-deluxe-vg8a","title":"Fix admin dashboard left spacing to match movie/liked pages","description":"Add consistent left spacing/padding to the admin dashboard page to match the layout used on single movie view and liked page for visual consistency","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T02:29:06.463246964+01:00","updated_at":"2026-01-03T02:36:06.115709514+01:00","closed_at":"2026-01-03T02:36:06.115709514+01:00"}
{"id":"movies-deluxe-vi5p","title":"Update search.vue page for new SearchHeader","description":"Update search.vue page to work with refactored SearchHeader.\n\nRequirements:\n- Ensure SearchHeader is sticky at top\n- Test scroll behavior with new header height\n- Verify search input focus behavior\n- Test responsive layout on all screen sizes\n- Ensure filter state persists on navigation\n- Test keyboard shortcuts still work\n\nLocation: app/pages/search.vue\n\nDependencies: SearchHeader refactor must be complete","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T04:22:39.505615287+01:00","updated_at":"2026-01-11T04:37:27.250796471+01:00","closed_at":"2026-01-11T04:37:27.250796471+01:00","dependencies":[{"issue_id":"movies-deluxe-vi5p","depends_on_id":"movies-deluxe-ioaw","type":"blocks","created_at":"2026-01-11T04:25:29.74681866+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-vnij","title":"Optimize getFilterOptions with caching to reduce DB queries","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T04:14:26.074515843+01:00","updated_at":"2026-01-13T04:23:21.751528661+01:00","closed_at":"2026-01-13T04:23:21.751528661+01:00"}
{"id":"movies-deluxe-w13v","title":"Refactor /search mode selector to inline icons with hover effects","description":"**Goal:**\nTransform the search mode selector from separate buttons to inline icons within the search input, with smooth hover effects and clear active state indication.\n\n**Current Behavior:**\n- Search modes are likely separate buttons outside the search input\n- Mode switching requires clicking external controls\n- Active mode indication may not be immediately clear\n\n**Desired Behavior:**\n1. **Icon placement:**\n   - Mode icons embedded inside the search input (likely left side)\n   - Icons switch between search modes (e.g., text search, vector search, filter search)\n   - Must not interfere with the clear button (typically on right side)\n\n2. **Visual design:**\n   - **Active state**: Subtle indication (e.g., slightly bolder, different opacity, or accent color)\n   - **Hover effect**: Shape/background follows mouse cursor on hover\n     - Could be a rounded rectangle, circle, or pill shape\n     - Smooth animation following cursor position\n     - Should feel fluid and responsive\n   - **Inactive state**: Muted/subtle appearance\n\n3. **Explanation tooltips:**\n   - Show existing mode explanations in a smart way\n   - Options to consider:\n     - Tooltip on hover (with delay to avoid interference)\n     - Expandable info icon next to mode icons\n     - Brief inline text that appears on mode switch\n     - Popover/dropdown with mode descriptions\n     - First-time user onboarding overlay\n\n**Technical Considerations:**\n- Icon positioning: Use absolute positioning or flexbox within input wrapper\n- Hover tracking: Mouse position relative to icon bounds\n- Animation: CSS transforms or framer-motion for smooth following effect\n- Clear button: Ensure proper spacing and z-index management\n- Accessibility: Keyboard navigation, ARIA labels, focus states\n- Mobile: Touch-friendly hit areas, no hover effects on touch devices\n\n**Implementation Steps:**\n1. Identify current search mode implementation\n2. Design icon layout within search input\n3. Implement mode icons with click handlers\n4. Add active state styling (subtle)\n5. Create hover effect with shape following mouse\n6. Integrate explanation system (tooltips/popovers)\n7. Ensure clear button positioning works\n8. Add keyboard navigation and accessibility\n9. Test on mobile (touch interactions)\n\n**Files to investigate:**\n- `app/pages/search.vue` or search page component\n- Search input component\n- Mode selector/switcher components\n- Search-related composables\n\n**Design inspiration:**\n- macOS Spotlight search mode icons\n- Linear's command palette mode switchers\n- Notion's block type selectors\n\n**Acceptance Criteria:**\n- Mode icons are embedded in search input\n- Active mode has subtle visual indication\n- Hover effect smoothly follows mouse with shape/background\n- Clear button remains functional and unobstructed\n- Explanations are accessible and non-intrusive\n- Works on both desktop (hover) and mobile (touch)\n- Keyboard accessible with proper focus states\n- Smooth animations and transitions","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-18T20:34:54.611648692+01:00","updated_at":"2026-01-18T20:43:57.144298701+01:00","closed_at":"2026-01-18T20:43:57.144298701+01:00"}
{"id":"movies-deluxe-w2s3","title":"Fix data validation endpoint to update collections.json","description":"Update server/api/admin/data/validate.post.ts to call updateMovieIdInCollections() when fixing ID mismatches.\n\nLocation to fix:\n- Line 425: When migrateMovieId is called to fix mismatches\n\nAdd call to updateMovieIdInCollections() if ID changes occur during validation.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-19T00:46:32.826682374+01:00","updated_at":"2026-01-20T01:07:24.218766698+01:00","closed_at":"2026-01-20T01:07:24.218766698+01:00"}
{"id":"movies-deluxe-wafd","title":"Find YouTube videos with unavailable/blocked warnings and create QualityLabel blocked","description":"Implement a way to detect YouTube videos that show 'Video unavailable', 'The uploader has not made this video available in your country', or 'private video' warnings. Create a QualityLabel 'blocked' for these videos to mark them as inaccessible. This will help filter out videos that users cannot watch due to geographic restrictions or privacy settings.","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-02T11:25:06.693331415+01:00","updated_at":"2026-01-02T19:09:22.683588257+01:00","closed_at":"2026-01-02T19:09:22.683588257+01:00"}
{"id":"movies-deluxe-wave","title":"Implement Potion-base-2M browser embedding module","description":"Port the existing scripts/utils/potionEmbeddings.ts to work in browser using onnxruntime-web.\n\n## Implementation Details\n- Install onnxruntime-web as dependency\n- Model: minishlab/potion-base-2M (EmbeddingBag architecture)\n- Dimensions: 64\n- Max tokens: 512\n\n## Key Challenges\n- Potion uses EmbeddingBag (not standard transformer) - cannot use transformers.js\n- Requires custom WordPiece tokenizer (port from Node version)\n- Input format: input_ids (flattened) + offsets tensors\n\n## Location\n- `app/utils/embedding/potionEmbedding.ts`\n\n## Dependencies\n- Need to add onnxruntime-web to package.json\n- Model files need to be accessible (public/ or CDN)\n\n## Reference\n- Existing implementation: scripts/utils/potionEmbeddings.ts\n- Model size: ~8MB (very browser-friendly)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T00:55:15.442273953+01:00","updated_at":"2026-01-20T00:59:19.473258954+01:00","closed_at":"2026-01-20T00:59:19.473258954+01:00","dependencies":[{"issue_id":"movies-deluxe-wave","depends_on_id":"movies-deluxe-7znm","type":"discovered-from","created_at":"2026-01-20T00:55:29.579329966+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-wave","depends_on_id":"movies-deluxe-ht9m","type":"blocks","created_at":"2026-01-20T00:55:35.294797636+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-wave","depends_on_id":"movies-deluxe-fs50","type":"blocks","created_at":"2026-01-20T00:55:35.360113572+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-wfoi","title":"Improve SQLite generation progress bar visibility and UX","description":"The SQLite generation progress bar is fully implemented but has visibility and UX issues that make it appear to be missing.\n\n## Problem\nProgress bar is hidden inside AdminDatabaseGenerator component card at bottom of page (app/components/AdminDatabaseGenerator.vue:62-78). Users must scroll to see it, unlike Home Pages and Stats operations which show progress prominently in the header.\n\n## Root Causes\n1. Hidden location - buried in component card instead of header\n2. Infrequent updates - only every 1000 movies (server/utils/generateSQLite.ts:471)\n3. No immediate feedback - delay before first progress appears\n4. Missing phase indicators - long operations show no progress\n\n## Implementation Tasks\n\n### 1. Move progress to header (Priority: High)\n- app/pages/admin/index.vue: Add SQLite progress display in header (after line 121)\n- app/components/AdminDatabaseGenerator.vue: Remove progress bar from component (keep success/error messages)\n- Follow same pattern as Home Pages/Stats operations\n\n### 2. Increase update frequency (Priority: Medium)\n- server/utils/generateSQLite.ts:471: Update every 100 movies instead of 1000\n- Line 126: Add progress for schema creation steps\n- Line 601: Add granular progress for optimization (FTS, VACUUM, ANALYZE)\n- Add phase indicators: 'Loading data', 'Creating schema', 'Inserting movies', 'Optimizing'\n\n### 3. Add immediate feedback (Priority: Low)\n- app/components/AdminDatabaseGenerator.vue:110-114: Set progress to 'starting' immediately on button click\n- Show 'Starting SQLite generation...' before first SSE update\n\n### 4. Add debug logging (Priority: Low)\n- app/composables/useProgress.ts:18-26: Log SSE updates in dev mode\n- app/stores/useAdminStore.ts:69-71: Log progress state updates\n- Use import.meta.dev check\n\n## Files to Modify\n- app/pages/admin/index.vue\n- app/components/AdminDatabaseGenerator.vue\n- server/utils/generateSQLite.ts\n- app/composables/useProgress.ts\n- app/stores/useAdminStore.ts\n\n## Technical Context\nSSE infrastructure is fully functional (EventSource, auto-reconnect, keep-alive). Only needs UX improvements.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-21T00:57:43.560669302+01:00","updated_at":"2026-01-25T18:32:34.997799988+01:00","closed_at":"2026-01-25T18:32:34.997799988+01:00"}
{"id":"movies-deluxe-wgrj","title":"Make vertical sidebar on mobile fit any screen width without overlap","description":"Fix the vertical sidebar on mobile to properly fit any screen width, ensuring it never overflows the screen. Test with smallest common mobile width (320px) to ensure proper responsive behavior. The sidebar should either resize, scroll, or adjust layout to accommodate narrow screens.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-02T11:17:59.312236617+01:00","updated_at":"2026-01-02T12:22:53.616134588+01:00","closed_at":"2026-01-02T12:22:53.616134588+01:00"}
{"id":"movies-deluxe-wj2s","title":"Move client-side filters to SQL for better performance","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T02:49:32.485087328+01:00","updated_at":"2026-01-13T05:44:21.557314113+01:00","closed_at":"2026-01-13T05:44:21.557320751+01:00"}
{"id":"movies-deluxe-wkic","title":"Filter out low-quality sources and movies from public data","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T22:27:45.023781546+01:00","updated_at":"2026-01-11T22:27:47.052602178+01:00","closed_at":"2026-01-11T22:27:47.052602178+01:00"}
{"id":"movies-deluxe-wkjz","title":"Fix missing information in Related Movies section on single movie view","description":"**Problem:**\nIn the single movie view page (app/pages/movie/[id].vue:452-473), the Related Movies section displays movie cards but is missing key information like ratings, channel names, and source badges.\n\n**Root Cause:**\nThe `relatedMovies` array in the MovieEntry type (shared/types/movie.ts:147-151) only stores minimal data:\n```typescript\nrelatedMovies?: Array\u003c{\n  imdbId: string\n  title: string\n  year?: number\n}\u003e\n```\n\nThis is missing:\n- `imdbRating` and `imdbVotes` (for star rating display)\n- `sourceType` and `channelName` (for source badges)\n- `language` (for language badge)\n- `metadata` (for full OMDB data)\n\n**Current Behavior:**\nMovieCard component receives incomplete data, so it cannot display:\n- Star ratings (MovieCard.vue:100-112)\n- Source badges (MovieCard.vue:41-52)\n- Language badges (MovieCard.vue:55-60)\n\n**Expected Behavior:**\nRelated movies should show the same information as movies in the main grid, including ratings, channel names, and badges.\n\n**Solution Options:**\n1. Expand the `relatedMovies` type to include `LightweightMovieEntry` fields\n2. Update the related movies generation logic to include this data\n3. Modify `getRelatedMovies` in useMovieStore.ts:473 to fetch full lightweight data","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-03T20:02:05.054732594+01:00","updated_at":"2026-01-03T20:19:26.281867434+01:00","closed_at":"2026-01-03T20:19:26.281867434+01:00"}
{"id":"movies-deluxe-wku0","title":"Add vector table schema to SQLite generation","description":"Modify server/utils/generateSQLite.ts to:\n- Create vec0 virtual table for movie embeddings\n- Schema: CREATE VIRTUAL TABLE vec_movies USING vec0(movie_id TEXT PRIMARY KEY, embedding FLOAT[384])\n- Insert embeddings from data/embeddings.json during build\n- Add index for efficient similarity search\n- Update database size estimates in docs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T01:47:56.061571691+01:00","updated_at":"2026-01-13T21:19:56.052865072+01:00","closed_at":"2026-01-13T21:19:56.052865072+01:00","dependencies":[{"issue_id":"movies-deluxe-wku0","depends_on_id":"movies-deluxe-7jlw","type":"blocks","created_at":"2026-01-12T01:48:09.596082825+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-wlsk","title":"Implement debounced rendering for MovieCard details in virtual grid","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T01:13:03.06412963+01:00","updated_at":"2026-01-11T01:17:22.494384882+01:00","closed_at":"2026-01-11T01:17:22.494384882+01:00"}
{"id":"movies-deluxe-wm79","title":"Create useAdminSearchFilters composable for local filter state","description":"Create a new composable that provides local filter state for admin collection search. This should:\n- Mirror the FilterState interface from shared/types/filters.ts\n- Include searchMode field for exact/semantic search\n- NOT use localStorage persistence (unlike useMovieStore)\n- NOT sync with URL query params\n- Provide reactive filter state and helper computed properties (activeFiltersCount, hasActiveFilters)\n- Provide reset function to clear all filters to defaults\n\nFile: app/composables/useAdminSearchFilters.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T23:51:46.13583667+01:00","updated_at":"2026-01-18T23:54:15.064311316+01:00","closed_at":"2026-01-18T23:54:15.064311316+01:00","dependencies":[{"issue_id":"movies-deluxe-wm79","depends_on_id":"movies-deluxe-zo3y","type":"blocks","created_at":"2026-01-18T23:52:12.128698573+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-wqxr","title":"Remove fetchMovies from useMovieStore and replace with fetchMoviesByIds in collections page","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T01:25:13.086529001+01:00","updated_at":"2026-01-13T01:28:22.203618154+01:00","closed_at":"2026-01-13T01:28:22.203618154+01:00"}
{"id":"movies-deluxe-ww67","title":"Create embedding utility module for bge-micro-v2","description":"Create a new utility module (e.g., server/utils/bgeMicroEmbeddings.ts) that:\n\n1. Initializes the transformers.js pipeline with bge-micro-v2 model\n2. Provides generateEmbedding(text: string) function\n3. Handles mean pooling and normalization\n4. Returns Float32Array (384 dimensions) for SQLite storage\n5. Uses quantized model for better performance\n6. Implements proper error handling\n\nReference: Current movieEmbeddings.ts for movieToMarkdown() function pattern","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T23:59:30.803829884+01:00","updated_at":"2026-01-20T00:02:03.552125789+01:00","closed_at":"2026-01-20T00:02:03.552125789+01:00","dependencies":[{"issue_id":"movies-deluxe-ww67","depends_on_id":"movies-deluxe-7wyt","type":"blocks","created_at":"2026-01-19T23:59:40.931359377+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-ww67","depends_on_id":"movies-deluxe-8b5d","type":"blocks","created_at":"2026-01-19T23:59:41.55241604+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-wwl0","title":"Database Optimization: Split Movie Data for Efficient Loading","description":"Optimize data loading performance by splitting movie data into two tiers: lightweight database for grid/search/filtering (essential fields only) and individual JSON files for detailed movie pages. This reduces initial database size from 70MB to ~20MB while maintaining full functionality. Individual movie JSON files will be loaded on-demand when navigating to movie detail pages.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T13:06:30.081530351+01:00","updated_at":"2026-01-02T15:44:05.980232275+01:00","closed_at":"2026-01-02T15:44:05.980232275+01:00"}
{"id":"movies-deluxe-wxzz","title":"Epic: Embedding Model Selection \u0026 Database Generation","description":"Allow users to select which embedding model to use (nomic, bge-micro, potion) and generate SQLite database with embeddings from the selected model. Also enable control over whether to generate only SQL database or SQL + individual movie JSON files. Provide both CLI flags and Admin UI controls.\n\nSee history/PLAN-embedding-model-selection.md for detailed implementation plan.\n\nGoals:\n- Flexibility: Support multiple embedding models without hardcoding\n- Efficiency: Allow skipping JSON generation when not needed\n- User Experience: Provide clear UI controls in admin panel\n- Maintainability: Clean architecture for adding new models in the future","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-20T23:18:43.690337963+01:00","updated_at":"2026-01-20T23:42:20.479076565+01:00","closed_at":"2026-01-20T23:42:20.479076565+01:00"}
{"id":"movies-deluxe-x52j","title":"Fix duplicate 'votes' text on single movie page","description":"On the single movie page, the vote count displays with duplicate 'votes' text (e.g., '4.2K votes votes').\n\n**Current behavior:**\nLine 152 in app/pages/movie/[id].vue:\n```vue\n({{ formatVotes(movie.metadata.imdbVotes) }} votes)\n```\n\nThe `formatVotes` utility function (app/utils/formatVotes.ts) already appends ' votes' to the formatted number:\n- Returns: '4.2K votes', '1.2M votes', '995 votes'\n\nBut the template adds another ' votes)' after it, resulting in:\n- Display: '(4.2K votes votes)'\n\n**Expected behavior:**\nShould display: '(4.2K votes)'\n\n**Fix:**\nRemove the duplicate ' votes' from the template in app/pages/movie/[id].vue:152\n\nChange from:\n```vue\n({{ formatVotes(movie.metadata.imdbVotes) }} votes)\n```\n\nTo:\n```vue\n({{ formatVotes(movie.metadata.imdbVotes) }})\n```\n\n**File to modify:**\n- app/pages/movie/[id].vue (line 152)","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-10T17:03:35.944588285+01:00","updated_at":"2026-01-10T17:18:21.518045582+01:00","closed_at":"2026-01-10T17:18:21.518045582+01:00"}
{"id":"movies-deluxe-x7y0","title":"Test embedding model selection across CLI and Admin UI","description":"Comprehensive testing of embedding model selection feature in both CLI and Admin UI. Verify correct behavior with different models and options.\n\nTest cases:\n- CLI: pnpm db:generate (default nomic model)\n- CLI: pnpm db:generate -m bge-micro\n- CLI: pnpm db:generate -m potion\n- CLI: pnpm db:generate --skip-json\n- CLI: pnpm db:generate -m bge-micro --skip-json\n- CLI: pnpm db:generate -m invalid-model (should error)\n- CLI: pnpm db:generate --help (should show help)\n- Admin UI: Select different models and generate\n- Admin UI: Toggle skip JSON option\n- Admin UI: Progress monitoring works correctly\n- Verify generated databases have correct dimensions\n- Verify error handling for missing embedding DB\n- Verify backward compatibility (existing workflows still work)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T23:19:18.817564741+01:00","updated_at":"2026-01-20T23:42:20.441660004+01:00","closed_at":"2026-01-20T23:42:20.441660004+01:00","dependencies":[{"issue_id":"movies-deluxe-x7y0","depends_on_id":"movies-deluxe-wxzz","type":"discovered-from","created_at":"2026-01-20T23:19:46.565091773+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-x7y0","depends_on_id":"movies-deluxe-4uhu","type":"blocks","created_at":"2026-01-20T23:20:02.840263522+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-x7y0","depends_on_id":"movies-deluxe-7g49","type":"blocks","created_at":"2026-01-20T23:20:03.460898106+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-x7z8","title":"Fix AppInputCheckbox component prop mismatch","description":"AdminEmbeddingsGenerator.vue:55 - Component expects 'checked' prop but receives 'modelValue'. Need to align prop names.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-25T21:49:28.320900034+01:00","updated_at":"2026-01-25T21:55:37.151982787+01:00","closed_at":"2026-01-25T21:55:37.151982787+01:00"}
{"id":"movies-deluxe-xacq","title":"Add fetchMovieCount() action to movie store","description":"Add a new action to useMovieStore that calls the database getMovieCount() method and updates the totalFiltered state. This should be called first on search page to display count immediately. Signature: fetchMovieCount(filters) -\u003e Promise\u0026lt;number\u0026gt;.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:03:19.681938989+01:00","updated_at":"2026-01-10T22:08:12.718817619+01:00","closed_at":"2026-01-10T22:08:12.718817619+01:00","dependencies":[{"issue_id":"movies-deluxe-xacq","depends_on_id":"movies-deluxe-mhnh","type":"blocks","created_at":"2026-01-10T22:03:48.913868669+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-xmh9","title":"Add dimension validation to database worker","description":"Update app/workers/database.worker.ts to validate embedding dimensions match database schema before performing vector search. Return clear error messages for dimension mismatches. This is a safety check - dimensions should always match if DB was created correctly, but validation prevents runtime errors.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-20T23:43:57.753775305+01:00","updated_at":"2026-01-21T00:17:46.447822093+01:00","closed_at":"2026-01-21T00:17:46.447822093+01:00","dependencies":[{"issue_id":"movies-deluxe-xmh9","depends_on_id":"movies-deluxe-rg04","type":"blocks","created_at":"2026-01-20T23:44:18.597061407+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-xpcb","title":"Remove fetchMovieCount and use totalMovies directly","description":"Remove fetchMovieCount, fetchLightweightMovies, and fetchFilteredMovies functions. Update fetchMovies to return only IDs. Let MovieVirtualGrid handle all movie loading and filtering.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:35:50.534443376+01:00","updated_at":"2026-01-13T01:06:15.512260488+01:00","closed_at":"2026-01-13T01:06:15.512260488+01:00"}
{"id":"movies-deluxe-xqkp","title":"Wire up admin collection page to use new filter system","description":"Update the admin collections page to properly wire up all the new components.\n\nFile: app/pages/admin/collections/index.vue\n\nChanges:\n1. Ensure AdminMovieSearch uses local filter state\n2. Pass filter state to AdminSavedQueryManager (or use provide/inject)\n3. Handle filtersApplied event from AdminSavedQueryManager to trigger search\n4. Test full flow: search with filters -\u003e save query -\u003e apply saved query","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T23:52:07.247798715+01:00","updated_at":"2026-01-19T00:03:43.9219549+01:00","closed_at":"2026-01-19T00:03:43.9219549+01:00","dependencies":[{"issue_id":"movies-deluxe-xqkp","depends_on_id":"movies-deluxe-zo3y","type":"blocks","created_at":"2026-01-18T23:52:13.175508488+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-xqkp","depends_on_id":"movies-deluxe-6sau","type":"blocks","created_at":"2026-01-18T23:52:20.034125895+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-xqkp","depends_on_id":"movies-deluxe-uats","type":"blocks","created_at":"2026-01-18T23:52:20.176216329+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-xu8j","title":"Combine ArchiveOrgSource and YouTubeSource into unified MovieSource interface","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T20:25:58.730701845+01:00","updated_at":"2026-01-11T20:34:06.406550074+01:00","closed_at":"2026-01-11T20:34:06.406550074+01:00"}
{"id":"movies-deluxe-xucc","title":"Add admin tool to clean collections from removed movies and update IDs","description":"Create an admin dashboard button and API endpoint to maintain collection data integrity:\n\n**Features:**\n1. Remove movies from collections if they no longer exist in the movies database\n2. Update movie IDs in collections if the source ID changed to a proper IMDB tt ID\n   - Search for the movie by old ID in the movies database\n   - If found with a different IMDB ID, update the collection reference\n\n**Implementation:**\n- Add button to admin dashboard (app/pages/admin/index.vue)\n- Create API endpoint: server/api/admin/collections/cleanup.post.ts\n- API should:\n  - Load all collections from public/data/collections.json\n  - Load all movies from public/data/movies.json\n  - For each collection, check each movieId:\n    - If movie doesn't exist, remove from collection\n    - If movie has a different source ID that matches, update to proper tt ID\n  - Save cleaned collections back to collections.json\n  - Return statistics (removed count, updated count)\n- Add progress tracking for large collections\n- Show results in admin UI (toast or results log)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T20:33:52.857635584+01:00","updated_at":"2026-01-02T21:54:27.296144292+01:00","closed_at":"2026-01-02T21:54:27.296144292+01:00"}
{"id":"movies-deluxe-xuls","title":"Optimize movie store to return only IDs from executeFilterQuery","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T03:06:18.641013392+01:00","updated_at":"2026-01-13T03:20:44.685660057+01:00","closed_at":"2026-01-13T03:20:44.685660057+01:00"}
{"id":"movies-deluxe-xye3","title":"Create source code statistics script","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T06:03:12.894756243+01:00","updated_at":"2026-01-11T06:04:21.672775533+01:00","closed_at":"2026-01-11T06:04:21.672775533+01:00"}
{"id":"movies-deluxe-y5p3","title":"Update buildFilterQuery to support keyword search","description":"Enhance buildFilterQuery() in useMovieStore to use parsed keywords and build appropriate SQL queries.\n\n## Implementation\n1. Use query parser to extract keywords from searchQuery\n2. Build SQL JOINs based on parsed keywords:\n   - actor: keyword  JOIN movie_actors + fts_actors\n   - director: keyword  JOIN movie_directors + fts_directors\n   - writer: keyword  JOIN movie_writers + fts_writers\n   - title: keyword  Use existing fts_movies\n   - No keyword  Search all fields (LEFT JOINs)\n3. Combine multiple keyword searches with AND logic\n4. Maintain existing filter logic (rating, year, genre, etc.)\n\n## SQL Query Patterns\n- Single field: Simple JOIN with FTS5 MATCH\n- Multiple fields: Multiple JOINs with AND conditions\n- General search: LEFT JOINs with OR conditions across all FTS5 tables\n\n## File to Modify\n- app/stores/useMovieStore.ts (buildFilterQuery function)\n\n## Dependencies\n- Requires query parser utility\n- Requires database schema changes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T21:10:05.510906681+01:00","updated_at":"2026-01-18T21:13:50.493361551+01:00","closed_at":"2026-01-18T21:13:50.493361551+01:00","dependencies":[{"issue_id":"movies-deluxe-y5p3","depends_on_id":"movies-deluxe-7l8m","type":"discovered-from","created_at":"2026-01-18T21:10:25.968473492+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-y5p3","depends_on_id":"movies-deluxe-ysti","type":"blocks","created_at":"2026-01-18T21:10:31.622775046+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-y5p3","depends_on_id":"movies-deluxe-brbh","type":"blocks","created_at":"2026-01-18T21:10:31.658820644+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-y944","title":"Make director, writer, and actors clickable links to search page on single movie page","description":"## Summary\nOn the single movie page (`app/pages/movie/[id].vue`), the Director, Writer, and Actors are currently displayed as plain text. They should be converted to clickable links that navigate to the search page with the appropriate search query.\n\n## Current Implementation\n- Location: `app/pages/movie/[id].vue` (lines 215-228)\n- Director, Writer, Actors displayed as plain `\u003cspan\u003e` elements\n- Data comes from `movie.metadata.Director`, `movie.metadata.Writer`, `movie.metadata.Actors`\n- Actors are stored as comma-separated string\n\n## Required Changes\n1. Convert Director to a link: `/search?q=director:\"Name\"`\n2. Convert Writer to a link: `/search?q=writer:\"Name\"`  \n3. Convert Actors to individual links: `/search?q=actor:\"Name\"`\n   - Split actors by comma and render each as a separate link\n   - Handle names with spaces using quoted format\n\n## URL Format (from searchQueryParser.ts)\n- Single word names: `/search?q=actor:Keanu`\n- Multi-word names: `/search?q=actor:\"Keanu Reeves\"`\n- Use `encodeURIComponent()` for URL safety\n\n## Styling Reference\n- Use existing link patterns from collection links (lines 179-188)\n- Consider hover states and consistent styling with `text-theme-primary hover:underline`\n\n## Files to Modify\n- `app/pages/movie/[id].vue`\n\n## Related Files (for reference)\n- `app/pages/search.vue` - Search page\n- `app/utils/searchQueryParser.ts` - Query parser supporting actor:, director:, writer: keywords\n- `app/components/SearchHeader.vue` - Search header with URL query handling","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-24T18:24:50.465624171+01:00","updated_at":"2026-01-24T18:37:16.386123766+01:00","closed_at":"2026-01-24T18:37:16.386123766+01:00"}
{"id":"movies-deluxe-yain","title":"Add min/max range filters for year and votes","description":"Extend filter capabilities to support range queries for year and votes:\n- Update FilterState interface to include maxYear and maxVotes fields\n- Modify filter UI components to show range inputs (min-max) instead of just minimum\n- Update query refresh logic to handle range filters\n- Update AdminMovieSearch to capture and display range filters\n- Ensure backward compatibility with existing min-only filters\n- Update SavedQueryManager to display range information\n\nThis allows more precise collection queries like 'movies from 1940-1960' or 'movies with 1000-5000 votes'.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T22:57:42.986196635+01:00","updated_at":"2026-01-05T23:08:31.367119224+01:00","closed_at":"2026-01-05T23:08:31.367119224+01:00","dependencies":[{"issue_id":"movies-deluxe-yain","depends_on_id":"movies-deluxe-6k5e","type":"blocks","created_at":"2026-01-05T22:57:47.059237394+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-ydr0","title":"Clean up unused types in database layer","description":"Several unused or redundant types should be removed:\n\n1. WorkerMessage interface in app/types/database.ts - defined but never used (worker uses its own QueuedMessage)\n2. _SqlValue type in app/workers/database.worker.ts - prefixed with underscore, unused\n3. LightweightMovieEntry in shared types - deprecated alias for LightweightMovie\n\nRemoving these reduces TypeScript evaluation overhead.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-18T21:50:17.926556439+01:00","updated_at":"2026-01-18T21:52:31.548414813+01:00","closed_at":"2026-01-18T21:52:31.548414813+01:00"}
{"id":"movies-deluxe-ye6e","title":"Replace Record\u003cstring, unknown\u003e and other unknown types with proper TypeScript interfaces","description":"Search the codebase for instances of Record\u003cstring, unknown\u003e and other uses of the 'unknown' type that should be replaced with proper TypeScript interfaces. This includes database query results, API responses, and other data structures that currently use unknown but should have specific type definitions. Replace these with appropriate Movie, Collection, Stats, or other domain-specific interfaces to improve type safety, IDE support, and code maintainability.","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-08T19:23:52.598516718+01:00","updated_at":"2026-01-08T20:30:56.060630819+01:00","closed_at":"2026-01-08T20:30:56.060630819+01:00"}
{"id":"movies-deluxe-ylvd","title":"enhance poster downloader to scrape imdb for entries without poster urls","description":"Currently, the poster download endpoint (server/api/admin/posters/download.post.ts) only processes movies that have a valid poster URL in their OMDB metadata (metadata.Poster field). However, the downloadPoster utility already has a fallback mechanism to scrape IMDB pages when the OMDB API fails.\n\n**Problem:**\n- 1,598 movies have IMDB IDs (tt*) but no poster URL in their metadata (Poster is 'N/A' or missing)\n- These movies are currently excluded from the download pipeline (line 30-33 filter)\n- The downloadPoster utility can already scrape IMDB pages for these movies (lines 246-268)\n\n**Solution:**\nUpdate the filter pipeline in download.post.ts to include movies that:\n1. Have an IMDB ID (movieId.startsWith('tt'))\n2. Either have a valid poster URL OR no poster URL (remove the Poster URL requirement)\n3. Don't have an existing poster file (unless force=true)\n4. Haven't previously failed (unless force=true)\n\n**Implementation Details:**\n- Modify the filter at lines 28-33 to check for IMDB IDs instead of requiring metadata.Poster\n- The downloadPoster utility will automatically try OMDB API first, then fall back to IMDB scraping\n- This will enable downloading posters for ~1,598 additional movies\n\n**Files to modify:**\n- server/api/admin/posters/download.post.ts (lines 28-33)\n\n**Testing:**\n- Verify movies with IMDB IDs but no poster URL are now included in the download queue\n- Confirm the IMDB scraping fallback works for these entries\n- Check that existing behavior for movies with poster URLs is unchanged","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-24T19:12:18.982977341+01:00","updated_at":"2026-01-24T19:14:01.823596962+01:00","closed_at":"2026-01-24T19:14:01.823596962+01:00"}
{"id":"movies-deluxe-yp3h","title":"Refactor MovieVirtualGrid to use pure cache-based loading","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-12T23:28:50.311824448+01:00","updated_at":"2026-01-13T05:44:45.787760339+01:00","closed_at":"2026-01-13T05:44:45.787764893+01:00"}
{"id":"movies-deluxe-ysej","title":"Create movie search component","description":"Create app/components/AdminMovieSearch.vue with search input field and search results display. Call /api/admin/movies/search API with debounced search (300ms). Display results in list view with small poster thumbnail (64px), title, year, director, and 'Add' button. Show loading state during search. Handle empty results gracefully.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T20:47:15.465128208+01:00","updated_at":"2026-01-03T21:40:24.431793176+01:00","closed_at":"2026-01-03T21:40:24.431793176+01:00","dependencies":[{"issue_id":"movies-deluxe-ysej","depends_on_id":"movies-deluxe-4sbb","type":"blocks","created_at":"2026-01-03T20:48:39.890272609+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-ysti","title":"Create query parser utility for keyword search","description":"Implement a query parser that extracts field-specific keywords from search queries.\n\n## Functionality\n- Parse keywords: actor:, director:, writer:, title:\n- Support quoted strings: actor:\"Tom Hanks\" title:\"Saving Private Ryan\"\n- Support multiple keywords: actor:Tom Hanks director:Spielberg\n- Handle general search (no keywords): search all fields\n- Return structured ParsedQuery object\n\n## Interface\n```typescript\ninterface ParsedQuery {\n  actors?: string[]\n  directors?: string[]\n  writers?: string[]\n  title?: string\n  general?: string // When no keyword specified\n}\n\nfunction parseSearchQuery(query: string): ParsedQuery\n```\n\n## Examples\n- Input: 'actor:Tom Hanks'  { actors: ['Tom Hanks'] }\n- Input: 'actor:Tom Hanks director:Spielberg'  { actors: ['Tom Hanks'], directors: ['Spielberg'] }\n- Input: 'Inception'  { general: 'Inception' }\n- Input: 'title:Matrix actor:Keanu'  { title: 'Matrix', actors: ['Keanu'] }\n\n## File to Create\n- app/utils/searchQueryParser.ts (new file)\n- Add unit tests","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T21:10:01.912183045+01:00","updated_at":"2026-01-18T21:13:06.356741871+01:00","closed_at":"2026-01-18T21:13:06.356741871+01:00","dependencies":[{"issue_id":"movies-deluxe-ysti","depends_on_id":"movies-deluxe-7l8m","type":"discovered-from","created_at":"2026-01-18T21:10:25.941921456+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-yubx","title":"Simplify search modes to semantic/exact and fix mobile popup positioning","description":"**Problem:**\nMultiple issues with the search mode UI on mobile:\n1. Too many search modes - should be simplified to just semantic and exact\n2. Mode selection popup overlaps on the left side on mobile devices\n3. Mode buttons overlap with the search input field\n4. Popup pointer/arrow positioning needs adjustment\n\n**Current Issues:**\n\n**1. Too Many Search Modes:**\n- Current implementation has multiple modes (likely text, vector, filter, etc.)\n- Should be reduced to just two clear options:\n  - **Semantic search** - AI-powered similarity search using embeddings\n  - **Exact search** - Traditional keyword/text matching\n\n**2. Mobile Popup Positioning:**\n- Popup appears too far left and overlaps content\n- Needs to be positioned more to the right\n- Pointer/bubble arrow should be at left X% of the top edge (not centered)\n- Should have proper spacing from screen edges\n\n**3. Mode Buttons Overlap Search Input:**\n- Mode toggle buttons are overlapping the search input field\n- Creates visual clutter and usability issues\n- Buttons need proper spacing or repositioning\n\n**Required Changes:**\n\n**1. Reduce to Two Modes:**\n- Remove all search modes except:\n  - Semantic (vector/AI search)\n  - Exact (traditional text search)\n- Update mode switcher UI to show only these two options\n- Update explanations/tooltips accordingly\n\n**2. Fix Popup Positioning:**\n- Move popup more to the right on mobile\n- Position pointer at left X% (e.g., 20-30%) of bubble top edge instead of center\n- Ensure popup doesn't overflow left screen edge\n- Add proper margin/padding from screen edges\n- Use responsive positioning (different for mobile vs desktop)\n\n**3. Fix Button Overlap:**\n- Ensure mode buttons don't overlap search input\n- Options:\n  - Position buttons outside input (above/below)\n  - Use proper z-index layering\n  - Add margin/padding between elements\n  - Consider making buttons smaller on mobile\n\n**Technical Considerations:**\n- CSS positioning: Use `right` property instead of `left` for mobile\n- Pointer positioning: CSS pseudo-element with `left: 20%` or similar\n- Responsive breakpoints: Different positioning for mobile (\u003c768px) vs desktop\n- Touch targets: Ensure buttons are touch-friendly (min 44x44px)\n- Z-index management: Proper layering to prevent overlaps\n\n**Implementation Steps:**\n1. Remove unused search modes, keep only semantic and exact\n2. Update mode switcher component to show two options\n3. Fix popup positioning with responsive CSS\n4. Adjust pointer/arrow position to left X% of top edge\n5. Fix button overlap with search input\n6. Test on various mobile screen sizes\n7. Verify desktop layout still works\n\n**Files to investigate:**\n- Search mode switcher component\n- Search input component\n- Mode popup/dropdown component\n- Search page layout\n- Related CSS/Tailwind classes\n\n**Acceptance Criteria:**\n- Only two search modes: semantic and exact\n- Popup positioned correctly on mobile (more to the right)\n- Pointer at left X% of bubble top edge\n- No overlap between mode buttons and search input\n- Works on all mobile screen sizes (320px+)\n- Desktop layout unaffected\n- Touch-friendly button sizes on mobile","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-18T20:45:57.885003473+01:00","updated_at":"2026-01-18T20:52:51.172796764+01:00","closed_at":"2026-01-18T20:52:51.172796764+01:00"}
{"id":"movies-deluxe-yugf","title":"Fix movie property access errors on single movie page","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-03T02:42:53.897769712+01:00","updated_at":"2026-01-03T02:44:07.104301296+01:00","closed_at":"2026-01-03T02:44:07.104301296+01:00"}
{"id":"movies-deluxe-yulm","title":"Add collection-to-movie connection in database while keeping collection info in JSON","description":"Add collection-to-movie relationship table in SQLite database to enable efficient querying of movies by collection. Keep collections.json for collection metadata (name, description, etc). Update MovieCard component and single movie view to fetch and display collection info from database instead of client-side JSON lookup.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T11:03:21.312905472+01:00","updated_at":"2026-01-02T12:59:43.825325605+01:00","closed_at":"2026-01-02T12:59:43.825325605+01:00"}
{"id":"movies-deluxe-yv8s","title":"Implement query refresh logic with movie matching","description":"Create server/utils/queryRefresh.ts with logic to:\n- Execute saved query against movie database\n- Apply all filters (search, genres, year, rating, votes, sources)\n- Return matching movie IDs\n- Handle edge cases (no results, invalid filters)\n- Optimize query performance\nThis powers the 'Refresh' button functionality.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-05T22:53:13.935164454+01:00","updated_at":"2026-01-05T23:02:52.295806344+01:00","closed_at":"2026-01-05T23:02:52.295806344+01:00","dependencies":[{"issue_id":"movies-deluxe-yv8s","depends_on_id":"movies-deluxe-6k5e","type":"blocks","created_at":"2026-01-05T22:53:28.963706715+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-yxis","title":"Add Generate Home Pages button to admin UI","description":"Add button in admin dashboard to trigger home page generation with progress indicator and success/error feedback.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T16:21:20.388364001+01:00","updated_at":"2026-01-08T17:18:09.583174144+01:00","closed_at":"2026-01-08T17:18:09.583174144+01:00","dependencies":[{"issue_id":"movies-deluxe-yxis","depends_on_id":"movies-deluxe-i5ag","type":"discovered-from","created_at":"2026-01-08T16:21:42.913331149+01:00","created_by":"daemon"},{"issue_id":"movies-deluxe-yxis","depends_on_id":"movies-deluxe-ihxj","type":"blocks","created_at":"2026-01-08T16:21:50.851671716+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-yz8x","title":"Audit and optimize /liked page","description":"Review the /liked page and apply lazy loading optimizations. Should only load liked movies using fetchMoviesByIds() with liked movie IDs. No need to load entire database. Implement proper loading states.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T22:03:27.824730887+01:00","updated_at":"2026-01-10T22:11:18.652926385+01:00","closed_at":"2026-01-10T22:11:18.652926385+01:00","dependencies":[{"issue_id":"movies-deluxe-yz8x","depends_on_id":"movies-deluxe-fljq","type":"blocks","created_at":"2026-01-10T22:03:51.189647796+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-z1l1","title":"Audit and optimize /collections/[id] page","description":"Review the collections detail page and apply lazy loading optimizations. Should only load movies in the collection using fetchMoviesByIds(). Implement virtual scrolling if collection is large. Add proper loading states.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T22:03:28.932567033+01:00","updated_at":"2026-01-10T22:12:07.393869783+01:00","closed_at":"2026-01-10T22:12:07.393869783+01:00","dependencies":[{"issue_id":"movies-deluxe-z1l1","depends_on_id":"movies-deluxe-fljq","type":"blocks","created_at":"2026-01-10T22:03:51.28003043+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-z4a3","title":"Fix TypeScript errors in FilterSortControl and SearchHeader","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-11T04:56:31.488096688+01:00","updated_at":"2026-01-11T04:58:42.141779583+01:00","closed_at":"2026-01-11T04:58:42.141779583+01:00"}
{"id":"movies-deluxe-z7ru","title":"Fix movie add functionality - missing API endpoint","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-07T01:48:58.142563273+01:00","updated_at":"2026-01-07T01:50:26.709884188+01:00","closed_at":"2026-01-07T01:50:26.709884188+01:00"}
{"id":"movies-deluxe-zdhf","title":"Show admin link in sidebar only on localhost","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T18:44:08.337788383+01:00","updated_at":"2026-01-08T18:46:17.994649925+01:00","closed_at":"2026-01-08T18:46:17.994649925+01:00"}
{"id":"movies-deluxe-zo3y","title":"Add filter menu from /search to admin collection search","description":"Add the filter menu UI from /search page to admin collection search. Use separate local state (not synced with useMovieStore), do not persist filters. Update save current search to store filters, search query, and search mode from the new menu. Support semantic search mode.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-18T23:51:40.370857722+01:00","updated_at":"2026-01-19T00:03:43.954250146+01:00","closed_at":"2026-01-19T00:03:43.954250146+01:00"}
{"id":"movies-deluxe-zvwo","title":"Improve embedding generation for plot with source description fallback and popularity metrics","description":"Enhance the embedding generation process for movie plots:\n- Use source description as fallback when metadata is not available\n- Include rating as a popularity metric\n- Include number of votes as a popularity metric\n\nThis will improve the quality and completeness of embeddings for better search and recommendation capabilities.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-18T22:27:08.320448191+01:00","updated_at":"2026-01-18T22:28:47.489877726+01:00","closed_at":"2026-01-18T22:28:47.489877726+01:00"}
{"id":"movies-deluxe-zwel","title":"Create FilterRatingControl component","description":"Create FilterRatingControl.vue component for rating filter in popup.\n\nRequirements:\n- Single slider (min: 0-10, step 0.5)\n- Show current value (e.g., '7.5+')\n- Visual slider with labels at 0, 5, 10\n- Emit changes to store (setMinRating)\n- Include clear button if not 0\n- Debounce slider changes\n\nLocation: app/components/FilterRatingControl.vue\n\nReference: FilterMenu.vue lines 68-90","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T04:21:21.324461981+01:00","updated_at":"2026-01-11T04:35:01.763919342+01:00","closed_at":"2026-01-11T04:35:01.763919342+01:00","dependencies":[{"issue_id":"movies-deluxe-zwel","depends_on_id":"movies-deluxe-qq6m","type":"blocks","created_at":"2026-01-11T04:24:58.987766712+01:00","created_by":"daemon"}]}
{"id":"movies-deluxe-zyvu","title":"Add lazy loading of embeddings to useVectorSearch","description":"Modify app/composables/useVectorSearch.ts to:\n- Check if embeddings DB is loaded before search\n- Auto-load embeddings DB on first semantic search\n- Show loading state while embeddings DB loads\n- Handle case where embeddings DB fails to load\n- Update both search() and findSimilar() methods\n- Add error messages for missing embeddings","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:26:19.73139838+01:00","updated_at":"2026-01-25T18:37:58.495826864+01:00","closed_at":"2026-01-25T18:37:58.495826864+01:00","dependencies":[{"issue_id":"movies-deluxe-zyvu","depends_on_id":"movies-deluxe-avao","type":"blocks","created_at":"2026-01-25T18:26:32.806698961+01:00","created_by":"daemon"}]}
